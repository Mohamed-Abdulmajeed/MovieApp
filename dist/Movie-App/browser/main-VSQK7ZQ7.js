var lO=Object.defineProperty,uO=Object.defineProperties;var dO=Object.getOwnPropertyDescriptors;var Ru=Object.getOwnPropertySymbols,fO=Object.getPrototypeOf,jC=Object.prototype.hasOwnProperty,BC=Object.prototype.propertyIsEnumerable,hO=Reflect.get;var VC=(n,e,t)=>e in n?lO(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,b=(n,e)=>{for(var t in e||={})jC.call(e,t)&&VC(n,t,e[t]);if(Ru)for(var t of Ru(e))BC.call(e,t)&&VC(n,t,e[t]);return n},H=(n,e)=>uO(n,dO(e));var os=(n,e)=>{var t={};for(var r in n)jC.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&Ru)for(var r of Ru(n))e.indexOf(r)<0&&BC.call(n,r)&&(t[r]=n[r]);return t};var no=(n,e,t)=>hO(fO(n),t,e);var g=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(l){i(l)}},s=c=>{try{a(t.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});var Lm;function xu(){return Lm}function er(n){let e=Lm;return Lm=n,e}var UC=Symbol("NotFound");function ss(n){return n===UC||n?.name==="\u0275NotFound"}var ht=null,Nu=!1,Vm=1,pO=null,pt=Symbol("SIGNAL");function Y(n){let e=ht;return ht=n,e}function Fu(){return ht}var as={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function cs(n){if(Nu)throw new Error("");if(ht===null)return;ht.consumerOnSignalRead(n);let e=ht.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=ht.recomputing;if(r&&(t=e!==void 0?e.nextProducer:ht.producers,t!==void 0&&t.producer===n)){ht.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===ht&&(!r||gO(i,ht)))return;let o=us(ht),s={producer:n,consumer:ht,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};ht.producersTail=s,e!==void 0?e.nextProducer=s:ht.producers=s,o&&WC(n,s)}function HC(){Vm++}function Lu(n){if(!(us(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Vm)){if(!n.producerMustRecompute(n)&&!Ga(n)){ku(n);return}n.producerRecomputeValue(n),ku(n)}}function jm(n){if(n.consumers===void 0)return;let e=Nu;Nu=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||mO(r)}}finally{Nu=e}}function Bm(){return ht?.consumerAllowSignalWrites!==!1}function mO(n){n.dirty=!0,jm(n),n.consumerMarkedDirty?.(n)}function ku(n){n.dirty=!1,n.lastCleanEpoch=Vm}function ls(n){return n&&$C(n),Y(n)}function $C(n){n.producersTail=void 0,n.recomputing=!0}function Wa(n,e){Y(e),n&&zC(n)}function zC(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(us(n))do t=Um(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function Ga(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(Lu(t),r!==t.version))return!0}return!1}function qa(n){if(us(n)){let e=n.producers;for(;e!==void 0;)e=Um(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function WC(n,e){let t=n.consumersTail,r=us(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)WC(i.producer,i)}function Um(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!us(e)){let o=e.producers;for(;o!==void 0;)o=Um(o)}return t}function us(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function Vu(n){pO?.(n)}function gO(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function ju(n,e){return Object.is(n,e)}function Bu(n,e){let t=Object.create(_O);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Lu(t),cs(t),t.value===za)throw t.error;return t.value};return r[pt]=t,Vu(t),r}var Pu=Symbol("UNSET"),Ou=Symbol("COMPUTING"),za=Symbol("ERRORED"),_O=H(b({},as),{value:Pu,dirty:!0,error:null,equal:ju,kind:"computed",producerMustRecompute(n){return n.value===Pu||n.value===Ou},producerRecomputeValue(n){if(n.value===Ou)throw new Error("");let e=n.value;n.value=Ou;let t=ls(n),r,i=!1;try{r=n.computation(),Y(null),i=e!==Pu&&e!==za&&r!==za&&n.equal(e,r)}catch(o){r=za,n.error=o}finally{Wa(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function vO(){throw new Error}var GC=vO;function qC(n){GC(n)}function Hm(n){GC=n}var yO=null;function $m(n,e){let t=Object.create(Uu);t.value=n,e!==void 0&&(t.equal=e);let r=()=>YC(t);return r[pt]=t,Vu(t),[r,s=>ds(t,s),s=>zm(t,s)]}function YC(n){return cs(n),n.value}function ds(n,e){Bm()||qC(n),n.equal(n.value,e)||(n.value=e,bO(n))}function zm(n,e){Bm()||qC(n),ds(n,e(n.value))}var Uu=H(b({},as),{equal:ju,value:void 0,kind:"signal"});function bO(n){n.version++,HC(),jm(n),yO?.(n)}function K(n){return typeof n=="function"}function fs(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Hu=fs(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function ro(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Pe=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(K(r))try{r()}catch(o){e=o instanceof Hu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{KC(o)}catch(s){e=e??[],s instanceof Hu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Hu(e)}}add(e){var t;if(e&&e!==this)if(this.closed)KC(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ro(t,e)}remove(e){let{_finalizers:t}=this;t&&ro(t,e),e instanceof n&&e._removeParent(this)}};Pe.EMPTY=(()=>{let n=new Pe;return n.closed=!0,n})();var Wm=Pe.EMPTY;function $u(n){return n instanceof Pe||n&&"closed"in n&&K(n.remove)&&K(n.add)&&K(n.unsubscribe)}function KC(n){K(n)?n():n.unsubscribe()}var Tn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var hs={setTimeout(n,e,...t){let{delegate:r}=hs;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=hs;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function zu(n){hs.setTimeout(()=>{let{onUnhandledError:e}=Tn;if(e)e(n);else throw n})}function Ya(){}var QC=Gm("C",void 0,void 0);function ZC(n){return Gm("E",void 0,n)}function XC(n){return Gm("N",n,void 0)}function Gm(n,e,t){return{kind:n,value:e,error:t}}var io=null;function ps(n){if(Tn.useDeprecatedSynchronousErrorHandling){let e=!io;if(e&&(io={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=io;if(io=null,t)throw r}}else n()}function JC(n){Tn.useDeprecatedSynchronousErrorHandling&&io&&(io.errorThrown=!0,io.error=n)}var oo=class extends Pe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,$u(e)&&e.add(this)):this.destination=CO}static create(e,t,r){return new ms(e,t,r)}next(e){this.isStopped?Ym(XC(e),this):this._next(e)}error(e){this.isStopped?Ym(ZC(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ym(QC,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},EO=Function.prototype.bind;function qm(n,e){return EO.call(n,e)}var Km=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Wu(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Wu(r)}else Wu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Wu(t)}}},ms=class extends oo{constructor(e,t,r){super();let i;if(K(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Tn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&qm(e.next,o),error:e.error&&qm(e.error,o),complete:e.complete&&qm(e.complete,o)}):i=e}this.destination=new Km(i)}};function Wu(n){Tn.useDeprecatedSynchronousErrorHandling?JC(n):zu(n)}function wO(n){throw n}function Ym(n,e){let{onStoppedNotification:t}=Tn;t&&hs.setTimeout(()=>t(n,e))}var CO={closed:!0,next:Ya,error:wO,complete:Ya};var gs=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ct(n){return n}function Qm(...n){return Zm(n)}function Zm(n){return n.length===0?Ct:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ie=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=DO(t)?t:new ms(t,r,i);return ps(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=eI(r),new r((i,o)=>{let s=new ms({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[gs](){return this}pipe(...t){return Zm(t)(this)}toPromise(t){return t=eI(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function eI(n){var e;return(e=n??Tn.Promise)!==null&&e!==void 0?e:Promise}function IO(n){return n&&K(n.next)&&K(n.error)&&K(n.complete)}function DO(n){return n&&n instanceof oo||IO(n)&&$u(n)}function Xm(n){return K(n?.lift)}function le(n){return e=>{if(Xm(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function te(n,e,t,r,i){return new Jm(n,e,t,r,i)}var Jm=class extends oo{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function _s(){return le((n,e)=>{let t=null;n._refCount++;let r=te(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var vs=class extends ie{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Xm(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pe;let t=this.getSubject();e.add(this.source.subscribe(te(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pe.EMPTY)}return e}refCount(){return _s()(this)}};var tI=fs(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ne=(()=>{class n extends ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Gu(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new tI}next(t){ps(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){ps(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ps(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Wm:(this.currentObservers=null,o.push(t),new Pe(()=>{this.currentObservers=null,ro(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ie;return t.source=this,t}}return n.create=(e,t)=>new Gu(e,t),n})(),Gu=class extends ne{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Wm}};var Te=class extends ne{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var eg={now(){return(eg.delegate||Date).now()},delegate:void 0};var qu=class extends Pe{constructor(e,t){super()}schedule(e,t=0){return this}};var Ka={setInterval(n,e,...t){let{delegate:r}=Ka;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Ka;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Yu=class extends qu{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Ka.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Ka.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ro(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var ys=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};ys.now=eg.now;var Ku=class extends ys{constructor(e,t=ys.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var nI=new Ku(Yu);var Lt=new ie(n=>n.complete());function rI(n){return n&&K(n.schedule)}function iI(n){return n[n.length-1]}function Qu(n){return K(iI(n))?n.pop():void 0}function di(n){return rI(iI(n))?n.pop():void 0}function sI(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}function oI(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function so(n){return this instanceof so?(this.v=n,this):new so(n)}function aI(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(m){return Promise.resolve(m).then(h,d)}}function a(h,m){r[h]&&(i[h]=function(_){return new Promise(function(C,S){o.push([h,_,C,S])>1||c(h,_)})},m&&(i[h]=m(i[h])))}function c(h,m){try{l(r[h](m))}catch(_){f(o[0][3],_)}}function l(h){h.value instanceof so?Promise.resolve(h.value.v).then(u,d):f(o[0][2],h)}function u(h){c("next",h)}function d(h){c("throw",h)}function f(h,m){h(m),o.shift(),o.length&&c(o[0][0],o[0][1])}}function cI(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof oI=="function"?oI(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Zu=n=>n&&typeof n.length=="number"&&typeof n!="function";function Xu(n){return K(n?.then)}function Ju(n){return K(n[gs])}function ed(n){return Symbol.asyncIterator&&K(n?.[Symbol.asyncIterator])}function td(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function SO(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var nd=SO();function rd(n){return K(n?.[nd])}function id(n){return aI(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield so(t.read());if(i)return yield so(void 0);yield yield so(r)}}finally{t.releaseLock()}})}function od(n){return K(n?.getReader)}function We(n){if(n instanceof ie)return n;if(n!=null){if(Ju(n))return TO(n);if(Zu(n))return MO(n);if(Xu(n))return AO(n);if(ed(n))return lI(n);if(rd(n))return RO(n);if(od(n))return xO(n)}throw td(n)}function TO(n){return new ie(e=>{let t=n[gs]();if(K(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function MO(n){return new ie(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function AO(n){return new ie(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,zu)})}function RO(n){return new ie(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function lI(n){return new ie(e=>{NO(n,e).catch(t=>e.error(t))})}function xO(n){return lI(id(n))}function NO(n,e){var t,r,i,o;return sI(this,void 0,void 0,function*(){try{for(t=cI(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Vt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function sd(n,e=0){return le((t,r)=>{t.subscribe(te(r,i=>Vt(r,n,()=>r.next(i),e),()=>Vt(r,n,()=>r.complete(),e),i=>Vt(r,n,()=>r.error(i),e)))})}function ad(n,e=0){return le((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function uI(n,e){return We(n).pipe(ad(e),sd(e))}function dI(n,e){return We(n).pipe(ad(e),sd(e))}function fI(n,e){return new ie(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function hI(n,e){return new ie(t=>{let r;return Vt(t,e,()=>{r=n[nd](),Vt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>K(r?.return)&&r.return()})}function cd(n,e){if(!n)throw new Error("Iterable cannot be null");return new ie(t=>{Vt(t,e,()=>{let r=n[Symbol.asyncIterator]();Vt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function pI(n,e){return cd(id(n),e)}function mI(n,e){if(n!=null){if(Ju(n))return uI(n,e);if(Zu(n))return fI(n,e);if(Xu(n))return dI(n,e);if(ed(n))return cd(n,e);if(rd(n))return hI(n,e);if(od(n))return pI(n,e)}throw td(n)}function je(n,e){return e?mI(n,e):We(n)}function O(...n){let e=di(n);return je(n,e)}function bs(n,e){let t=K(n)?n:()=>n,r=i=>i.error(t());return new ie(e?i=>e.schedule(r,0,i):r)}function tg(n){return!!n&&(n instanceof ie||K(n.lift)&&K(n.subscribe))}var Rr=fs(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function z(n,e){return le((t,r)=>{let i=0;t.subscribe(te(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:PO}=Array;function OO(n,e){return PO(e)?n(...e):n(e)}function ld(n){return z(e=>OO(n,e))}var{isArray:kO}=Array,{getPrototypeOf:FO,prototype:LO,keys:VO}=Object;function ud(n){if(n.length===1){let e=n[0];if(kO(e))return{args:e,keys:null};if(jO(e)){let t=VO(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function jO(n){return n&&typeof n=="object"&&FO(n)===LO}function dd(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Es(...n){let e=di(n),t=Qu(n),{args:r,keys:i}=ud(n);if(r.length===0)return je([],e);let o=new ie(BO(r,e,i?s=>dd(i,s):Ct));return t?o.pipe(ld(t)):o}function BO(n,e,t=Ct){return r=>{gI(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)gI(e,()=>{let l=je(n[c],e),u=!1;l.subscribe(te(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function gI(n,e,t){n?Vt(t,n,e):e()}function _I(n,e,t,r,i,o,s,a){let c=[],l=0,u=0,d=!1,f=()=>{d&&!c.length&&!l&&e.complete()},h=_=>l<r?m(_):c.push(_),m=_=>{o&&e.next(_),l++;let C=!1;We(t(_,u++)).subscribe(te(e,S=>{i?.(S),o?h(S):e.next(S)},()=>{C=!0},void 0,()=>{if(C)try{for(l--;c.length&&l<r;){let S=c.shift();s?Vt(e,s,()=>m(S)):m(S)}f()}catch(S){e.error(S)}}))};return n.subscribe(te(e,h,()=>{d=!0,f()})),()=>{a?.()}}function Qe(n,e,t=1/0){return K(e)?Qe((r,i)=>z((o,s)=>e(r,o,i,s))(We(n(r,i))),t):(typeof e=="number"&&(t=e),le((r,i)=>_I(r,i,n,t)))}function vI(n=1/0){return Qe(Ct,n)}function yI(){return vI(1)}function fi(...n){return yI()(je(n,di(n)))}function Qa(n){return new ie(e=>{We(n()).subscribe(e)})}function ng(...n){let e=Qu(n),{args:t,keys:r}=ud(n),i=new ie(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;We(t[u]).subscribe(te(o,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?dd(r,a):a),o.complete())}))}});return e?i.pipe(ld(e)):i}function mt(n,e){return le((t,r)=>{let i=0;t.subscribe(te(r,o=>n.call(e,o,i++)&&r.next(o)))})}function hi(n){return le((e,t)=>{let r=null,i=!1,o;r=e.subscribe(te(t,void 0,void 0,s=>{o=We(n(s,hi(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function bI(n,e,t,r,i){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(te(s,u=>{let d=l++;c=a?n(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function pi(n,e){return K(e)?Qe(n,e,1):Qe(n,1)}function rg(n,e=nI){return le((t,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function c(){let l=s+n,u=e.now();if(u<l){i=this.schedule(void 0,l-u),r.add(i);return}a()}t.subscribe(te(r,l=>{o=l,s=e.now(),i||(i=e.schedule(c,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function mi(n){return le((e,t)=>{let r=!1;e.subscribe(te(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Mn(n){return n<=0?()=>Lt:le((e,t)=>{let r=0;e.subscribe(te(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function ig(n,e=Ct){return n=n??UO,le((t,r)=>{let i,o=!0;t.subscribe(te(r,s=>{let a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function UO(n,e){return n===e}function fd(n=HO){return le((e,t)=>{let r=!1;e.subscribe(te(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function HO(){return new Rr}function ao(n){return le((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function xr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?mt((i,o)=>n(i,o,r)):Ct,Mn(1),t?mi(e):fd(()=>new Rr))}function ws(n){return n<=0?()=>Lt:le((e,t)=>{let r=[];e.subscribe(te(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function og(n,e){let t=arguments.length>=2;return r=>r.pipe(n?mt((i,o)=>n(i,o,r)):Ct,ws(1),t?mi(e):fd(()=>new Rr))}function sg(n,e){return le(bI(n,e,arguments.length>=2,!0))}function Za(n){return mt((e,t)=>n<=t)}function Xa(...n){let e=di(n);return le((t,r)=>{(e?fi(n,t,e):fi(n,t)).subscribe(r)})}function gt(n,e){return le((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(te(r,c=>{i?.unsubscribe();let l=0,u=o++;We(n(c,u)).subscribe(i=te(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function tr(n){return le((e,t)=>{We(n).subscribe(te(t,()=>t.complete(),Ya)),!t.closed&&e.subscribe(t)})}function tt(n,e,t){let r=K(n)||e||t?{next:n,error:e,complete:t}:n;return r?le((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(te(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ct}function EI(n){let e=Y(null);try{return n()}finally{Y(e)}}var gd="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",w=class extends Error{code;constructor(e,t){super(vi(e,t)),this.code=e}};function $O(n){return`NG0${Math.abs(n)}`}function vi(n,e){return`${$O(n)}${e?": "+e:""}`}var on=globalThis;function ye(n){for(let e in n)if(n[e]===ye)return e;throw Error("")}function II(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Pr(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Pr).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function _d(n,e){return n?e?`${n} ${e}`:n:e||""}var zO=ye({__forward_ref__:ye});function sn(n){return n.__forward_ref__=sn,n.toString=function(){return Pr(this())},n}function st(n){return vg(n)?n():n}function vg(n){return typeof n=="function"&&n.hasOwnProperty(zO)&&n.__forward_ref__===sn}function D(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function _t(n){return{providers:n.providers||[],imports:n.imports||[]}}function nc(n){return WO(n,vd)}function yg(n){return nc(n)!==null}function WO(n,e){return n.hasOwnProperty(e)&&n[e]||null}function GO(n){let e=n?.[vd]??null;return e||null}function cg(n){return n&&n.hasOwnProperty(pd)?n[pd]:null}var vd=ye({\u0275prov:ye}),pd=ye({\u0275inj:ye}),M=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=D({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function bg(n){return n&&!!n.\u0275providers}var Eg=ye({\u0275cmp:ye}),wg=ye({\u0275dir:ye}),Cg=ye({\u0275pipe:ye}),Ig=ye({\u0275mod:ye}),ec=ye({\u0275fac:ye}),ho=ye({__NG_ELEMENT_ID__:ye}),wI=ye({__NG_ENV_ID__:ye});function po(n){return typeof n=="string"?n:n==null?"":String(n)}function DI(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():po(n)}var SI=ye({ngErrorCode:ye}),qO=ye({ngErrorMessage:ye}),YO=ye({ngTokenPath:ye});function Dg(n,e){return TI("",-200,e)}function yd(n,e){throw new w(-201,!1)}function TI(n,e,t){let r=new w(e,n);return r[SI]=e,r[qO]=n,t&&(r[YO]=t),r}function KO(n){return n[SI]}var lg;function MI(){return lg}function It(n){let e=lg;return lg=n,e}function Sg(n,e,t){let r=nc(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;yd(n,"Injector")}var QO={},co=QO,ZO="__NG_DI_FLAG__",ug=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=lo(t)||0;try{return this.injector.get(e,r&8?null:co,r)}catch(i){if(ss(i))return i;throw i}}};function XO(n,e=0){let t=xu();if(t===void 0)throw new w(-203,!1);if(t===null)return Sg(n,void 0,e);{let r=JO(e),i=t.retrieve(n,r);if(ss(i)){if(r.optional)return null;throw i}return i}}function x(n,e=0){return(MI()||XO)(st(n),e)}function p(n,e){return x(n,lo(e))}function lo(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function JO(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function dg(n){let e=[];for(let t=0;t<n.length;t++){let r=st(n[t]);if(Array.isArray(r)){if(r.length===0)throw new w(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=ek(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(x(i,o))}else e.push(x(r))}return e}function ek(n){return n[ZO]}function gi(n,e){let t=n.hasOwnProperty(ec);return t?n[ec]:null}function AI(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function RI(n){return n.flat(Number.POSITIVE_INFINITY)}function bd(n,e){n.forEach(t=>Array.isArray(t)?bd(t,e):e(t))}function Tg(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function rc(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function xI(n,e){let t=[];for(let r=0;r<n;r++)t.push(e);return t}function NI(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function Ed(n,e,t){let r=Is(n,e);return r>=0?n[r|1]=t:(r=~r,NI(n,r,e,t)),r}function wd(n,e){let t=Is(n,e);if(t>=0)return n[t|1]}function Is(n,e){return tk(n,e,1)}function tk(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var yi={},Dt=[],nr=new M(""),Mg=new M("",-1),Ag=new M(""),tc=class{get(e,t=co){if(t===co){let i=TI("",-201);throw i.name="\u0275NotFound",i}return t}};function Rg(n){return n[Ig]||null}function kr(n){return n[Eg]||null}function xg(n){return n[wg]||null}function PI(n){return n[Cg]||null}function rr(n){return{\u0275providers:n}}function OI(n){return rr([{provide:nr,multi:!0,useValue:n}])}function kI(...n){return{\u0275providers:Ng(!0,n),\u0275fromNgModule:!0}}function Ng(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return bd(e,s=>{let a=s;md(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&FI(i,o),t}function FI(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Pg(i,o=>{e(o,r)})}}function md(n,e,t,r){if(n=st(n),!n)return!1;let i=null,o=cg(n),s=!o&&kr(n);if(!o&&!s){let c=n.ngModule;if(o=cg(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)md(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{bd(o.imports,u=>{md(u,e,t,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&FI(l,e)}if(!a){let l=gi(i)||(()=>new i);e({provide:i,useFactory:l,deps:Dt},i),e({provide:Ag,useValue:i,multi:!0},i),e({provide:nr,useValue:()=>x(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=n;Pg(c,u=>{e(u,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Pg(n,e){for(let t of n)bg(t)&&(t=t.\u0275providers),Array.isArray(t)?Pg(t,e):e(t)}var nk=ye({provide:String,useValue:ye});function LI(n){return n!==null&&typeof n=="object"&&nk in n}function rk(n){return!!(n&&n.useExisting)}function ik(n){return!!(n&&n.useFactory)}function uo(n){return typeof n=="function"}function VI(n){return!!n.useClass}var ic=new M(""),hd={},CI={},ag;function Ds(){return ag===void 0&&(ag=new tc),ag}var xe=class{},fo=class extends xe{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,hg(e,s=>this.processProvider(s)),this.records.set(Mg,Cs(void 0,this)),i.has("environment")&&this.records.set(xe,Cs(void 0,this));let o=this.records.get(ic);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Ag,Dt,{self:!0}))}retrieve(e,t){let r=lo(t)||0;try{return this.get(e,co,r)}catch(i){if(ss(i))return i;throw i}}destroy(){Ja(this),this._destroyed=!0;let e=Y(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Y(e)}}onDestroy(e){return Ja(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ja(this);let t=er(this),r=It(void 0),i;try{return e()}finally{er(t),It(r)}}get(e,t=co,r){if(Ja(this),e.hasOwnProperty(wI))return e[wI](this);let i=lo(r),o,s=er(this),a=It(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let u=lk(e)&&nc(e);u&&this.injectableDefInScope(u)?l=Cs(fg(e),hd):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let c=i&2?Ds():this.parent;return t=i&8&&t===co?null:t,c.get(e,t)}catch(c){let l=KO(c);throw l===-200||l===-201?new w(l,null):c}finally{It(a),er(s)}}resolveInjectorInitializers(){let e=Y(null),t=er(this),r=It(void 0),i;try{let o=this.get(nr,Dt,{self:!0});for(let s of o)s()}finally{er(t),It(r),Y(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Pr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=st(e);let t=uo(e)?e:st(e&&e.provide),r=sk(e);if(!uo(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Cs(void 0,hd,!0),i.factory=()=>dg(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=Y(null);try{if(t.value===CI)throw Dg(Pr(e));return t.value===hd&&(t.value=CI,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&ck(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Y(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=st(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function fg(n){let e=nc(n),t=e!==null?e.factory:gi(n);if(t!==null)return t;if(n instanceof M)throw new w(204,!1);if(n instanceof Function)return ok(n);throw new w(204,!1)}function ok(n){if(n.length>0)throw new w(204,!1);let t=GO(n);return t!==null?()=>t.factory(n):()=>new n}function sk(n){if(LI(n))return Cs(void 0,n.useValue);{let e=Og(n);return Cs(e,hd)}}function Og(n,e,t){let r;if(uo(n)){let i=st(n);return gi(i)||fg(i)}else if(LI(n))r=()=>st(n.useValue);else if(ik(n))r=()=>n.useFactory(...dg(n.deps||[]));else if(rk(n))r=(i,o)=>x(st(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=st(n&&(n.useClass||n.provide));if(ak(n))r=()=>new i(...dg(n.deps));else return gi(i)||fg(i)}return r}function Ja(n){if(n.destroyed)throw new w(205,!1)}function Cs(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function ak(n){return!!n.deps}function ck(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function lk(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function hg(n,e){for(let t of n)Array.isArray(t)?hg(t,e):t&&bg(t)?hg(t.\u0275providers,e):e(t)}function at(n,e){let t;n instanceof fo?(Ja(n),t=n):t=new ug(n);let r,i=er(t),o=It(void 0);try{return e()}finally{er(i),It(o)}}function jI(){return MI()!==void 0||xu()!=null}var Rn=0,U=1,$=2,nt=3,an=4,St=5,Ss=6,Ts=7,ct=8,bi=9,ir=10,Ne=11,Ms=12,kg=13,mo=14,jt=15,Ei=16,go=17,or=18,oc=19,Fg=20,Nr=21,Cd=22,sc=23,Jt=24,_o=25,ac=26,Oe=27,BI=1;var wi=7,cc=8,vo=9,vt=10;function sr(n){return Array.isArray(n)&&typeof n[BI]=="object"}function xn(n){return Array.isArray(n)&&n[BI]===!0}function Lg(n){return(n.flags&4)!==0}function Ci(n){return n.componentOffset>-1}function lc(n){return(n.flags&1)===1}function ar(n){return!!n.template}function As(n){return(n[$]&512)!==0}function yo(n){return(n[$]&256)===256}var Vg="svg",UI="math";function cn(n){for(;Array.isArray(n);)n=n[Rn];return n}function jg(n,e){return cn(e[n])}function Nn(n,e){return cn(e[n.index])}function uc(n,e){return n.data[e]}function dc(n,e){return n[e]}function Bg(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function ln(n,e){let t=e[n];return sr(t)?t:t[Rn]}function HI(n){return(n[$]&4)===4}function Id(n){return(n[$]&128)===128}function $I(n){return xn(n[nt])}function cr(n,e){return e==null?null:n[e]}function Ug(n){n[go]=0}function Hg(n){n[$]&1024||(n[$]|=1024,Id(n)&&Rs(n))}function zI(n,e){for(;n>0;)e=e[mo],n--;return e}function fc(n){return!!(n[$]&9216||n[Jt]?.dirty)}function Dd(n){n[ir].changeDetectionScheduler?.notify(8),n[$]&64&&(n[$]|=1024),fc(n)&&Rs(n)}function Rs(n){n[ir].changeDetectionScheduler?.notify(0);let e=_i(n);for(;e!==null&&!(e[$]&8192||(e[$]|=8192,!Id(e)));)e=_i(e)}function $g(n,e){if(yo(n))throw new w(911,!1);n[Nr]===null&&(n[Nr]=[]),n[Nr].push(e)}function WI(n,e){if(n[Nr]===null)return;let t=n[Nr].indexOf(e);t!==-1&&n[Nr].splice(t,1)}function _i(n){let e=n[nt];return xn(e)?e[nt]:e}function zg(n){return n[Ts]??=[]}function Wg(n){return n.cleanup??=[]}function GI(n,e,t,r){let i=zg(e);i.push(t),n.firstCreatePass&&Wg(n).push(r,i.length-1)}var X={lFrame:i0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var pg=!1;function qI(){return X.lFrame.elementDepthCount}function YI(){X.lFrame.elementDepthCount++}function Gg(){X.lFrame.elementDepthCount--}function qg(){return X.bindingsEnabled}function Yg(){return X.skipHydrationRootTNode!==null}function Kg(n){return X.skipHydrationRootTNode===n}function Qg(){X.skipHydrationRootTNode=null}function W(){return X.lFrame.lView}function $e(){return X.lFrame.tView}function J(n){return X.lFrame.contextLView=n,n[ct]}function ee(n){return X.lFrame.contextLView=null,n}function yt(){let n=Zg();for(;n!==null&&n.type===64;)n=n.parent;return n}function Zg(){return X.lFrame.currentTNode}function KI(){let n=X.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function xs(n,e){let t=X.lFrame;t.currentTNode=n,t.isParent=e}function Xg(){return X.lFrame.isParent}function Jg(){X.lFrame.isParent=!1}function QI(){return X.lFrame.contextLView}function e_(){return pg}function t_(n){let e=pg;return pg=n,e}function hc(){let n=X.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function ZI(){return X.lFrame.bindingIndex}function XI(n){return X.lFrame.bindingIndex=n}function bo(){return X.lFrame.bindingIndex++}function Sd(n){let e=X.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function JI(){return X.lFrame.inI18n}function e0(n,e){let t=X.lFrame;t.bindingIndex=t.bindingRootIndex=n,Td(e)}function t0(){return X.lFrame.currentDirectiveIndex}function Td(n){X.lFrame.currentDirectiveIndex=n}function n0(n){let e=X.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function n_(){return X.lFrame.currentQueryIndex}function Md(n){X.lFrame.currentQueryIndex=n}function uk(n){let e=n[U];return e.type===2?e.declTNode:e.type===1?n[St]:null}function r_(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=uk(o),i===null||(o=o[mo],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=X.lFrame=r0();return r.currentTNode=e,r.lView=n,!0}function Ad(n){let e=r0(),t=n[U];X.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function r0(){let n=X.lFrame,e=n===null?null:n.child;return e===null?i0(n):e}function i0(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function o0(){let n=X.lFrame;return X.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var i_=o0;function Rd(){let n=o0();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function s0(n){return(X.lFrame.contextLView=zI(n,X.lFrame.contextLView))[ct]}function Fr(){return X.lFrame.selectedIndex}function Ii(n){X.lFrame.selectedIndex=n}function pc(){let n=X.lFrame;return uc(n.tView,n.selectedIndex)}function xd(){X.lFrame.currentNamespace=Vg}function a0(){return X.lFrame.currentNamespace}var c0=!0;function Nd(){return c0}function Pd(n){c0=n}function mg(n,e=null,t=null,r){let i=o_(n,e,t,r);return i.resolveInjectorInitializers(),i}function o_(n,e=null,t=null,r,i=new Set){let o=[t||Dt,kI(n)];return r=r||(typeof n=="object"?void 0:Pr(n)),new fo(o,e||Ds(),r||null,i)}var De=class n{static THROW_IF_NOT_FOUND=co;static NULL=new tc;static create(e,t){if(Array.isArray(e))return mg({name:""},t,e,"");{let r=e.name??"";return mg({name:r},e.parent,e.providers,r)}}static \u0275prov=D({token:n,providedIn:"any",factory:()=>x(Mg)});static __NG_ELEMENT_ID__=-1},re=new M(""),Pn=(()=>{class n{static __NG_ELEMENT_ID__=dk;static __NG_ENV_ID__=t=>t}return n})(),gg=class extends Pn{_lView;constructor(e){super(),this._lView=e}get destroyed(){return yo(this._lView)}onDestroy(e){let t=this._lView;return $g(t,e),()=>WI(t,e)}};function dk(){return new gg(W())}var An=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Tt=new M("",{providedIn:"root",factory:()=>{let n=p(xe),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(An),e.handleError(t))}}}),l0={provide:nr,useValue:()=>void p(An),multi:!0},fk=new M("",{providedIn:"root",factory:()=>{let n=p(re).defaultView;if(!n)return;let e=p(Tt),t=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),p(Pn).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function s_(){return rr([OI(()=>void p(fk))])}function a_(n){return typeof n=="function"&&n[pt]!==void 0}function Bt(n,e){let[t,r,i]=$m(n,e?.equal),o=t,s=o[pt];return o.set=r,o.update=i,o.asReadonly=u0.bind(o),o}function u0(){let n=this[pt];if(n.readonlyFn===void 0){let e=()=>this();e[pt]=n,n.readonlyFn=e}return n.readonlyFn}function c_(n){return a_(n)&&typeof n.set=="function"}var Od=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=hk}return n})();function hk(){return new Od(W(),yt())}var Or=class{},Ns=new M("",{providedIn:"root",factory:()=>!1});var l_=new M(""),u_=new M(""),lr=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Te(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ie(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=D({token:n,providedIn:"root",factory:()=>new n})}return n})(),kd=(()=>{class n{internalPendingTasks=p(lr);scheduler=p(Or);errorHandler=p(Tt);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=D({token:n,providedIn:"root",factory:()=>new n})}return n})();function mc(...n){}var d_=(()=>{class n{static \u0275prov=D({token:n,providedIn:"root",factory:()=>new _g})}return n})(),_g=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function wc(n){return{toString:n}.toString()}function bk(n){return typeof n=="function"}var Wd=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function z0(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var jr=(()=>{let n=()=>W0;return n.ngInherit=!0,n})();function W0(n){return n.type.prototype.ngOnChanges&&(n.setInput=wk),Ek}function Ek(){let n=q0(this),e=n?.current;if(e){let t=n.previous;if(t===yi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function wk(n,e,t,r,i){let o=this.declaredInputs[r],s=q0(n)||Ck(n,{previous:yi,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Wd(l&&l.currentValue,t,c===yi),z0(n,e,i,t)}var G0="__ngSimpleChanges__";function q0(n){return n[G0]||null}function Ck(n,e){return n[G0]=e}var d0=[];var Ee=function(n,e=null,t){for(let r=0;r<d0.length;r++){let i=d0[r];i(n,e,t)}};function Ik(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=W0(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Y0(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function Ud(n,e,t){K0(n,e,3,t)}function Hd(n,e,t,r){(n[$]&3)===t&&K0(n,e,t,r)}function f_(n,e){let t=n[$];(t&3)===e&&(t&=16383,t+=1,n[$]=t)}function K0(n,e,t,r){let i=r!==void 0?n[go]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[go]+=65536),(a<o||o==-1)&&(Dk(n,t,e,c),n[go]=(n[go]&4294901760)+c+2),c++}function f0(n,e){Ee(4,n,e);let t=Y(null);try{e.call(n)}finally{Y(t),Ee(5,n,e)}}function Dk(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[$]>>14<n[go]>>16&&(n[$]&3)===e&&(n[$]+=16384,f0(a,o)):f0(a,o)}var Os=-1,wo=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function Sk(n){return(n.flags&8)!==0}function Tk(n){return(n.flags&16)!==0}function Mk(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];Rk(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function Ak(n){return n===3||n===4||n===6}function Rk(n){return n.charCodeAt(0)===64}function ks(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?h0(n,t,i,null,e[++r]):h0(n,t,i,null,null))}}return n}function h0(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function Q0(n){return n!==Os}function Gd(n){return n&32767}function xk(n){return n>>16}function qd(n,e){let t=xk(n),r=e;for(;t>0;)r=r[mo],t--;return r}var C_=!0;function Yd(n){let e=C_;return C_=n,e}var Nk=256,Z0=Nk-1,X0=5,Pk=0,ur={};function Ok(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(ho)&&(r=t[ho]),r==null&&(r=t[ho]=Pk++);let i=r&Z0,o=1<<i;e.data[n+(i>>X0)]|=o}function Kd(n,e){let t=J0(n,e);if(t!==-1)return t;let r=e[U];r.firstCreatePass&&(n.injectorIndex=e.length,h_(r.data,n),h_(e,null),h_(r.blueprint,null));let i=rv(n,e),o=n.injectorIndex;if(Q0(i)){let s=Gd(i),a=qd(i,e),c=a[U].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function h_(n,e){n.push(0,0,0,0,0,0,0,0,e)}function J0(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function rv(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=iD(i),r===null)return Os;if(t++,i=i[mo],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Os}function I_(n,e,t){Ok(n,e,t)}function eD(n,e,t){if(t&8||n!==void 0)return n;yd(e,"NodeInjector")}function tD(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[bi],o=It(void 0);try{return i?i.get(e,r,t&8):Sg(e,r,t&8)}finally{It(o)}}return eD(r,e,t)}function nD(n,e,t,r=0,i){if(n!==null){if(e[$]&2048&&!(r&2)){let s=Vk(n,e,t,r,ur);if(s!==ur)return s}let o=rD(n,e,t,r,ur);if(o!==ur)return o}return tD(e,t,r,i)}function rD(n,e,t,r,i){let o=Fk(t);if(typeof o=="function"){if(!r_(e,n,r))return r&1?eD(i,t,r):tD(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))yd(t);else return s}finally{i_()}}else if(typeof o=="number"){let s=null,a=J0(n,e),c=Os,l=r&1?e[jt][St]:null;for((a===-1||r&4)&&(c=a===-1?rv(n,e):e[a+8],c===Os||!m0(r,!1)?a=-1:(s=e[U],a=Gd(c),e=qd(c,e)));a!==-1;){let u=e[U];if(p0(o,a,u.data)){let d=kk(a,e,t,s,r,l);if(d!==ur)return d}c=e[a+8],c!==Os&&m0(r,e[U].data[a+8]===l)&&p0(o,a,e)?(s=u,a=Gd(c),e=qd(c,e)):a=-1}}return i}function kk(n,e,t,r,i,o){let s=e[U],a=s.data[n+8],c=r==null?Ci(a)&&C_:r!=s&&(a.type&3)!==0,l=i&1&&o===a,u=$d(a,s,t,c,l);return u!==null?vc(e,s,u,a,i):ur}function $d(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,l=n.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:l;for(let h=d;h<f;h++){let m=s[h];if(h<c&&t===m||h>=c&&m.type===t)return h}if(i){let h=s[c];if(h&&ar(h)&&h.type===t)return c}return null}function vc(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof wo){let a=o;if(a.resolving){let h=DI(s[t]);throw Dg(h)}let c=Yd(a.canSeeViewProviders);a.resolving=!0;let l=s[t].type||s[t],u,d=a.injectImpl?It(a.injectImpl):null,f=r_(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&Ik(t,s[t],e)}finally{d!==null&&It(d),Yd(c),a.resolving=!1,i_()}}return o}function Fk(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(ho)?n[ho]:void 0;return typeof e=="number"?e>=0?e&Z0:Lk:e}function p0(n,e,t){let r=1<<n;return!!(t[e+(n>>X0)]&r)}function m0(n,e){return!(n&2)&&!(n&1&&e)}var Eo=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return nD(this._tNode,this._lView,e,lo(r),t)}};function Lk(){return new Eo(yt(),W())}function Ut(n){return wc(()=>{let e=n.prototype.constructor,t=e[ec]||D_(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[ec]||D_(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function D_(n){return vg(n)?()=>{let e=D_(st(n));return e&&e()}:gi(n)}function Vk(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[$]&2048&&!As(s);){let a=rD(o,s,t,r|2,ur);if(a!==ur)return a;let c=o.parent;if(!c){let l=s[Fg];if(l){let u=l.get(t,ur,r);if(u!==ur)return u}c=iD(s),s=s[mo]}o=c}return i}function iD(n){let e=n[U],t=e.type;return t===2?e.declTNode:t===1?n[St]:null}function jk(){return js(yt(),W())}function js(n,e){return new ke(Nn(n,e))}var ke=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=jk}return n})();function Bk(n){return n instanceof ke?n.nativeElement:n}function Uk(){return this._results[Symbol.iterator]()}var Qd=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new ne}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=RI(e);(this._changesDetected=!AI(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Uk};function oD(n){return(n.flags&128)===128}var iv=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(iv||{}),sD=new Map,Hk=0;function $k(){return Hk++}function zk(n){sD.set(n[oc],n)}function S_(n){sD.delete(n[oc])}var g0="__ngContext__";function Fs(n,e){sr(e)?(n[g0]=e[oc],zk(e)):n[g0]=e}function aD(n){return lD(n[Ms])}function cD(n){return lD(n[an])}function lD(n){for(;n!==null&&!xn(n);)n=n[an];return n}var T_;function ov(n){T_=n}function uD(){if(T_!==void 0)return T_;if(typeof document<"u")return document;throw new w(210,!1)}var Bs=new M("",{providedIn:"root",factory:()=>Wk}),Wk="ng",df=new M(""),Si=new M("",{providedIn:"platform",factory:()=>"unknown"});var Ti=new M(""),Us=new M("",{providedIn:"root",factory:()=>uD().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Gk="h",qk="b";var dD=!1,fD=new M("",{providedIn:"root",factory:()=>dD});var Yk=(n,e,t,r)=>{};function Kk(n,e,t,r){Yk(n,e,t,r)}function ff(n){return(n.flags&32)===32}var Qk=()=>null;function hD(n,e,t=!1){return Qk(n,e,t)}function pD(n,e){let t=n.contentQueries;if(t!==null){let r=Y(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Md(o),a.contentQueries(2,e[s],s)}}}finally{Y(r)}}}function M_(n,e,t){Md(0);let r=Y(null);try{e(n,t)}finally{Y(r)}}function mD(n,e,t){if(Lg(e)){let r=Y(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{Y(r)}}}var Lr=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(Lr||{}),Fd;function Zk(){if(Fd===void 0&&(Fd=null,on.trustedTypes))try{Fd=on.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Fd}function hf(n){return Zk()?.createHTML(n)||n}var Ld;function Xk(){if(Ld===void 0&&(Ld=null,on.trustedTypes))try{Ld=on.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ld}function _0(n){return Xk()?.createScriptURL(n)||n}var Vr=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${gd})`}},A_=class extends Vr{getTypeName(){return"HTML"}},R_=class extends Vr{getTypeName(){return"Style"}},x_=class extends Vr{getTypeName(){return"Script"}},N_=class extends Vr{getTypeName(){return"URL"}},P_=class extends Vr{getTypeName(){return"ResourceURL"}};function Fn(n){return n instanceof Vr?n.changingThisBreaksApplicationSecurity:n}function Br(n,e){let t=gD(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${gd})`)}return t===e}function gD(n){return n instanceof Vr&&n.getTypeName()||null}function sv(n){return new A_(n)}function av(n){return new R_(n)}function cv(n){return new x_(n)}function lv(n){return new N_(n)}function uv(n){return new P_(n)}function Jk(n){let e=new k_(n);return e1()?new O_(e):e}var O_=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(hf(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},k_=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=hf(e),t}};function e1(){try{return!!new window.DOMParser().parseFromString(hf(""),"text/html")}catch{return!1}}var t1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Cc(n){return n=String(n),n.match(t1)?n:"unsafe:"+n}function Ur(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function Ic(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}var _D=Ur("area,br,col,hr,img,wbr"),vD=Ur("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),yD=Ur("rp,rt"),n1=Ic(yD,vD),r1=Ic(vD,Ur("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),i1=Ic(yD,Ur("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),v0=Ic(_D,r1,i1,n1),bD=Ur("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),o1=Ur("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),s1=Ur("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),a1=Ic(bD,o1,s1),c1=Ur("script,style,template"),F_=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=d1(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=u1(t);if(o){t=o;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=y0(e).toLowerCase();if(!v0.hasOwnProperty(t))return this.sanitizedSomething=!0,!c1.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!a1.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;bD[a]&&(c=Cc(c)),this.buf.push(" ",s,'="',b0(c),'"')}return this.buf.push(">"),!0}endElement(e){let t=y0(e).toLowerCase();v0.hasOwnProperty(t)&&!_D.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(b0(e))}};function l1(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function u1(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw ED(e);return e}function d1(n){let e=n.firstChild;if(e&&l1(n,e))throw ED(e);return e}function y0(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function ED(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var f1=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,h1=/([^\#-~ |!])/g;function b0(n){return n.replace(/&/g,"&amp;").replace(f1,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(h1,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Vd;function dv(n,e){let t=null;try{Vd=Vd||Jk(n);let r=e?String(e):"";t=Vd.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=Vd.getInertBodyElement(r)}while(r!==o);let a=new F_().sanitizeChildren(E0(t)||t);return hf(a)}finally{if(t){let r=E0(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function E0(n){return"content"in n&&p1(n)?n.content:null}function p1(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var Ln=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(Ln||{});function hr(n){let e=wD();return e?e.sanitize(Ln.URL,n)||"":Br(n,"URL")?Fn(n):Cc(po(n))}function fv(n){let e=wD();if(e)return _0(e.sanitize(Ln.RESOURCE_URL,n)||"");if(Br(n,"ResourceURL"))return _0(Fn(n));throw new w(904,!1)}function wD(){let n=W();return n&&n[ir].sanitizer}function hv(n){return n.ownerDocument.defaultView}function CD(n){return n instanceof Function?n():n}function m1(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var ID="ng-template";function g1(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&m1(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(pv(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function pv(n){return n.type===4&&n.value!==ID}function _1(n,e,t){let r=n.type===4&&!t?ID:n.value;return e===r}function v1(n,e,t){let r=4,i=n.attrs,o=i!==null?E1(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!On(r)&&!On(c))return!1;if(s&&On(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!_1(n,c,t)||c===""&&e.length===1){if(On(r))return!1;s=!0}}else if(r&8){if(i===null||!g1(n,i,c,t)){if(On(r))return!1;s=!0}}else{let l=e[++a],u=y1(c,i,pv(n),t);if(u===-1){if(On(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(On(r))return!1;s=!0}}}}return On(r)||s}function On(n){return(n&1)===0}function y1(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return w1(e,n)}function DD(n,e,t=!1){for(let r=0;r<e.length;r++)if(v1(n,e[r],t))return!0;return!1}function b1(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if((t&1)===0)return e[t+1]}return null}function E1(n){for(let e=0;e<n.length;e++){let t=n[e];if(Ak(t))return e}return n.length}function w1(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function C1(n,e){e:for(let t=0;t<e.length;t++){let r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function w0(n,e){return n?":not("+e.trim()+")":e}function I1(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!On(s)&&(e+=w0(o,i),i=""),r=s,o=o||!On(r);t++}return i!==""&&(e+=w0(o,i)),e}function D1(n){return n.map(I1).join(",")}function S1(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!On(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Mt={};function T1(n,e){return n.createText(e)}function M1(n,e,t){n.setValue(e,t)}function SD(n,e,t){return n.createElement(e,t)}function Zd(n,e,t,r,i){n.insertBefore(e,t,r,i)}function TD(n,e,t){n.appendChild(e,t)}function C0(n,e,t,r,i){r!==null?Zd(n,e,t,r,i):TD(n,e,t)}function A1(n,e,t,r){n.removeChild(null,e,t,r)}function R1(n,e,t){n.setAttribute(e,"style",t)}function x1(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function MD(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&Mk(n,e,r),i!==null&&x1(n,e,i),o!==null&&R1(n,e,o)}function mv(n,e,t,r,i,o,s,a,c,l,u){let d=Oe+r,f=d+i,h=N1(d,f),m=typeof l=="function"?l():l;return h[U]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:m,incompleteFirstPass:!1,ssrId:u}}function N1(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Mt);return t}function P1(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=mv(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function gv(n,e,t,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[Rn]=i,d[$]=r|4|128|8|64|1024,(l!==null||n&&n[$]&2048)&&(d[$]|=2048),Ug(d),d[nt]=d[mo]=n,d[ct]=t,d[ir]=s||n&&n[ir],d[Ne]=a||n&&n[Ne],d[bi]=c||n&&n[bi]||null,d[St]=o,d[oc]=$k(),d[Ss]=u,d[Fg]=l,d[jt]=e.type==2?n[jt]:d,d}function O1(n,e,t){let r=Nn(e,n),i=P1(t),o=n[ir].rendererFactory,s=_v(n,gv(n,i,null,AD(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function AD(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function RD(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function _v(n,e){return n[Ms]?n[kg][an]=e:n[Ms]=e,n[kg]=e,e}function I(n=1){xD($e(),W(),Fr()+n,!1)}function xD(n,e,t,r){if(!r)if((e[$]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Ud(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Hd(e,o,0,t)}Ii(t)}var pf=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(pf||{});function L_(n,e,t,r){let i=Y(null);try{let[o,s,a]=n.inputs[t],c=null;(s&pf.SignalBased)!==0&&(c=e[o][pt]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,o):z0(e,c,o,r)}finally{Y(i)}}var dr=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(dr||{}),k1;function vv(n,e){return k1(n,e)}var Ls=new Set,mf=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(mf||{}),Do=new M(""),I0=new Set;function pr(n){I0.has(n)||(I0.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var ND=!1,V_=class extends ne{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,jI()&&(this.destroyRef=p(Pn,{optional:!0})??void 0,this.pendingTasks=p(lr,{optional:!0})??void 0)}emit(e){let t=Y(null);try{super.next(e)}finally{Y(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Pe&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Me=V_;function PD(n){let e,t;function r(){n=mc;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function D0(n){return queueMicrotask(()=>n()),()=>{n=mc}}var yv="isAngularZone",Xd=yv+"_ID",F1=0,Q=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Me(!1);onMicrotaskEmpty=new Me(!1);onStable=new Me(!1);onError=new Me(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=ND}=e;if(typeof Zone>"u")throw new w(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,j1(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(yv)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new w(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new w(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,L1,mc,mc);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},L1={};function bv(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function V1(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){PD(()=>{n.callbackScheduled=!1,j_(n),n.isCheckStableRunning=!0,bv(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),j_(n)}function j1(n){let e=()=>{V1(n)},t=F1++;n._inner=n._inner.fork({name:"angular",properties:{[yv]:!0,[Xd]:t,[Xd+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(B1(c))return r.invokeTask(o,s,a,c);try{return S0(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),T0(n)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return S0(n),r.invoke(o,s,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!U1(c)&&e(),T0(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,j_(n),bv(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function j_(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function S0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function T0(n){n._nesting--,bv(n)}var Jd=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Me;onMicrotaskEmpty=new Me;onStable=new Me;onError=new Me;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function B1(n){return OD(n,"__ignore_ng_zone__")}function U1(n){return OD(n,"__scheduler_tick__")}function OD(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Ev=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=D({token:n,providedIn:"root",factory:()=>new n})}return n})(),kD=[0,1,2,3],FD=(()=>{class n{ngZone=p(Q);scheduler=p(Or);errorHandler=p(An,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){p(Do,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Ee(16),this.executing=!0;for(let r of kD)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Ee(17)}register(t){let{view:r}=t;r!==void 0?((r[_o]??=[]).push(t),Rs(r),r[$]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(mf.AFTER_NEXT_RENDER,t):t()}static \u0275prov=D({token:n,providedIn:"root",factory:()=>new n})}return n})(),ef=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[_o];e&&(this.view[_o]=e.filter(t=>t!==this))}};function Vn(n,e){let t=e?.injector??p(De);return pr("NgAfterNextRender"),$1(n,t,e,!0)}function H1(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function $1(n,e,t,r){let i=e.get(Ev);i.impl??=e.get(FD);let o=e.get(Do,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(Pn):null,a=e.get(Od,null,{optional:!0}),c=new ef(i.impl,H1(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(c),c}var z1=new M("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function LD(n,e){let t=n.get(z1);if(Array.isArray(e))for(let r of e)t.queue.add(r);else t.queue.add(e);t.scheduler&&t.scheduler(n)}function W1(n,e){for(let[t,r]of e)LD(n,r.animateFns)}function M0(n,e,t,r){let i=n?.[ac]?.enter;e!==null&&i&&i.has(t.index)&&W1(r,i)}function Ps(n,e,t,r,i,o,s,a){if(i!=null){let c,l=!1;xn(i)?c=i:sr(i)&&(l=!0,i=i[Rn]);let u=cn(i);n===0&&r!==null?(M0(a,r,o,t),s==null?TD(e,r,u):Zd(e,r,u,s||null,!0)):n===1&&r!==null?(M0(a,r,o,t),Zd(e,r,u,s||null,!0)):n===2?A0(a,o,t,d=>{A1(e,u,l,d)}):n===3&&A0(a,o,t,()=>{e.destroyNode(u)}),c!=null&&nF(e,n,t,c,o,r,s)}}function G1(n,e){VD(n,e),e[Rn]=null,e[St]=null}function q1(n,e,t,r,i,o){r[Rn]=i,r[St]=e,gf(n,r,t,1,i,o)}function VD(n,e){e[ir].changeDetectionScheduler?.notify(9),gf(n,e,e[Ne],2,null,null)}function Y1(n){let e=n[Ms];if(!e)return p_(n[U],n);for(;e;){let t=null;if(sr(e))t=e[Ms];else{let r=e[vt];r&&(t=r)}if(!t){for(;e&&!e[an]&&e!==n;)sr(e)&&p_(e[U],e),e=e[nt];e===null&&(e=n),sr(e)&&p_(e[U],e),t=e&&e[an]}e=t}}function wv(n,e){let t=n[vo],r=t.indexOf(e);t.splice(r,1)}function Cv(n,e){if(yo(e))return;let t=e[Ne];t.destroyNode&&gf(n,e,t,3,null,null),Y1(e)}function p_(n,e){if(yo(e))return;let t=Y(null);try{e[$]&=-129,e[$]|=256,e[Jt]&&qa(e[Jt]),Z1(n,e),Q1(n,e),e[U].type===1&&e[Ne].destroy();let r=e[Ei];if(r!==null&&xn(e[nt])){r!==e[nt]&&wv(r,e);let i=e[or];i!==null&&i.detachView(n)}S_(e)}finally{Y(t)}}function A0(n,e,t,r){let i=n?.[ac];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);if(i.skipLeaveAnimations)return i.skipLeaveAnimations=!1,r(!1);n&&Ls.add(n),LD(t,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s)for(let c=0;c<s.animateFns.length;c++){let l=s.animateFns[c],{promise:u}=l();a.push(u)}i.running=Promise.allSettled(a),K1(n,r)}else n&&Ls.delete(n),r(!1)})}function K1(n,e){let t=n[ac]?.running;if(t){t.then(()=>{n[ac].running=void 0,Ls.delete(n),e(!0)});return}e(!1)}function Q1(n,e){let t=n.cleanup,r=e[Ts];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[Ts]=null);let i=e[Nr];if(i!==null){e[Nr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[sc];if(o!==null){e[sc]=null;for(let s of o)s.destroy()}}function Z1(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof wo)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Ee(4,a,c);try{c.call(a)}finally{Ee(5,a,c)}}else{Ee(4,i,o);try{o.call(i)}finally{Ee(5,i,o)}}}}}function jD(n,e,t){return X1(n,e.parent,t)}function X1(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Rn];if(Ci(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Lr.None||i===Lr.Emulated)return null}return Nn(r,t)}function BD(n,e,t){return eF(n,e,t)}function J1(n,e,t){return n.type&40?Nn(n,t):null}var eF=J1,R0;function Iv(n,e,t,r){let i=jD(n,r,e),o=e[Ne],s=r.parent||e[St],a=BD(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)C0(o,i,t[c],a,!1);else C0(o,i,t,a,!1);R0!==void 0&&R0(o,r,e,t,i)}function gc(n,e){if(e!==null){let t=e.type;if(t&3)return Nn(e,n);if(t&4)return B_(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return gc(n,r);{let i=n[e.index];return xn(i)?B_(-1,i):cn(i)}}else{if(t&128)return gc(n,e.next);if(t&32)return vv(e,n)()||cn(n[e.index]);{let r=UD(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=_i(n[jt]);return gc(i,r)}else return gc(n,e.next)}}}return null}function UD(n,e){if(e!==null){let r=n[jt][St],i=e.projection;return r.projection[i]}return null}function B_(n,e){let t=vt+n+1;if(t<e.length){let r=e[t],i=r[U].firstChild;if(i!==null)return gc(r,i)}return e[wi]}function Dv(n,e,t,r,i,o,s){for(;t!=null;){let a=r[bi];if(t.type===128){t=t.next;continue}let c=r[t.index],l=t.type;if(s&&e===0&&(c&&Fs(cn(c),r),t.flags|=2),!ff(t))if(l&8)Dv(n,e,t.child,r,i,o,!1),Ps(e,n,a,i,c,t,o,r);else if(l&32){let u=vv(t,r),d;for(;d=u();)Ps(e,n,a,i,d,t,o,r);Ps(e,n,a,i,c,t,o,r)}else l&16?HD(n,e,r,t,i,o):Ps(e,n,a,i,c,t,o,r);t=s?t.projectionNext:t.next}}function gf(n,e,t,r,i,o){Dv(t,r,n.firstChild,e,i,o,!1)}function tF(n,e,t){let r=e[Ne],i=jD(n,t,e),o=t.parent||e[St],s=BD(o,t,e);HD(r,0,e,t,i,s)}function HD(n,e,t,r,i,o){let s=t[jt],c=s[St].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Ps(e,n,t[bi],i,u,r,o,t)}else{let l=c,u=s[nt];oD(r)&&(l.flags|=128),Dv(n,e,l,u,i,o,!0)}}function nF(n,e,t,r,i,o,s){let a=r[wi],c=cn(r);a!==c&&Ps(e,n,t,o,a,i,s);for(let l=vt;l<r.length;l++){let u=r[l];gf(u[U],u,n,e,o,a)}}function rF(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:dr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=dr.Important),n.setStyle(t,r,i,o))}}function $D(n,e,t,r,i){let o=Fr(),s=r&2;try{Ii(-1),s&&e.length>Oe&&xD(n,e,Oe,!1),Ee(s?2:0,i,t),t(r,i)}finally{Ii(o),Ee(s?3:1,i,t)}}function Sv(n,e,t){lF(n,e,t),(t.flags&64)===64&&uF(n,e,t)}function _f(n,e,t=Nn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function iF(n,e,t,r){let o=r.get(fD,dD)||t===Lr.ShadowDom,s=n.selectRootElement(e,o);return oF(s),s}function oF(n){sF(n)}var sF=()=>null;function aF(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function zD(n,e,t,r,i,o){let s=e[U];if(Tv(n,s,e,t,r)){Ci(n)&&cF(e,n.index);return}n.type&3&&(t=aF(t)),WD(n,e,t,r,i,o)}function WD(n,e,t,r,i,o){if(n.type&3){let s=Nn(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function cF(n,e){let t=ln(e,n);t[$]&16||(t[$]|=64)}function lF(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Ci(t)&&O1(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Kd(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],c=vc(e,n,s,t);if(Fs(c,e),o!==null&&pF(e,s-r,c,a,t,o),ar(a)){let l=ln(t.index,e);l[ct]=vc(e,n,s,t)}}}function uF(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=t0();try{Ii(o);for(let a=r;a<i;a++){let c=n.data[a],l=e[a];Td(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&dF(c,l)}}finally{Ii(-1),Td(s)}}function dF(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function GD(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];DD(e,o.selectors,!1)&&(r??=[],ar(o)?r.unshift(o):r.push(o))}return r}function fF(n,e,t,r,i,o){let s=Nn(n,e);hF(e[Ne],s,o,n.value,t,r,i)}function hF(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?po(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function pF(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];L_(r,t,c,l)}}function qD(n,e,t,r,i){let o=Oe+t,s=e[U],a=i(s,e,n,r,t);e[o]=a,xs(n,!0);let c=n.type===2;return c?(MD(e[Ne],a,n),(qI()===0||lc(n))&&Fs(a,e),YI()):Fs(a,e),Nd()&&(!c||!ff(n))&&Iv(s,e,a,n),n}function YD(n){let e=n;return Xg()?Jg():(e=e.parent,xs(e,!1)),e}function mF(n,e){let t=n[bi];if(!t)return;let r;try{r=t.get(Tt,null)}catch{r=null}r?.(e)}function Tv(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],d=e.data[l];L_(d,t[l],u,i),a=!0}if(o)for(let c of o){let l=t[c],u=e.data[c];L_(u,l,r,i),a=!0}return a}function gF(n,e){let t=ln(e,n),r=t[U];_F(r,t);let i=t[Rn];i!==null&&t[Ss]===null&&(t[Ss]=hD(i,t[bi])),Ee(18),Mv(r,t,t[ct]),Ee(19,t[ct])}function _F(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Mv(n,e,t){Ad(e);try{let r=n.viewQuery;r!==null&&M_(1,r,t);let i=n.template;i!==null&&$D(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[or]?.finishViewCreation(n),n.staticContentQueries&&pD(n,e),n.staticViewQueries&&M_(2,n.viewQuery,t);let o=n.components;o!==null&&vF(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[$]&=-5,Rd()}}function vF(n,e){for(let t=0;t<e.length;t++)gF(n,e[t])}function Av(n,e,t,r){let i=Y(null);try{let o=e.tView,a=n[$]&4096?4096:16,c=gv(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];c[Ei]=l;let u=n[or];return u!==null&&(c[or]=u.createEmbeddedView(o)),Mv(o,c,t),c}finally{Y(i)}}function tf(n,e){return!e||e.firstChild===null||oD(n)}function yc(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(cn(o)),xn(o)&&KD(o,r);let s=t.type;if(s&8)yc(n,e,t.child,r);else if(s&32){let a=vv(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=UD(e,t);if(Array.isArray(a))r.push(...a);else{let c=_i(e[jt]);yc(c[U],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function KD(n,e){for(let t=vt;t<n.length;t++){let r=n[t],i=r[U].firstChild;i!==null&&yc(r[U],r,i,e)}n[wi]!==n[Rn]&&e.push(n[wi])}function QD(n){if(n[_o]!==null){for(let e of n[_o])e.impl.addSequence(e);n[_o].length=0}}var ZD=[];function yF(n){return n[Jt]??bF(n)}function bF(n){let e=ZD.pop()??Object.create(wF);return e.lView=n,e}function EF(n){n.lView[Jt]!==n&&(n.lView=null,ZD.push(n))}var wF=H(b({},as),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Rs(n.lView)},consumerOnSignalRead(){this.lView[Jt]=this}});function CF(n){let e=n[Jt]??Object.create(IF);return e.lView=n,e}var IF=H(b({},as),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=_i(n.lView);for(;e&&!XD(e[U]);)e=_i(e);e&&Hg(e)},consumerOnSignalRead(){this.lView[Jt]=this}});function XD(n){return n.type!==2}function JD(n){if(n[sc]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[sc])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[$]&8192)}}var DF=100;function eS(n,e=0){let r=n[ir].rendererFactory,i=!1;i||r.begin?.();try{SF(n,e)}finally{i||r.end?.()}}function SF(n,e){let t=e_();try{t_(!0),U_(n,e);let r=0;for(;fc(n);){if(r===DF)throw new w(103,!1);r++,U_(n,1)}}finally{t_(t)}}function TF(n,e,t,r){if(yo(e))return;let i=e[$],o=!1,s=!1;Ad(e);let a=!0,c=null,l=null;o||(XD(n)?(l=yF(e),c=ls(l)):Fu()===null?(a=!1,l=CF(e),c=ls(l)):e[Jt]&&(qa(e[Jt]),e[Jt]=null));try{Ug(e),XI(n.bindingStartIndex),t!==null&&$D(n,e,t,2,r);let u=(i&3)===3;if(!o)if(u){let h=n.preOrderCheckHooks;h!==null&&Ud(e,h,null)}else{let h=n.preOrderHooks;h!==null&&Hd(e,h,0,null),f_(e,0)}if(s||MF(e),JD(e),tS(e,0),n.contentQueries!==null&&pD(n,e),!o)if(u){let h=n.contentCheckHooks;h!==null&&Ud(e,h)}else{let h=n.contentHooks;h!==null&&Hd(e,h,1),f_(e,1)}RF(n,e);let d=n.components;d!==null&&rS(e,d,0);let f=n.viewQuery;if(f!==null&&M_(2,f,r),!o)if(u){let h=n.viewCheckHooks;h!==null&&Ud(e,h)}else{let h=n.viewHooks;h!==null&&Hd(e,h,2),f_(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Cd]){for(let h of e[Cd])h();e[Cd]=null}o||(QD(e),e[$]&=-73)}catch(u){throw o||Rs(e),u}finally{l!==null&&(Wa(l,c),a&&EF(l)),Rd()}}function tS(n,e){for(let t=aD(n);t!==null;t=cD(t))for(let r=vt;r<t.length;r++){let i=t[r];nS(i,e)}}function MF(n){for(let e=aD(n);e!==null;e=cD(e)){if(!(e[$]&2))continue;let t=e[vo];for(let r=0;r<t.length;r++){let i=t[r];Hg(i)}}}function AF(n,e,t){Ee(18);let r=ln(e,n);nS(r,t),Ee(19,r[ct])}function nS(n,e){Id(n)&&U_(n,e)}function U_(n,e){let r=n[U],i=n[$],o=n[Jt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Ga(o)),s||=!1,o&&(o.dirty=!1),n[$]&=-9217,s)TF(r,n,r.template,n[ct]);else if(i&8192){let a=Y(null);try{JD(n),tS(n,1);let c=r.components;c!==null&&rS(n,c,1),QD(n)}finally{Y(a)}}}function rS(n,e,t){for(let r=0;r<e.length;r++)AF(n,e[r],t)}function RF(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Ii(~i);else{let o=i,s=t[++r],a=t[++r];e0(s,o);let c=e[o];Ee(24,c),a(2,c),Ee(25,c)}}}finally{Ii(-1)}}function Rv(n,e){let t=e_()?64:1088;for(n[ir].changeDetectionScheduler?.notify(e);n;){n[$]|=t;let r=_i(n);if(As(n)&&!r)return n;n=r}return null}function iS(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function xF(n,e){let t=vt+e;if(t<n.length)return n[t]}function xv(n,e,t,r=!0){let i=e[U];if(PF(i,e,n,t),r){let s=B_(t,n),a=e[Ne],c=a.parentNode(n[wi]);c!==null&&q1(i,n[St],a,e,c,s)}let o=e[Ss];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function NF(n,e){let t=nf(n,e);return t!==void 0&&Cv(t[U],t),t}function nf(n,e){if(n.length<=vt)return;let t=vt+e,r=n[t];if(r){let i=r[Ei];i!==null&&i!==n&&wv(i,r),e>0&&(n[t-1][an]=r[an]);let o=rc(n,vt+e);G1(r[U],r);let s=o[or];s!==null&&s.detachView(o[U]),r[nt]=null,r[an]=null,r[$]&=-129}return r}function PF(n,e,t,r){let i=vt+r,o=t.length;r>0&&(t[i-1][an]=e),r<o-vt?(e[an]=t[i],Tg(t,vt+r,e)):(t.push(e),e[an]=null),e[nt]=t;let s=e[Ei];s!==null&&t!==s&&oS(s,e);let a=e[or];a!==null&&a.insertView(n),Dd(e),e[$]|=128}function oS(n,e){let t=n[vo],r=e[nt];if(sr(r))n[$]|=2;else{let i=r[nt][jt];e[jt]!==i&&(n[$]|=2)}t===null?n[vo]=[e]:t.push(e)}var Di=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[U];return yc(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[ct]}set context(e){this._lView[ct]=e}get destroyed(){return yo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[nt];if(xn(e)){let t=e[cc],r=t?t.indexOf(this):-1;r>-1&&(nf(e,r),rc(t,r))}this._attachedToViewContainer=!1}Cv(this._lView[U],this._lView)}onDestroy(e){$g(this._lView,e)}markForCheck(){Rv(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[$]&=-129}reattach(){Dd(this._lView),this._lView[$]|=128}detectChanges(){this._lView[$]|=1024,eS(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new w(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=As(this._lView),t=this._lView[Ei];t!==null&&!e&&wv(t,this._lView),VD(this._lView[U],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new w(902,!1);this._appRef=e;let t=As(this._lView),r=this._lView[Ei];r!==null&&!t&&oS(r,this._lView),Dd(this._lView)}};var un=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=OF;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=Av(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Di(o)}}return n})();function OF(){return vf(yt(),W())}function vf(n,e){return n.type&4?new un(e,n,js(n,e)):null}function Hs(n,e,t,r,i){let o=n.data[e];if(o===null)o=kF(n,e,t,r,i),JI()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=KI();o.injectorIndex=s===null?-1:s.injectorIndex}return xs(o,!0),o}function kF(n,e,t,r,i){let o=Zg(),s=Xg(),a=s?o:o&&o.parent,c=n.data[e]=LF(n,a,t,e,r,i);return FF(n,c,o,s),c}function FF(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function LF(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Yg()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var NQ=new RegExp(`^(\\d+)*(${qk}|${Gk})*(.*)`);var VF=()=>null,jF=()=>null;function H_(n,e){return VF(n,e)}function BF(n,e,t){return jF(n,e,t)}var sS=class{},yf=class{},$_=class{resolveComponentFactory(e){throw new w(917,!1)}},Dc=class{static NULL=new $_},lt=class{},fn=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>UF()}return n})();function UF(){let n=W(),e=yt(),t=ln(e.index,n);return(sr(t)?t:n)[Ne]}var aS=(()=>{class n{static \u0275prov=D({token:n,providedIn:"root",factory:()=>null})}return n})();var zd={},z_=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,zd,r);return i!==zd||t===zd?i:this.parentInjector.get(e,t,r)}};function rf(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=_d(i,a);else if(o==2){let c=a,l=e[++s];r=_d(r,c+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function P(n,e=0){let t=W();if(t===null)return x(n,e);let r=yt();return nD(r,t,st(n),e)}function cS(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,c=null,l=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,c,l]=u.resolveHostDirectives(s);break}zF(n,e,t,a,o,c,l)}o!==null&&r!==null&&HF(t,r,o)}function HF(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new w(-301,!1);r.push(e[i],o)}}function $F(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function zF(n,e,t,r,i,o,s){let a=r.length,c=!1;for(let f=0;f<a;f++){let h=r[f];!c&&ar(h)&&(c=!0,$F(n,t,f)),I_(Kd(t,e),n,h.type)}QF(t,n.data.length,a);for(let f=0;f<a;f++){let h=r[f];h.providersResolver&&h.providersResolver(h)}let l=!1,u=!1,d=RD(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let f=0;f<a;f++){let h=r[f];if(t.mergedAttrs=ks(t.mergedAttrs,h.hostAttrs),GF(n,t,e,d,h),KF(d,h,i),s!==null&&s.has(h)){let[_,C]=s.get(h);t.directiveToIndex.set(h.type,[d,_+t.directiveStart,C+t.directiveStart])}else(o===null||!o.has(h))&&t.directiveToIndex.set(h.type,d);h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let m=h.type.prototype;!l&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!u&&(m.ngOnChanges||m.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),u=!0),d++}WF(n,t,o)}function WF(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))x0(0,e,i,r),x0(1,e,i,r),P0(e,r,!1);else{let o=t.get(i);N0(0,e,o,r),N0(1,e,o,r),P0(e,r,!0)}}}function x0(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),lS(e,o)}}function N0(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),lS(e,s)}}function lS(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function P0(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||pv(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let l=i[c];for(let u of l)if(u===e){s??=[],s.push(c,r[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let l=o[c];for(let u=0;u<l.length;u+=2)if(l[u]===e){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function GF(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=gi(i.type,!0)),s=new wo(o,ar(i),P,null);n.blueprint[r]=s,t[r]=s,qF(n,e,r,RD(n,t,i.hostVars,Mt),i)}function qF(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;YF(s)!=a&&s.push(a),s.push(t,r,o)}}function YF(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function KF(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ar(e)&&(t[""]=n)}}function QF(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function uS(n,e,t,r,i,o,s,a){let c=e[U],l=c.consts,u=cr(l,s),d=Hs(c,n,t,r,u);return o&&cS(c,e,d,cr(l,a),i),d.mergedAttrs=ks(d.mergedAttrs,d.attrs),d.attrs!==null&&rf(d,d.attrs,!1),d.mergedAttrs!==null&&rf(d,d.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,d),d}function dS(n,e){Y0(n,e),Lg(e)&&n.queries.elementEnd(e)}function ZF(n,e,t,r,i,o){let s=e.consts,a=cr(s,i),c=Hs(e,n,t,r,a);if(c.mergedAttrs=ks(c.mergedAttrs,c.attrs),o!=null){let l=cr(s,o);c.localNames=[];for(let u=0;u<l.length;u+=2)c.localNames.push(l[u],-1)}return c.attrs!==null&&rf(c,c.attrs,!1),c.mergedAttrs!==null&&rf(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function Nv(n){return hS(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function fS(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function hS(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function bf(n,e,t){return n[e]=t}function XF(n,e){return n[e]}function dn(n,e,t){if(t===Mt)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function Pv(n,e,t,r){let i=dn(n,e,t);return dn(n,e+1,r)||i}function JF(n,e,t,r,i){let o=Pv(n,e,t,r);return dn(n,e+2,i)||o}function m_(n,e,t){return function r(i){let o=Ci(n)?ln(n.index,e):e;Rv(o,5);let s=e[ct],a=O0(e,s,t,i),c=r.__ngNextListenerFn__;for(;c;)a=O0(e,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function O0(n,e,t,r){let i=Y(null);try{return Ee(6,e,t),t(r)!==!1}catch(o){return mF(n,o),!1}finally{Ee(7,e,t),Y(i)}}function eL(n,e,t,r,i,o,s,a){let c=lc(n),l=!1,u=null;if(!r&&c&&(u=nL(e,t,o,n.index)),u!==null){let d=u.__ngLastListenerFn__||u;d.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,l=!0}else{let d=Nn(n,t),f=r?r(d):d;Kk(t,f,o,a);let h=i.listen(f,o,a);if(!tL(o)){let m=r?_=>r(cn(_[n.index])):n.index;pS(m,e,t,o,a,h,!1)}}return l}function tL(n){return n.startsWith("animation")||n.startsWith("transition")}function nL(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Ts],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function pS(n,e,t,r,i,o,s){let a=e.firstCreatePass?Wg(e):null,c=zg(t),l=c.length;c.push(i,o),a&&a.push(r,n,l,(l+1)*(s?-1:1))}function k0(n,e,t,r,i,o){let s=e[t],a=e[U],l=a.data[t].outputs[r],d=s[l].subscribe(o);pS(n.index,a,e,i,o,d,!0)}var W_=Symbol("BINDING");var of=class extends Dc{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=kr(e);return new Co(t,this.ngModule)}};function rL(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&pf.SignalBased)!==0};return i&&(o.transform=i),o})}function iL(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function oL(n,e,t){let r=e instanceof xe?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new z_(t,r):t}function sL(n){let e=n.get(lt,null);if(e===null)throw new w(407,!1);let t=n.get(aS,null),r=n.get(Or,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function aL(n,e){let t=mS(n);return SD(e,t,t==="svg"?Vg:t==="math"?UI:null)}function mS(n){return(n.selectors[0][0]||"div").toLowerCase()}var Co=class extends yf{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=rL(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=iL(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=D1(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){Ee(22);let a=Y(null);try{let c=this.componentDef,l=cL(r,c,s,o),u=oL(c,i||this.ngModule,e),d=sL(u),f=d.rendererFactory.createRenderer(null,c),h=r?iF(f,r,c.encapsulation,u):aL(c,f),m=s?.some(F0)||o?.some(S=>typeof S!="function"&&S.bindings.some(F0)),_=gv(null,l,null,512|AD(c),null,null,d,f,u,null,hD(h,u,!0));_[Oe]=h,Ad(_);let C=null;try{let S=uS(Oe,_,2,"#host",()=>l.directiveRegistry,!0,0);MD(f,h,S),Fs(h,_),Sv(l,_,S),mD(l,S,_),dS(l,S),t!==void 0&&uL(S,this.ngContentSelectors,t),C=ln(S.index,_),_[ct]=C[ct],Mv(l,_,null)}catch(S){throw C!==null&&S_(C),S_(_),S}finally{Ee(23),Rd()}return new sf(this.componentType,_,!!m)}finally{Y(a)}}};function cL(n,e,t,r){let i=n?["ng-version","20.3.10"]:S1(e.selectors[0]),o=null,s=null,a=0;if(t)for(let u of t)a+=u[W_].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let d=r[u];if(typeof d!="function")for(let f of d.bindings){a+=f[W_].requiredVars;let h=u+1;f.create&&(f.targetIdx=h,(o??=[]).push(f)),f.update&&(f.targetIdx=h,(s??=[]).push(f))}}let c=[e];if(r)for(let u of r){let d=typeof u=="function"?u:u.type,f=xg(d);c.push(f)}return mv(0,null,lL(o,s),1,a,c,null,null,null,[i],null)}function lL(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function F0(n){let e=n[W_].kind;return e==="input"||e==="twoWay"}var sf=class extends sS{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=uc(t[U],Oe),this.location=js(this._tNode,t),this.instance=ln(this._tNode.index,t)[ct],this.hostView=this.changeDetectorRef=new Di(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=Tv(r,i[U],i,e,t);this.previousInputValues.set(e,t);let s=ln(r.index,i);Rv(s,1)}get injector(){return new Eo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function uL(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var hn=(()=>{class n{static __NG_ELEMENT_ID__=dL}return n})();function dL(){let n=yt();return _S(n,W())}var fL=hn,gS=class extends fL{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return js(this._hostTNode,this._hostLView)}get injector(){return new Eo(this._hostTNode,this._hostLView)}get parentInjector(){let e=rv(this._hostTNode,this._hostLView);if(Q0(e)){let t=qd(e,this._hostLView),r=Gd(e),i=t[U].data[r+8];return new Eo(i,t)}else return new Eo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=L0(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-vt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=H_(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,tf(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let c=e&&!bk(e),l;if(c)l=t;else{let C=t||{};l=C.index,r=C.injector,i=C.projectableNodes,o=C.environmentInjector||C.ngModuleRef,s=C.directives,a=C.bindings}let u=c?e:new Co(kr(e)),d=r||this.parentInjector;if(!o&&u.ngModule==null){let S=(c?d:this.parentInjector).get(xe,null);S&&(o=S)}let f=kr(u.componentType??{}),h=H_(this._lContainer,f?.id??null),m=h?.firstChild??null,_=u.create(d,i,m,o,s,a);return this.insertImpl(_.hostView,l,tf(this._hostTNode,h)),_}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if($I(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[nt],l=new gS(c,c[St],c[nt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return xv(s,i,o,r),e.attachToViewContainerRef(),Tg(g_(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=L0(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=nf(this._lContainer,t);r&&(rc(g_(this._lContainer),t),Cv(r[U],r))}detach(e){let t=this._adjustIndex(e,-1),r=nf(this._lContainer,t);return r&&rc(g_(this._lContainer),t)!=null?new Di(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function L0(n){return n[cc]}function g_(n){return n[cc]||(n[cc]=[])}function _S(n,e){let t,r=e[n.index];return xn(r)?t=r:(t=iS(r,e,null,n),e[n.index]=t,_v(e,t)),pL(t,e,n,r),new gS(t,n,e)}function hL(n,e){let t=n[Ne],r=t.createComment(""),i=Nn(e,n),o=t.parentNode(i);return Zd(t,o,r,t.nextSibling(i),!1),r}var pL=_L,mL=()=>!1;function gL(n,e,t){return mL(n,e,t)}function _L(n,e,t,r){if(n[wi])return;let i;t.type&8?i=cn(r):i=hL(e,t),n[wi]=i}var G_=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},q_=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Ov(e,t).matches!==null&&this.queries[t].setDirty()}},Y_=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=DL(e):this.predicate=e}},K_=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Q_=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,vL(t,o)),this.matchTNodeWithReadOption(e,t,$d(t,e,o,!1,!1))}else r===un?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,$d(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===ke||i===hn||i===un&&t.type&4)this.addMatch(t.index,-2);else{let o=$d(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function vL(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function yL(n,e){return n.type&11?js(n,e):n.type&4?vf(n,e):null}function bL(n,e,t,r){return t===-1?yL(e,n):t===-2?EL(n,e,r):vc(n,n[U],t,e)}function EL(n,e,t){if(t===ke)return js(e,n);if(t===un)return vf(e,n);if(t===hn)return _S(e,n)}function vS(n,e,t,r){let i=e[or].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(bL(e,u,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function Z_(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=vS(n,e,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],u=e[-c];for(let d=vt;d<u.length;d++){let f=u[d];f[Ei]===f[nt]&&Z_(f[U],f,l,r)}if(u[vo]!==null){let d=u[vo];for(let f=0;f<d.length;f++){let h=d[f];Z_(h[U],h,l,r)}}}}}return r}function wL(n,e){return n[or].queries[e].queryList}function CL(n,e,t){let r=new Qd((t&4)===4);return GI(n,e,r,r.destroy),(e[or]??=new q_).queries.push(new G_(r))-1}function IL(n,e,t){let r=$e();return r.firstCreatePass&&(SL(r,new Y_(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),CL(r,W(),e)}function DL(n){return n.split(",").map(e=>e.trim())}function SL(n,e,t){n.queries===null&&(n.queries=new K_),n.queries.track(new Q_(e,t))}function Ov(n,e){return n.queries.getByIndex(e)}function TL(n,e){let t=n[U],r=Ov(t,e);return r.crossesNgTemplate?Z_(t,n,e,[]):vS(t,n,r,e)}var fr=class{},Ef=class{};var af=class extends fr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new of(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=Rg(e);this._bootstrapComponents=CD(o.bootstrap),this._r3Injector=o_(e,t,[{provide:fr,useValue:this},{provide:Dc,useValue:this.componentFactoryResolver},...r],Pr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},cf=class extends Ef{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new af(this.moduleType,e,[])}};var bc=class extends fr{injector;componentFactoryResolver=new of(this);instance=null;constructor(e){super();let t=new fo([...e.providers,{provide:fr,useValue:this},{provide:Dc,useValue:this.componentFactoryResolver}],e.parent||Ds(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Sc(n,e,t=null){return new bc({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var ML=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Ng(!1,t.type),i=r.length>0?Sc([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=D({token:n,providedIn:"environment",factory:()=>new n(x(xe))})}return n})();function oe(n){return wc(()=>{let e=yS(n),t=H(b({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===iv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(ML).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Lr.Emulated,styles:n.styles||Dt,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&pr("NgStandalone"),bS(t);let r=n.dependencies;return t.directiveDefs=V0(r,AL),t.pipeDefs=V0(r,PI),t.id=NL(t),t})}function AL(n){return kr(n)||xg(n)}function At(n){return wc(()=>({type:n.type,bootstrap:n.bootstrap||Dt,declarations:n.declarations||Dt,imports:n.imports||Dt,exports:n.exports||Dt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function RL(n,e){if(n==null)return yi;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=pf.None,c=null),t[o]=[r,a,c],e[o]=s}return t}function xL(n){if(n==null)return yi;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function pe(n){return wc(()=>{let e=yS(n);return bS(e),e})}function Tc(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function yS(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||yi,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Dt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:RL(n.inputs,e),outputs:xL(n.outputs),debugInfo:null}}function bS(n){n.features?.forEach(e=>e(n))}function V0(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function NL(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function PL(n){return Object.getPrototypeOf(n.prototype).constructor}function Ge(n){let e=PL(n.type),t=!0,r=[n];for(;e;){let i;if(ar(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new w(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=__(n.inputs),s.declaredInputs=__(n.declaredInputs),s.outputs=__(n.outputs);let a=i.hostBindings;a&&VL(n,a);let c=i.viewQuery,l=i.contentQueries;if(c&&FL(n,c),l&&LL(n,l),OL(n,i),II(n.outputs,i.outputs),ar(i)&&i.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Ge&&(t=!1)}}e=Object.getPrototypeOf(e)}kL(r)}function OL(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function kL(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ks(i.hostAttrs,t=ks(t,i.hostAttrs))}}function __(n){return n===yi?{}:n===Dt?[]:n}function FL(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function LL(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function VL(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function ES(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=ks(n.mergedAttrs,n.attrs);let u=n.tView=mv(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),u.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),xs(n,!1);let c=BL(t,e,n,r);Nd()&&Iv(t,e,c,n),Fs(c,e);let l=iS(c,e,c,n);e[r+Oe]=l,_v(e,l),gL(l,n,e)}function jL(n,e,t,r,i,o,s,a,c,l,u){let d=t+Oe,f;return e.firstCreatePass?(f=Hs(e,d,4,s||null,a||null),qg()&&cS(e,n,f,cr(e.consts,l),GD),Y0(e,f)):f=e.data[d],ES(f,n,e,t,r,i,o,c),lc(f)&&Sv(e,n,f),l!=null&&_f(n,f,u),f}function kv(n,e,t,r,i,o,s,a,c,l,u){let d=t+Oe,f;if(e.firstCreatePass){if(f=Hs(e,d,4,s||null,a||null),l!=null){let h=cr(e.consts,l);f.localNames=[];for(let m=0;m<h.length;m+=2)f.localNames.push(h[m],-1)}}else f=e.data[d];return ES(f,n,e,t,r,i,o,c),l!=null&&_f(n,f,u),f}function fe(n,e,t,r,i,o,s,a){let c=W(),l=$e(),u=cr(l.consts,o);return jL(c,l,n,e,t,r,i,u,void 0,s,a),fe}var BL=UL;function UL(n,e,t,r){return Pd(!0),e[Ne].createComment("")}var wf=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var Fv=new M("");function Hr(n){return!!n&&typeof n.then=="function"}function Cf(n){return!!n&&typeof n.subscribe=="function"}var wS=new M("");var Lv=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=p(wS,{optional:!0})??[];injector=p(De);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=at(this.injector,i);if(Hr(o))t.push(o);else if(Cf(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),If=new M("");function CS(){Hm(()=>{let n="";throw new w(600,n)})}function IS(n){return n.isBoundToModule}var HL=10;var Ht=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=p(Tt);afterRenderManager=p(Ev);zonelessEnabled=p(Ns);rootEffectScheduler=p(d_);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new ne;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=p(lr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(z(t=>!t))}constructor(){p(Do,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=p(xe);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=De.NULL){return this._injector.get(Q).run(()=>{Ee(10);let s=t instanceof yf;if(!this._injector.get(Lv).done){let m="";throw new w(405,m)}let c;s?c=t:c=this._injector.get(Dc).resolveComponentFactory(t),this.componentTypes.push(c.componentType);let l=IS(c)?void 0:this._injector.get(fr),u=r||c.selector,d=c.create(i,[],u,l),f=d.location.nativeElement,h=d.injector.get(Fv,null);return h?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),_c(this.components,d),h?.unregisterApplication(f)}),this._loadComponent(d),Ee(11,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ee(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(mf.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new w(101,!1);let t=Y(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Y(t),this.afterTick.next(),Ee(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(lt,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<HL;)Ee(14),this.synchronizeOnce(),Ee(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!fc(i))continue;let o=r&&!this.zonelessEnabled?0:1;eS(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>fc(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;_c(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(If,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>_c(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new w(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _c(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Rt(n,e,t,r){let i=W(),o=bo();if(dn(i,o,e)){let s=$e(),a=pc();fF(a,i,n,e,t,r)}return Rt}var jQ=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function pn(n,e,t,r,i,o,s,a){pr("NgControlFlow");let c=W(),l=$e(),u=cr(l.consts,o);return kv(c,l,n,e,t,r,i,u,256,s,a),Vv}function Vv(n,e,t,r,i,o,s,a){pr("NgControlFlow");let c=W(),l=$e(),u=cr(l.consts,o);return kv(c,l,n,e,t,r,i,u,512,s,a),Vv}function mn(n,e){pr("NgControlFlow");let t=W(),r=bo(),i=t[r]!==Mt?t[r]:-1,o=i!==-1?j0(t,Oe+i):void 0,s=0;if(dn(t,r,n)){let a=Y(null);try{if(o!==void 0&&NF(o,s),n!==-1){let c=Oe+n,l=j0(t,c),u=$L(t[U],c),d=BF(l,u,t),f=Av(t,u,e,{dehydratedView:d});xv(l,f,s,tf(u,d))}}finally{Y(a)}}else if(o!==void 0){let a=xF(o,s);a!==void 0&&(a[ct]=e)}}function j0(n,e){return n[e]}function $L(n,e){return uc(n,e)}function A(n,e,t){let r=W(),i=bo();if(dn(r,i,e)){let o=$e(),s=pc();zD(s,r,n,e,r[Ne],t)}return A}function X_(n,e,t,r,i){Tv(e,n,t,i?"class":"style",r)}function y(n,e,t,r){let i=W(),o=i[U],s=n+Oe,a=o.firstCreatePass?uS(s,i,2,e,GD,qg(),t,r):o.data[s];if(qD(a,i,n,e,DS),lc(a)){let c=i[U];Sv(c,i,a),mD(c,a,i)}return r!=null&&_f(i,a),y}function v(){let n=$e(),e=yt(),t=YD(e);return n.firstCreatePass&&dS(n,t),Kg(t)&&Qg(),Gg(),t.classesWithoutHost!=null&&Sk(t)&&X_(n,t,W(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&Tk(t)&&X_(n,t,W(),t.stylesWithoutHost,!1),v}function V(n,e,t,r){return y(n,e,t,r),v(),V}function we(n,e,t,r){let i=W(),o=i[U],s=n+Oe,a=o.firstCreatePass?ZF(s,o,2,e,t,r):o.data[s];return qD(a,i,n,e,DS),r!=null&&_f(i,a),we}function Se(){let n=yt(),e=YD(n);return Kg(e)&&Qg(),Gg(),Se}function gn(n,e,t,r){return we(n,e,t,r),Se(),gn}var DS=(n,e,t,r,i)=>(Pd(!0),SD(e[Ne],r,a0()));function Fe(){return W()}function Df(n,e,t){let r=W(),i=bo();if(dn(r,i,e)){let o=$e(),s=pc();WD(s,r,n,e,r[Ne],t)}return Df}var jd=void 0;function zL(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var WL=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],jd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],jd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",jd,"{1} 'at' {0}",jd],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",zL],v_={};function en(n){let e=GL(n),t=B0(e);if(t)return t;let r=e.split("-")[0];if(t=B0(r),t)return t;if(r==="en")return WL;throw new w(701,!1)}function B0(n){return n in v_||(v_[n]=on.ng&&on.ng.common&&on.ng.common.locales&&on.ng.common.locales[n]),v_[n]}var ze=(function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n})(ze||{});function GL(n){return n.toLowerCase().replace(/_/g,"-")}var Mc="en-US";var qL=Mc;function SS(n){typeof n=="string"&&(qL=n.toLowerCase().replace(/_/g,"-"))}function k(n,e,t){let r=W(),i=$e(),o=yt();return TS(i,r,r[Ne],o,n,e,t),k}function TS(n,e,t,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=m_(r,e,o),eL(r,n,e,s,t,i,o,c)&&(a=!1)),a){let l=r.outputs?.[i],u=r.hostDirectiveOutputs?.[i];if(u&&u.length)for(let d=0;d<u.length;d+=2){let f=u[d],h=u[d+1];c??=m_(r,e,o),k0(r,e,f,h,i,c)}if(l&&l.length)for(let d of l)c??=m_(r,e,o),k0(r,e,d,i,i,c)}}function N(n=1){return s0(n)}function YL(n,e){let t=null,r=b1(n);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){t=i;continue}if(r===null?DD(n,o,!0):C1(r,o))return i}return t}function Sf(n){let e=W()[jt][St];if(!e.projection){let t=n?n.length:1,r=e.projection=xI(t,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=n?YL(o,n):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function $s(n,e=0,t,r,i,o){let s=W(),a=$e(),c=r?n+1:null;c!==null&&kv(s,a,c,r,i,o,null,t);let l=Hs(a,Oe+n,16,null,t||null);l.projection===null&&(l.projection=e),Jg();let d=!s[Ss]||Yg();s[jt][St].projection[l.projection]===null&&c!==null?KL(s,a,c):d&&!ff(l)&&tF(a,s,l)}function KL(n,e,t){let r=Oe+t,i=e.data[r],o=n[r],s=H_(o,i.tView.ssrId),a=Av(n,i,void 0,{dehydratedView:s});xv(o,a,0,tf(i,s))}function Tf(n,e,t){IL(n,e,t)}function Mf(n){let e=W(),t=$e(),r=n_();Md(r+1);let i=Ov(t,r);if(n.dirty&&HI(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=TL(e,r);n.reset(o,Bk),n.notifyOnChanges()}return!0}return!1}function Af(){return wL(W(),n_())}function jn(n){let e=QI();return dc(e,Oe+n)}function Bd(n,e){return n<<17|e<<2}function Io(n){return n>>17&32767}function QL(n){return(n&2)==2}function ZL(n,e){return n&131071|e<<17}function J_(n){return n|2}function Vs(n){return(n&131068)>>2}function y_(n,e){return n&-131069|e<<2}function XL(n){return(n&1)===1}function ev(n){return n|1}function JL(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Io(s),c=Vs(s);n[r]=t;let l=!1,u;if(Array.isArray(t)){let d=t;u=d[1],(u===null||Is(d,u)>0)&&(l=!0)}else u=t;if(i)if(c!==0){let f=Io(n[a+1]);n[r+1]=Bd(f,a),f!==0&&(n[f+1]=y_(n[f+1],r)),n[a+1]=ZL(n[a+1],r)}else n[r+1]=Bd(a,0),a!==0&&(n[a+1]=y_(n[a+1],r)),a=r;else n[r+1]=Bd(c,0),a===0?a=r:n[c+1]=y_(n[c+1],r),c=r;l&&(n[r+1]=J_(n[r+1])),U0(n,u,r,!0),U0(n,u,r,!1),eV(e,u,n,r,o),s=Bd(a,c),o?e.classBindings=s:e.styleBindings=s}function eV(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Is(o,e)>=0&&(t[r+1]=ev(t[r+1]))}function U0(n,e,t,r){let i=n[t+1],o=e===null,s=r?Io(i):Vs(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],l=n[s+1];tV(c,e)&&(a=!0,n[s+1]=r?ev(l):J_(l)),s=r?Io(l):Vs(l)}a&&(n[t+1]=r?J_(i):ev(i))}function tV(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Is(n,e)>=0:!1}var kn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function nV(n){return n.substring(kn.key,kn.keyEnd)}function rV(n){return iV(n),MS(n,AS(n,0,kn.textEnd))}function MS(n,e){let t=kn.textEnd;return t===e?-1:(e=kn.keyEnd=oV(n,kn.key=e,t),AS(n,e,t))}function iV(n){kn.key=0,kn.keyEnd=0,kn.value=0,kn.valueEnd=0,kn.textEnd=n.length}function AS(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function oV(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function Rf(n,e,t){return RS(n,e,t,!1),Rf}function Ve(n,e){return RS(n,e,null,!0),Ve}function jv(n){aV(hV,sV,n,!0)}function sV(n,e){for(let t=rV(e);t>=0;t=MS(e,t))Ed(n,nV(e),!0)}function RS(n,e,t,r){let i=W(),o=$e(),s=Sd(2);if(o.firstUpdatePass&&NS(o,n,s,r),e!==Mt&&dn(i,s,e)){let a=o.data[Fr()];PS(o,a,i,i[Ne],n,i[s+1]=mV(e,t),r,s)}}function aV(n,e,t,r){let i=$e(),o=Sd(2);i.firstUpdatePass&&NS(i,null,o,r);let s=W();if(t!==Mt&&dn(s,o,t)){let a=i.data[Fr()];if(OS(a,r)&&!xS(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=_d(c,t||"")),X_(i,a,s,t,r)}else pV(i,a,s,s[Ne],s[o+1],s[o+1]=fV(n,e,t),r,o)}}function xS(n,e){return e>=n.expandoStartIndex}function NS(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Fr()],s=xS(n,t);OS(o,r)&&e===null&&!s&&(e=!1),e=cV(i,o,e,r),JL(i,o,e,t,s,r)}}function cV(n,e,t,r){let i=n0(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=b_(null,n,e,t,r),t=Ec(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=b_(i,n,e,t,r),o===null){let c=lV(n,e,r);c!==void 0&&Array.isArray(c)&&(c=b_(null,n,e,c[1],r),c=Ec(c,e.attrs,r),uV(n,e,r,c))}else o=dV(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function lV(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Vs(r)!==0)return n[Io(r)]}function uV(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Io(i)]=r}function dV(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Ec(r,s,t)}return Ec(r,e.attrs,t)}function b_(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Ec(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Ec(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Ed(n,s,t?!0:e[++o]))}return n===void 0?null:n}function fV(n,e,t){if(t==null||t==="")return Dt;let r=[],i=Fn(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function hV(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&Ed(n,r,t)}function pV(n,e,t,r,i,o,s,a){i===Mt&&(i=Dt);let c=0,l=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let f=c<i.length?i[c+1]:void 0,h=l<o.length?o[l+1]:void 0,m=null,_;u===d?(c+=2,l+=2,f!==h&&(m=d,_=h)):d===null||u!==null&&u<d?(c+=2,m=u):(l+=2,m=d,_=h),m!==null&&PS(n,e,t,r,m,_,s,a),u=c<i.length?i[c]:null,d=l<o.length?o[l]:null}}function PS(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],u=XL(l)?H0(c,e,t,i,Vs(l),s):void 0;if(!lf(u)){lf(o)||QL(l)&&(o=H0(c,null,t,i,a,s));let d=jg(Fr(),t);rF(r,s,d,i,o)}}function H0(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,f=t[i+1];f===Mt&&(f=d?Dt:void 0);let h=d?wd(f,r):u===r?f:void 0;if(l&&!lf(h)&&(h=wd(c,r)),lf(h)&&(a=h,s))return a;let m=n[i+1];i=s?Io(m):Vs(m)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=wd(c,r))}return a}function lf(n){return n!==void 0}function mV(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Pr(Fn(n)))),n}function OS(n,e){return(n.flags&(e?8:16))!==0}function E(n,e=""){let t=W(),r=$e(),i=n+Oe,o=r.firstCreatePass?Hs(r,i,1,e,null):r.data[i],s=gV(r,t,o,e,n);t[i]=s,Nd()&&Iv(r,t,s,o),xs(o,!1)}var gV=(n,e,t,r,i)=>(Pd(!0),T1(e[Ne],r));function _V(n,e,t,r=""){return dn(n,bo(),t)?e+po(t)+r:Mt}function vV(n,e,t,r,i,o=""){let s=ZI(),a=Pv(n,s,t,i);return Sd(2),a?e+po(t)+r+po(i)+o:Mt}function Bn(n){return ge("",n),Bn}function ge(n,e,t){let r=W(),i=_V(r,n,e,t);return i!==Mt&&kS(r,Fr(),i),ge}function xf(n,e,t,r,i){let o=W(),s=vV(o,n,e,t,r,i);return s!==Mt&&kS(o,Fr(),s),xf}function kS(n,e,t){let r=jg(e,n);M1(n[Ne],r,t)}function mr(n,e,t){c_(e)&&(e=e());let r=W(),i=bo();if(dn(r,i,e)){let o=$e(),s=pc();zD(s,r,n,e,r[Ne],t)}return mr}function $r(n,e){let t=c_(n);return t&&n.set(e),t}function gr(n,e){let t=W(),r=$e(),i=yt();return TS(r,t,t[Ne],i,n,e),gr}function yV(n,e,t){let r=$e();if(r.firstCreatePass){let i=ar(n);tv(t,r.data,r.blueprint,i,!0),tv(e,r.data,r.blueprint,i,!1)}}function tv(n,e,t,r,i){if(n=st(n),Array.isArray(n))for(let o=0;o<n.length;o++)tv(n[o],e,t,r,i);else{let o=$e(),s=W(),a=yt(),c=uo(n)?n:st(n.provide),l=Og(n),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(uo(n)||!n.multi){let h=new wo(l,i,P,null),m=w_(c,e,i?u:u+f,d);m===-1?(I_(Kd(a,s),o,c),E_(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(h),s.push(h)):(t[m]=h,s[m]=h)}else{let h=w_(c,e,u+f,d),m=w_(c,e,u,u+f),_=h>=0&&t[h],C=m>=0&&t[m];if(i&&!C||!i&&!_){I_(Kd(a,s),o,c);let S=wV(i?EV:bV,t.length,i,r,l,n);!i&&C&&(t[m].providerFactory=S),E_(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(S),s.push(S)}else{let S=FS(t[i?m:h],l,!i&&r);E_(o,n,h>-1?h:m,S)}!i&&r&&C&&t[m].componentProviders++}}}function E_(n,e,t,r){let i=uo(e),o=VI(e);if(i||o){let c=(o?st(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(t);u===-1?l.push(t,[r,c]):l[u+1].push(r,c)}else l.push(t,c)}}}function FS(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function w_(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function bV(n,e,t,r,i){return nv(this.multi,[])}function EV(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=vc(r,r[U],this.providerFactory.index,i);s=c.slice(0,a),nv(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],nv(o,s);return s}function nv(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function wV(n,e,t,r,i,o){let s=new wo(n,t,P,null);return s.multi=[],s.index=e,s.componentProviders=0,FS(s,i,r&&!t),s}function $t(n,e=[]){return t=>{t.providersResolver=(r,i)=>yV(r,i?i(n):n,e)}}function Nf(n,e,t){let r=hc()+n,i=W();return i[r]===Mt?bf(i,r,t?e.call(t):e()):XF(i,r)}function Bv(n,e){let t=n[e];return t===Mt?void 0:t}function CV(n,e,t,r,i,o){let s=e+t;return dn(n,s,i)?bf(n,s+1,o?r.call(o,i):r(i)):Bv(n,s+1)}function IV(n,e,t,r,i,o,s){let a=e+t;return Pv(n,a,i,o)?bf(n,a+2,s?r.call(s,i,o):r(i,o)):Bv(n,a+2)}function DV(n,e,t,r,i,o,s,a){let c=e+t;return JF(n,c,i,o,s)?bf(n,c+3,a?r.call(a,i,o,s):r(i,o,s)):Bv(n,c+3)}function zt(n,e){let t=$e(),r,i=n+Oe;t.firstCreatePass?(r=SV(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=gi(r.type,!0)),s,a=It(P);try{let c=Yd(!1),l=o();return Yd(c),Bg(t,W(),i,l),l}finally{It(a)}}function SV(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function zr(n,e,t){let r=n+Oe,i=W(),o=dc(i,r);return Hv(i,r)?CV(i,hc(),e,o.transform,t,o):o.transform(t)}function So(n,e,t,r){let i=n+Oe,o=W(),s=dc(o,i);return Hv(o,i)?IV(o,hc(),e,s.transform,t,r,s):s.transform(t,r)}function Uv(n,e,t,r,i){let o=n+Oe,s=W(),a=dc(s,o);return Hv(s,o)?DV(s,hc(),e,a.transform,t,r,i,a):a.transform(t,r,i)}function Hv(n,e){return n[U].data[e].pure}function $v(n,e){return vf(n,e)}var uf=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},zv=(()=>{class n{compileModuleSync(t){return new cf(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Rg(t),o=CD(i.declarations).reduce((s,a)=>{let c=kr(a);return c&&s.push(new Co(c)),s},[]);return new uf(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var TV=(()=>{class n{zone=p(Q);changeDetectionScheduler=p(Or);applicationRef=p(Ht);applicationErrorHandler=p(Tt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),LS=new M("",{factory:()=>!1});function Wv({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Q(H(b({},qv()),{scheduleInRootZone:t})),[{provide:Q,useFactory:n},{provide:nr,multi:!0,useFactory:()=>{let r=p(TV,{optional:!0});return()=>r.initialize()}},{provide:nr,multi:!0,useFactory:()=>{let r=p(MV);return()=>{r.initialize()}}},e===!0?{provide:l_,useValue:!0}:[],{provide:u_,useValue:t??ND},{provide:Tt,useFactory:()=>{let r=p(Q),i=p(xe),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(An),o.handleError(s))})}}}]}function Gv(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=Wv({ngZoneFactory:()=>{let i=qv(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&pr("NgZone_CoalesceEvent"),new Q(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return rr([{provide:LS,useValue:!0},{provide:Ns,useValue:!1},r])}function qv(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var MV=(()=>{class n{subscription=new Pe;initialized=!1;zone=p(Q);pendingTasks=p(lr);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Q.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Q.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var VS=(()=>{class n{applicationErrorHandler=p(Tt);appRef=p(Ht);taskService=p(lr);ngZone=p(Q);zonelessEnabled=p(Ns);tracing=p(Do,{optional:!0});disableScheduling=p(l_,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Pe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Xd):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(p(u_,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Jd||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?D0:PD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Xd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,D0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function AV(){return typeof $localize<"u"&&$localize.locale||Mc}var Ac=new M("",{providedIn:"root",factory:()=>p(Ac,{optional:!0,skipSelf:!0})||AV()});function Ze(n){return EI(n)}function zs(n,e){return Bu(n,e?.equal)}var jS=class{[pt];constructor(e){this[pt]=e}destroy(){this[pt].destroy()}};var WS=Symbol("InputSignalNode#UNSET"),$V=H(b({},Uu),{transformFn:void 0,applyValueToInputSignal(n,e){ds(n,e)}});function GS(n,e){let t=Object.create($V);t.value=n,t.transformFn=e?.transform;function r(){if(cs(t),t.value===WS){let i=null;throw new w(-950,i)}return t.value}return r[pt]=t,r}var zV=new M("");zV.__NG_ELEMENT_ID__=n=>{let e=yt();if(e===null)throw new w(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new w(204,!1)};function BS(n,e){return GS(n,e)}function WV(n){return GS(WS,n)}var qS=(BS.required=WV,BS);var Yv=new M(""),GV=new M("");function Rc(n){return!n.moduleRef}function qV(n){let e=Rc(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Q);return t.run(()=>{Rc(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Tt),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),Rc(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Yv);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Yv);s.add(o),n.moduleRef.onDestroy(()=>{_c(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return KV(r,t,()=>{let o=e.get(lr),s=o.add(),a=e.get(Lv);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(Ac,Mc);if(SS(c||Mc),!e.get(GV,!0))return Rc(n)?e.get(Ht):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Rc(n)){let u=e.get(Ht);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return YV?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var YV;function KV(n,e,t){try{let r=t();return Hr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Pf=null;function QV(n=[],e){return De.create({name:e,providers:[{provide:ic,useValue:"platform"},{provide:Yv,useValue:new Set([()=>Pf=null])},...n]})}function ZV(n=[]){if(Pf)return Pf;let e=QV(n);return Pf=e,CS(),XV(e),e}function XV(n){let e=n.get(df,null);at(n,()=>{e?.forEach(t=>t())})}var Wr=(()=>{class n{static __NG_ELEMENT_ID__=JV}return n})();function JV(n){return e2(yt(),W(),(n&16)===16)}function e2(n,e,t){if(Ci(n)&&!t){let r=ln(n.index,e);return new Di(r,r)}else if(n.type&175){let r=e[jt];return new Di(r,e)}return null}var Kv=class{constructor(){}supports(e){return Nv(e)}create(e){return new Qv(e)}},t2=(n,e)=>e,Qv=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||t2}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<US(r,i,o)?t:r,a=US(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let f=0;f<l;f++){let h=f<o.length?o[f]:o[f]=0,m=h+f;u<=m&&m<l&&(o[f]=h+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!Nv(e))throw new w(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,fS(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Zv(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Of),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Of),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Zv=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},Xv=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Of=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Xv,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function US(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function HS(){return new Jv([new Kv])}var Jv=(()=>{class n{factories;static \u0275prov=D({token:n,providedIn:"root",factory:HS});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=p(n,{optional:!0,skipSelf:!0});return n.create(t,r||HS())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new w(901,!1)}}return n})();function YS(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;Ee(8);try{let o=i?.injector??ZV(r),s=[Wv({}),{provide:Or,useExisting:VS},l0,...t||[]],a=new bc({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return qV({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Ee(9)}}function Un(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function KS(n,e=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):e}function kf(n,e){let t=kr(n),r=e.elementInjector||Ds();return new Co(t).create(r,e.projectableNodes,e.hostElement,e.environmentInjector,e.directives,e.bindings)}var XS=null;function vn(){return XS}function ey(n){XS??=n}var xc=class{},ty=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=D({token:n,factory:()=>p(JS),providedIn:"platform"})}return n})();var JS=(()=>{class n extends ty{_location;_history;_doc=p(re);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return vn().getBaseHref(this._doc)}onPopState(t){let r=vn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=vn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=D({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function eT(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function QS(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Mi(n){return n&&n[0]!=="?"?`?${n}`:n}var Ff=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=D({token:n,factory:()=>p(nT),providedIn:"root"})}return n})(),tT=new M(""),nT=(()=>{class n extends Ff{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??p(re).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return eT(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Mi(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Mi(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Mi(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(x(ty),x(tT,8))};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ai=(()=>{class n{_subject=new ne;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=i2(QS(ZS(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Mi(r))}normalize(t){return n.stripTrailingSlash(r2(this._basePath,ZS(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Mi(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Mi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Mi;static joinWithSlash=eT;static stripTrailingSlash=QS;static \u0275fac=function(r){return new(r||n)(x(Ff))};static \u0275prov=D({token:n,factory:()=>n2(),providedIn:"root"})}return n})();function n2(){return new Ai(x(Ff))}function r2(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function ZS(n){return n.replace(/\/index.html$/,"")}function i2(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var bt=(function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n})(bt||{}),Ie=(function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n})(Ie||{}),Wt=(function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n})(Wt||{}),qr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function aT(n){return en(n)[ze.LocaleId]}function cT(n,e,t){let r=en(n),i=[r[ze.DayPeriodsFormat],r[ze.DayPeriodsStandalone]],o=yn(i,e);return yn(o,t)}function lT(n,e,t){let r=en(n),i=[r[ze.DaysFormat],r[ze.DaysStandalone]],o=yn(i,e);return yn(o,t)}function uT(n,e,t){let r=en(n),i=[r[ze.MonthsFormat],r[ze.MonthsStandalone]],o=yn(i,e);return yn(o,t)}function dT(n,e){let r=en(n)[ze.Eras];return yn(r,e)}function Nc(n,e){let t=en(n);return yn(t[ze.DateFormat],e)}function Pc(n,e){let t=en(n);return yn(t[ze.TimeFormat],e)}function Oc(n,e){let r=en(n)[ze.DateTimeFormat];return yn(r,e)}function kc(n,e){let t=en(n),r=t[ze.NumberSymbols][e];if(typeof r>"u"){if(e===qr.CurrencyDecimal)return t[ze.NumberSymbols][qr.Decimal];if(e===qr.CurrencyGroup)return t[ze.NumberSymbols][qr.Group]}return r}function fT(n){if(!n[ze.ExtraData])throw new w(2303,!1)}function hT(n){let e=en(n);return fT(e),(e[ze.ExtraData][2]||[]).map(r=>typeof r=="string"?ny(r):[ny(r[0]),ny(r[1])])}function pT(n,e,t){let r=en(n);fT(r);let i=[r[ze.ExtraData][0],r[ze.ExtraData][1]],o=yn(i,e)||[];return yn(o,t)||[]}function yn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new w(2304,!1)}function ny(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var o2=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Lf={},s2=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function mT(n,e,t,r){let i=m2(n);e=Gr(t,e)||e;let s=[],a;for(;e;)if(a=s2.exec(e),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;e=u}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=_T(r,c),i=p2(i,r));let l="";return s.forEach(u=>{let d=f2(u);l+=d?d(i,t,c):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Hf(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Gr(n,e){let t=aT(n);if(Lf[t]??={},Lf[t][e])return Lf[t][e];let r="";switch(e){case"shortDate":r=Nc(n,Wt.Short);break;case"mediumDate":r=Nc(n,Wt.Medium);break;case"longDate":r=Nc(n,Wt.Long);break;case"fullDate":r=Nc(n,Wt.Full);break;case"shortTime":r=Pc(n,Wt.Short);break;case"mediumTime":r=Pc(n,Wt.Medium);break;case"longTime":r=Pc(n,Wt.Long);break;case"fullTime":r=Pc(n,Wt.Full);break;case"short":let i=Gr(n,"shortTime"),o=Gr(n,"shortDate");r=Vf(Oc(n,Wt.Short),[i,o]);break;case"medium":let s=Gr(n,"mediumTime"),a=Gr(n,"mediumDate");r=Vf(Oc(n,Wt.Medium),[s,a]);break;case"long":let c=Gr(n,"longTime"),l=Gr(n,"longDate");r=Vf(Oc(n,Wt.Long),[c,l]);break;case"full":let u=Gr(n,"fullTime"),d=Gr(n,"fullDate");r=Vf(Oc(n,Wt.Full),[u,d]);break}return r&&(Lf[t][e]=r),r}function Vf(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function Hn(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function a2(n,e){return Hn(n,3).substring(0,e)}function qe(n,e,t=0,r=!1,i=!1){return function(o,s){let a=c2(n,o);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return a2(a,e);let c=kc(s,qr.MinusSign);return Hn(a,e,c,r,i)}}function c2(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new w(2301,!1)}}function Ae(n,e,t=bt.Format,r=!1){return function(i,o){return l2(i,o,n,e,t,r)}}function l2(n,e,t,r,i,o){switch(t){case 2:return uT(e,i,r)[n.getMonth()];case 1:return lT(e,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let l=hT(e),u=pT(e,i,r),d=l.findIndex(f=>{if(Array.isArray(f)){let[h,m]=f,_=s>=h.hours&&a>=h.minutes,C=s<m.hours||s===m.hours&&a<m.minutes;if(h.hours<m.hours){if(_&&C)return!0}else if(_||C)return!0}else if(f.hours===s&&f.minutes===a)return!0;return!1});if(d!==-1)return u[d]}return cT(e,i,r)[s<12?0:1];case 3:return dT(e,r)[n.getFullYear()<=0?0:1];default:let c=t;throw new w(2302,!1)}}function jf(n){return function(e,t,r){let i=-1*r,o=kc(t,qr.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+Hn(s,2,o)+Hn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Hn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Hn(s,2,o)+":"+Hn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Hn(s,2,o)+":"+Hn(Math.abs(i%60),2,o);default:throw new w(2310,!1)}}}var u2=0,Uf=4;function d2(n){let e=Hf(n,u2,1).getDay();return Hf(n,0,1+(e<=Uf?Uf:Uf+7)-e)}function gT(n){let e=n.getDay(),t=e===0?-3:Uf-e;return Hf(n.getFullYear(),n.getMonth(),n.getDate()+t)}function ry(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=gT(t),s=d2(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Hn(i,n,kc(r,qr.MinusSign))}}function Bf(n,e=!1){return function(t,r){let o=gT(t).getFullYear();return Hn(o,n,kc(r,qr.MinusSign),e)}}var iy={};function f2(n){if(iy[n])return iy[n];let e;switch(n){case"G":case"GG":case"GGG":e=Ae(3,Ie.Abbreviated);break;case"GGGG":e=Ae(3,Ie.Wide);break;case"GGGGG":e=Ae(3,Ie.Narrow);break;case"y":e=qe(0,1,0,!1,!0);break;case"yy":e=qe(0,2,0,!0,!0);break;case"yyy":e=qe(0,3,0,!1,!0);break;case"yyyy":e=qe(0,4,0,!1,!0);break;case"Y":e=Bf(1);break;case"YY":e=Bf(2,!0);break;case"YYY":e=Bf(3);break;case"YYYY":e=Bf(4);break;case"M":case"L":e=qe(1,1,1);break;case"MM":case"LL":e=qe(1,2,1);break;case"MMM":e=Ae(2,Ie.Abbreviated);break;case"MMMM":e=Ae(2,Ie.Wide);break;case"MMMMM":e=Ae(2,Ie.Narrow);break;case"LLL":e=Ae(2,Ie.Abbreviated,bt.Standalone);break;case"LLLL":e=Ae(2,Ie.Wide,bt.Standalone);break;case"LLLLL":e=Ae(2,Ie.Narrow,bt.Standalone);break;case"w":e=ry(1);break;case"ww":e=ry(2);break;case"W":e=ry(1,!0);break;case"d":e=qe(2,1);break;case"dd":e=qe(2,2);break;case"c":case"cc":e=qe(7,1);break;case"ccc":e=Ae(1,Ie.Abbreviated,bt.Standalone);break;case"cccc":e=Ae(1,Ie.Wide,bt.Standalone);break;case"ccccc":e=Ae(1,Ie.Narrow,bt.Standalone);break;case"cccccc":e=Ae(1,Ie.Short,bt.Standalone);break;case"E":case"EE":case"EEE":e=Ae(1,Ie.Abbreviated);break;case"EEEE":e=Ae(1,Ie.Wide);break;case"EEEEE":e=Ae(1,Ie.Narrow);break;case"EEEEEE":e=Ae(1,Ie.Short);break;case"a":case"aa":case"aaa":e=Ae(0,Ie.Abbreviated);break;case"aaaa":e=Ae(0,Ie.Wide);break;case"aaaaa":e=Ae(0,Ie.Narrow);break;case"b":case"bb":case"bbb":e=Ae(0,Ie.Abbreviated,bt.Standalone,!0);break;case"bbbb":e=Ae(0,Ie.Wide,bt.Standalone,!0);break;case"bbbbb":e=Ae(0,Ie.Narrow,bt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ae(0,Ie.Abbreviated,bt.Format,!0);break;case"BBBB":e=Ae(0,Ie.Wide,bt.Format,!0);break;case"BBBBB":e=Ae(0,Ie.Narrow,bt.Format,!0);break;case"h":e=qe(3,1,-12);break;case"hh":e=qe(3,2,-12);break;case"H":e=qe(3,1);break;case"HH":e=qe(3,2);break;case"m":e=qe(4,1);break;case"mm":e=qe(4,2);break;case"s":e=qe(5,1);break;case"ss":e=qe(5,2);break;case"S":e=qe(6,1);break;case"SS":e=qe(6,2);break;case"SSS":e=qe(6,3);break;case"Z":case"ZZ":case"ZZZ":e=jf(0);break;case"ZZZZZ":e=jf(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=jf(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=jf(2);break;default:return null}return iy[n]=e,e}function _T(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function h2(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function p2(n,e,t){let i=n.getTimezoneOffset(),o=_T(e,i);return h2(n,-1*(o-i))}function m2(n){if(rT(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return Hf(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(o2))return g2(r)}let e=new Date(n);if(!rT(e))throw new w(2311,!1);return e}function g2(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),l=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,c,l),e}function rT(n){return n instanceof Date&&!isNaN(n.valueOf())}var oy=/\s+/,iT=[],To=(()=>{class n{_ngEl;_renderer;initialClasses=iT;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(oy):iT}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(oy):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(oy).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(P(ke),P(fn))};static \u0275dir=pe({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var $f=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},_r=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new $f(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),oT(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);oT(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(P(hn),P(un),P(Jv))};static \u0275dir=pe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function oT(n,e){n.context.$implicit=e.item}var $n=(()=>{class n{_viewContainer;_context=new zf;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){sT(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){sT(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(P(hn),P(un))};static \u0275dir=pe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),zf=class{$implicit=null;ngIf=null};function sT(n,e){if(n&&!n.createEmbeddedView)throw new w(2020,!1)}function cy(n,e){return new w(2100,!1)}var sy=class{createSubscription(e,t,r){return Ze(()=>e.subscribe({next:t,error:r}))}dispose(e){Ze(()=>e.unsubscribe())}},ay=class{createSubscription(e,t,r){return e.then(i=>t?.(i),i=>r?.(i)),{unsubscribe:()=>{t=null,r=null}}}dispose(e){e.unsubscribe()}},_2=new ay,v2=new sy,Fc=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=p(Tt);constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r),r=>this.applicationErrorHandler(r))}_selectStrategy(t){if(Hr(t))return _2;if(Cf(t))return v2;throw cy(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(P(Wr,16))};static \u0275pipe=Tc({name:"async",type:n,pure:!1})}return n})();var y2="mediumDate",vT=new M(""),yT=new M(""),Mo=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??y2,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return mT(t,s,o||this.locale,a)}catch(s){throw cy(n,s.message)}}static \u0275fac=function(r){return new(r||n)(P(Ac,16),P(vT,24),P(yT,24))};static \u0275pipe=Tc({name:"date",type:n,pure:!0})}return n})();var ly=(()=>{class n{transform(t,r,i){if(t==null)return null;if(!(typeof t=="string"||Array.isArray(t)))throw cy(n,t);return t.slice(r,i)}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=Tc({name:"slice",type:n,pure:!1})}return n})();var Ye=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=At({type:n});static \u0275inj=_t({})}return n})();function Lc(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Ao=class{};var uy="browser";function bT(n){return n===uy}var jc=class{_doc;constructor(e){this._doc=e}manager},Wf=(()=>{class n extends jc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(x(re))};static \u0275prov=D({token:n,factory:n.\u0275fac})}return n})(),qf=new M(""),my=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof Wf));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof Wf);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new w(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(x(qf),x(Q))};static \u0275prov=D({token:n,factory:n.\u0275fac})}return n})(),dy="ng-app-id";function ET(n){for(let e of n)e.remove()}function wT(n,e){let t=e.createElement("style");return t.textContent=n,t}function b2(n,e,t,r){let i=n.head?.querySelectorAll(`style[${dy}="${e}"],link[${dy}="${e}"]`);if(i)for(let o of i)o.removeAttribute(dy),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function hy(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var gy=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,b2(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,wT);r?.forEach(i=>this.addUsage(i,this.external,hy))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(ET(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])ET(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,wT(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,hy(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(x(re),x(Bs),x(Us,8),x(Si))};static \u0275prov=D({token:n,factory:n.\u0275fac})}return n})(),fy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},_y=/%COMP%/g;var IT="%COMP%",E2=`_nghost-${IT}`,w2=`_ngcontent-${IT}`,C2=!0,I2=new M("",{providedIn:"root",factory:()=>C2});function D2(n){return w2.replace(_y,n)}function S2(n){return E2.replace(_y,n)}function DT(n,e){return e.map(t=>t.replace(_y,n))}var Hc=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,c,l=null,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=u,this.platformIsServer=!1,this.defaultRenderer=new Bc(t,s,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Gf?i.applyToHost(t):i instanceof Uc&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,f=this.tracingService;switch(r.encapsulation){case Lr.Emulated:o=new Gf(c,l,r,this.appId,u,s,a,d,f);break;case Lr.ShadowDom:return new py(c,l,t,r,s,a,this.nonce,d,f);default:o=new Uc(c,l,r,u,s,a,d,f);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(x(my),x(gy),x(Bs),x(I2),x(re),x(Si),x(Q),x(Us),x(Do,8))};static \u0275prov=D({token:n,factory:n.\u0275fac})}return n})(),Bc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(fy[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(CT(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(CT(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new w(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=fy[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=fy[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(dr.DashCase|dr.Important)?e.style.setProperty(t,r,i&dr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&dr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=vn().getGlobalEventTarget(this.doc,e),!e))throw new w(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function CT(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var py=class extends Bc{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,c,l){super(e,o,s,c,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=DT(i.id,u);for(let f of u){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}let d=i.getExternalStyles?.();if(d)for(let f of d){let h=hy(f,o);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Uc=class extends Bc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,c,l){super(e,o,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=l?DT(l,u):u,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Ls.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Gf=class extends Uc{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,c,l){let u=i+"-"+r.id;super(e,t,r,o,s,a,c,l,u),this.contentAttr=D2(u),this.hostAttr=S2(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Yf=class n extends xc{supportsDOMEvents=!0;static makeCurrent(){ey(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=T2();return t==null?null:M2(t)}resetBaseElement(){$c=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Lc(document.cookie,e)}},$c=null;function T2(){return $c=$c||document.head.querySelector("base"),$c?$c.getAttribute("href"):null}function M2(n){return new URL(n,document.baseURI).pathname}var A2=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=D({token:n,factory:n.\u0275fac})}return n})(),ST=["alt","control","meta","shift"],R2={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},x2={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},TT=(()=>{class n extends jc{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),ST.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=R2[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),ST.forEach(s=>{if(s!==i){let a=x2[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(x(re))};static \u0275prov=D({token:n,factory:n.\u0275fac})}return n})();function vy(n,e,t){let r=b({rootComponent:n,platformRef:t?.platformRef},N2(e));return YS(r)}function N2(n){return{appProviders:[...L2,...n?.providers??[]],platformProviders:F2}}function P2(){Yf.makeCurrent()}function O2(){return new An}function k2(){return ov(document),document}var F2=[{provide:Si,useValue:uy},{provide:df,useValue:P2,multi:!0},{provide:re,useFactory:k2}];var L2=[{provide:ic,useValue:"root"},{provide:An,useFactory:O2},{provide:qf,useClass:Wf,multi:!0,deps:[re]},{provide:qf,useClass:TT,multi:!0,deps:[re]},Hc,gy,my,{provide:lt,useExisting:Hc},{provide:Ao,useClass:A2},[]];var qs=class{},zc=class{},Ri=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Qf=class{encodeKey(e){return MT(e)}encodeValue(e){return MT(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function V2(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var j2=/%(\d[a-f0-9])/gi,B2={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function MT(n){return encodeURIComponent(n).replace(j2,(e,t)=>B2[t]??e)}function Kf(n){return`${n}`}var Yr=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Qf,e.fromString){if(e.fromObject)throw new w(2805,!1);this.map=V2(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Kf):[Kf(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Kf(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Kf(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Zf=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function U2(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function AT(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function RT(n){return typeof Blob<"u"&&n instanceof Blob}function xT(n){return typeof FormData<"u"&&n instanceof FormData}function H2(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var NT="Content-Type",PT="Accept",OT="X-Request-URL",kT="text/plain",FT="application/json",$2=`${FT}, ${kT}, */*`,Ws=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(U2(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new w(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),this.transferCache=o.transferCache}if(this.headers??=new Ri,this.context??=new Zf,!this.params)this.params=new Yr,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||AT(this.body)||RT(this.body)||xT(this.body)||H2(this.body)?this.body:this.body instanceof Yr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||xT(this.body)?null:RT(this.body)?this.body.type||null:AT(this.body)?null:typeof this.body=="string"?kT:this.body instanceof Yr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?FT:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.priority||this.priority,a=e.cache||this.cache,c=e.mode||this.mode,l=e.redirect||this.redirect,u=e.credentials||this.credentials,d=e.referrer||this.referrer,f=e.integrity||this.integrity,h=e.transferCache??this.transferCache,m=e.timeout??this.timeout,_=e.body!==void 0?e.body:this.body,C=e.withCredentials??this.withCredentials,S=e.reportProgress??this.reportProgress,j=e.headers||this.headers,ae=e.params||this.params,ce=e.context??this.context;return e.setHeaders!==void 0&&(j=Object.keys(e.setHeaders).reduce((kt,Je)=>kt.set(Je,e.setHeaders[Je]),j)),e.setParams&&(ae=Object.keys(e.setParams).reduce((kt,Je)=>kt.set(Je,e.setParams[Je]),ae)),new n(t,r,_,{params:ae,headers:j,context:ce,reportProgress:S,responseType:i,withCredentials:C,transferCache:h,keepalive:o,cache:a,priority:s,timeout:m,mode:c,redirect:l,credentials:u,referrer:d,integrity:f})}},Ro=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(Ro||{}),Ys=class{headers;status;statusText;url;ok;type;redirected;constructor(e,t=200,r="OK"){this.headers=e.headers||new Ri,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.ok=this.status>=200&&this.status<300}},Xf=class n extends Ys{constructor(e={}){super(e)}type=Ro.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Wc=class n extends Ys{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Ro.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected})}},Gs=class extends Ys{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},z2=200,W2=204;function yy(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer}}var eh=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Ws)o=t;else{let c;i.headers instanceof Ri?c=i.headers:c=new Ri(i.headers);let l;i.params&&(i.params instanceof Yr?l=i.params:l=new Yr({fromObject:i.params})),o=new Ws(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,integrity:i.integrity,timeout:i.timeout})}let s=O(o).pipe(pi(c=>this.handler.handle(c)));if(t instanceof Ws||i.observe==="events")return s;let a=s.pipe(mt(c=>c instanceof Wc));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(z(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new w(2806,!1);return c.body}));case"blob":return a.pipe(z(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new w(2807,!1);return c.body}));case"text":return a.pipe(z(c=>{if(c.body!==null&&typeof c.body!="string")throw new w(2808,!1);return c.body}));case"json":default:return a.pipe(z(c=>c.body))}case"response":return a;default:throw new w(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Yr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,yy(i,r))}post(t,r,i={}){return this.request("POST",t,yy(i,r))}put(t,r,i={}){return this.request("PUT",t,yy(i,r))}static \u0275fac=function(r){return new(r||n)(x(qs))};static \u0275prov=D({token:n,factory:n.\u0275fac})}return n})();var G2=new M("");function q2(n,e){return e(n)}function Y2(n,e,t){return(r,i)=>at(t,()=>e(r,o=>n(o,i)))}var LT=new M(""),VT=new M(""),jT=new M("",{providedIn:"root",factory:()=>!0});var Jf=(()=>{class n extends qs{backend;injector;chain=null;pendingTasks=p(kd);contributeToStability=p(jT);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(LT),...this.injector.get(VT,[])]));this.chain=r.reduceRight((i,o)=>Y2(i,o,this.injector),q2)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(ao(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(x(zc),x(xe))};static \u0275prov=D({token:n,factory:n.\u0275fac})}return n})();var K2=/^\)\]\}',?\n/,Q2=RegExp(`^${OT}:`,"m");function Z2(n){return"responseURL"in n&&n.responseURL?n.responseURL:Q2.test(n.getAllResponseHeaders())?n.getResponseHeader(OT):null}var by=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new w(-2800,!1);let r=this.xhrFactory;return O(null).pipe(gt(()=>new ie(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((C,S)=>s.setRequestHeader(C,S.join(","))),t.headers.has(PT)||s.setRequestHeader(PT,$2),!t.headers.has(NT)){let C=t.detectContentTypeHeader();C!==null&&s.setRequestHeader(NT,C)}if(t.timeout&&(s.timeout=t.timeout),t.responseType){let C=t.responseType.toLowerCase();s.responseType=C!=="json"?C:"text"}let a=t.serializeBody(),c=null,l=()=>{if(c!==null)return c;let C=s.statusText||"OK",S=new Ri(s.getAllResponseHeaders()),j=Z2(s)||t.url;return c=new Xf({headers:S,status:s.status,statusText:C,url:j}),c},u=()=>{let{headers:C,status:S,statusText:j,url:ae}=l(),ce=null;S!==W2&&(ce=typeof s.response>"u"?s.responseText:s.response),S===0&&(S=ce?z2:0);let kt=S>=200&&S<300;if(t.responseType==="json"&&typeof ce=="string"){let Je=ce;ce=ce.replace(K2,"");try{ce=ce!==""?JSON.parse(ce):null}catch(ot){ce=Je,kt&&(kt=!1,ce={error:ot,text:ce})}}kt?(o.next(new Wc({body:ce,headers:C,status:S,statusText:j,url:ae||void 0})),o.complete()):o.error(new Gs({error:ce,headers:C,status:S,statusText:j,url:ae||void 0}))},d=C=>{let{url:S}=l(),j=new Gs({error:C,status:s.status||0,statusText:s.statusText||"Unknown Error",url:S||void 0});o.error(j)},f=d;t.timeout&&(f=C=>{let{url:S}=l(),j=new Gs({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:S||void 0});o.error(j)});let h=!1,m=C=>{h||(o.next(l()),h=!0);let S={type:Ro.DownloadProgress,loaded:C.loaded};C.lengthComputable&&(S.total=C.total),t.responseType==="text"&&s.responseText&&(S.partialText=s.responseText),o.next(S)},_=C=>{let S={type:Ro.UploadProgress,loaded:C.loaded};C.lengthComputable&&(S.total=C.total),o.next(S)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",f),s.addEventListener("abort",d),t.reportProgress&&(s.addEventListener("progress",m),a!==null&&s.upload&&s.upload.addEventListener("progress",_)),s.send(a),o.next({type:Ro.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",f),t.reportProgress&&(s.removeEventListener("progress",m),a!==null&&s.upload&&s.upload.removeEventListener("progress",_)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(x(Ao))};static \u0275prov=D({token:n,factory:n.\u0275fac})}return n})(),BT=new M(""),X2="XSRF-TOKEN",J2=new M("",{providedIn:"root",factory:()=>X2}),ej="X-XSRF-TOKEN",tj=new M("",{providedIn:"root",factory:()=>ej}),Gc=class{},nj=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Lc(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(x(re),x(J2))};static \u0275prov=D({token:n,factory:n.\u0275fac})}return n})();function rj(n,e){let t=n.url.toLowerCase();if(!p(BT)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=p(Gc).getToken(),i=p(tj);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function Ey(...n){let e=[eh,by,Jf,{provide:qs,useExisting:Jf},{provide:zc,useFactory:()=>p(G2,{optional:!0})??p(by)},{provide:LT,useValue:rj,multi:!0},{provide:BT,useValue:!0},{provide:Gc,useClass:nj}];for(let t of n)e.push(...t.\u0275providers);return rr(e)}var UT=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(x(re))};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var wy=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=D({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=x(ij),i},providedIn:"root"})}return n})(),ij=(()=>{class n extends wy{_doc;constructor(t){super(),this._doc=t}sanitize(t,r){if(r==null)return null;switch(t){case Ln.NONE:return r;case Ln.HTML:return Br(r,"HTML")?Fn(r):dv(this._doc,String(r)).toString();case Ln.STYLE:return Br(r,"Style")?Fn(r):r;case Ln.SCRIPT:if(Br(r,"Script"))return Fn(r);throw new w(5200,!1);case Ln.URL:return Br(r,"URL")?Fn(r):Cc(String(r));case Ln.RESOURCE_URL:if(Br(r,"ResourceURL"))return Fn(r);throw new w(5201,!1);default:throw new w(5202,!1)}}bypassSecurityTrustHtml(t){return sv(t)}bypassSecurityTrustStyle(t){return av(t)}bypassSecurityTrustScript(t){return cv(t)}bypassSecurityTrustUrl(t){return lv(t)}bypassSecurityTrustResourceUrl(t){return uv(t)}static \u0275fac=function(r){return new(r||n)(x(re))};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var q="primary",al=Symbol("RouteTitle"),Ty=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Po(n){return new Ty(n)}function KT(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function sj(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!vr(n[t],e[t]))return!1;return!0}function vr(n,e){let t=n?My(n):void 0,r=e?My(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!QT(n[i],e[i]))return!1;return!0}function My(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function QT(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function ZT(n){return n.length>0?n[n.length-1]:null}function Zr(n){return tg(n)?n:Hr(n)?je(Promise.resolve(n)):O(n)}var aj={exact:JT,subset:eM},XT={exact:cj,subset:lj,ignored:()=>!0};function HT(n,e,t){return aj[t.paths](n.root,e.root,t.matrixParams)&&XT[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function cj(n,e){return vr(n,e)}function JT(n,e,t){if(!xo(n.segments,e.segments)||!rh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!JT(n.children[r],e.children[r],t))return!1;return!0}function lj(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>QT(n[t],e[t]))}function eM(n,e,t){return tM(n,e,e.segments,t)}function tM(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!xo(i,t)||e.hasChildren()||!rh(i,t,r))}else if(n.segments.length===t.length){if(!xo(n.segments,t)||!rh(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!eM(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!xo(n.segments,i)||!rh(n.segments,i,r)||!n.children[q]?!1:tM(n.children[q],e,o,r)}}function rh(n,e,t){return e.every((r,i)=>XT[t](n[i].parameters,r.parameters))}var br=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ve([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Po(this.queryParams),this._queryParamMap}toString(){return fj.serialize(this)}},ve=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ih(this)}},xi=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Po(this.parameters),this._parameterMap}toString(){return rM(this)}};function uj(n,e){return xo(n,e)&&n.every((t,r)=>vr(t.parameters,e[r].parameters))}function xo(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function dj(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===q&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==q&&(t=t.concat(e(i,r)))}),t}var cl=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=D({token:n,factory:()=>new Oo,providedIn:"root"})}return n})(),Oo=class{parse(e){let t=new Ry(e);return new br(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${qc(e.root,!0)}`,r=mj(e.queryParams),i=typeof e.fragment=="string"?`#${hj(e.fragment)}`:"";return`${t}${r}${i}`}},fj=new Oo;function ih(n){return n.segments.map(e=>rM(e)).join("/")}function qc(n,e){if(!n.hasChildren())return ih(n);if(e){let t=n.children[q]?qc(n.children[q],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==q&&r.push(`${i}:${qc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=dj(n,(r,i)=>i===q?[qc(n.children[q],!1)]:[`${i}:${qc(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[q]!=null?`${ih(n)}/${t[0]}`:`${ih(n)}/(${t.join("//")})`}}function nM(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function th(n){return nM(n).replace(/%3B/gi,";")}function hj(n){return encodeURI(n)}function Ay(n){return nM(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function oh(n){return decodeURIComponent(n)}function $T(n){return oh(n.replace(/\+/g,"%20"))}function rM(n){return`${Ay(n.path)}${pj(n.parameters)}`}function pj(n){return Object.entries(n).map(([e,t])=>`;${Ay(e)}=${Ay(t)}`).join("")}function mj(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${th(t)}=${th(i)}`).join("&"):`${th(t)}=${th(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var gj=/^[^\/()?;#]+/;function Cy(n){let e=n.match(gj);return e?e[0]:""}var _j=/^[^\/()?;=#]+/;function vj(n){let e=n.match(_j);return e?e[0]:""}var yj=/^[^=?&#]+/;function bj(n){let e=n.match(yj);return e?e[0]:""}var Ej=/^[^&#]+/;function wj(n){let e=n.match(Ej);return e?e[0]:""}var Ry=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ve([],{}):new ve([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[q]=new ve(e,t)),r}parseSegment(){let e=Cy(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new w(4009,!1);return this.capture(e),new xi(oh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=vj(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Cy(this.remaining);i&&(r=i,this.capture(r))}e[oh(t)]=oh(r)}parseQueryParam(e){let t=bj(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=wj(this.remaining);s&&(r=s,this.capture(r))}let i=$T(t),o=$T(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Cy(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new w(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=q);let s=this.parseChildren();t[o??q]=Object.keys(s).length===1&&s[q]?s[q]:new ve([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new w(4011,!1)}};function iM(n){return n.segments.length>0?new ve([],{[q]:n}):n}function oM(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=oM(i);if(r===q&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new ve(n.segments,e);return Cj(t)}function Cj(n){if(n.numberOfChildren===1&&n.children[q]){let e=n.children[q];return new ve(n.segments.concat(e.segments),e.children)}return n}function Js(n){return n instanceof br}function sM(n,e,t=null,r=null){let i=aM(n);return cM(i,e,t,r)}function aM(n){let e;function t(o){let s={};for(let c of o.children){let l=t(c);s[c.outlet]=l}let a=new ve(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=iM(r);return e??i}function cM(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Iy(i,i,i,t,r);let o=Ij(e);if(o.toRoot())return Iy(i,i,new ve([],{}),t,r);let s=Dj(o,i,n),a=s.processChildren?Kc(s.segmentGroup,s.index,o.commands):uM(s.segmentGroup,s.index,o.commands);return Iy(i,s.segmentGroup,a,t,r)}function sh(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Xc(n){return typeof n=="object"&&n!=null&&n.outlets}function Iy(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;n===e?s=t:s=lM(n,e,t);let a=iM(oM(s));return new br(a,o,i)}function lM(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=lM(o,e,t)}),new ve(n.segments,r)}var ah=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&sh(r[0]))throw new w(4003,!1);let i=r.find(Xc);if(i&&i!==ZT(r))throw new w(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Ij(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new ah(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new ah(t,e,r)}var Zs=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function Dj(n,e,t){if(n.isAbsolute)return new Zs(e,!0,0);if(!t)return new Zs(e,!1,NaN);if(t.parent===null)return new Zs(t,!0,0);let r=sh(n.commands[0])?0:1,i=t.segments.length-1+r;return Sj(t,i,n.numberOfDoubleDots)}function Sj(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new w(4005,!1);i=r.segments.length}return new Zs(r,!1,i-o)}function Tj(n){return Xc(n[0])?n[0].outlets:{[q]:n}}function uM(n,e,t){if(n??=new ve([],{}),n.segments.length===0&&n.hasChildren())return Kc(n,e,t);let r=Mj(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new ve(n.segments.slice(0,r.pathIndex),{});return o.children[q]=new ve(n.segments.slice(r.pathIndex),n.children),Kc(o,0,i)}else return r.match&&i.length===0?new ve(n.segments,{}):r.match&&!n.hasChildren()?xy(n,e,t):r.match?Kc(n,0,i):xy(n,e,t)}function Kc(n,e,t){if(t.length===0)return new ve(n.segments,{});{let r=Tj(t),i={};if(Object.keys(r).some(o=>o!==q)&&n.children[q]&&n.numberOfChildren===1&&n.children[q].segments.length===0){let o=Kc(n.children[q],e,t);return new ve(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=uM(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ve(n.segments,i)}}function Mj(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Xc(a))break;let c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!WT(c,l,s))return o;r+=2}else{if(!WT(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function xy(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Xc(o)){let c=Aj(o.outlets);return new ve(r,c)}if(i===0&&sh(t[0])){let c=n.segments[e];r.push(new xi(c.path,zT(t[0]))),i++;continue}let s=Xc(o)?o.outlets[q]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&sh(a)?(r.push(new xi(s,zT(a))),i+=2):(r.push(new xi(s,{})),i++)}return new ve(r,{})}function Aj(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=xy(new ve([],{}),0,r))}),e}function zT(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function WT(n,e,t){return n==t.path&&vr(e,t.parameters)}var Qc="imperative",rt=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(rt||{}),nn=class{id;url;constructor(e,t){this.id=e,this.url=t}},ko=class extends nn{type=rt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Kr=class extends nn{urlAfterRedirects;type=rt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},xt=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(xt||{}),Jc=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(Jc||{}),yr=class extends nn{reason;code;type=rt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Qr=class extends nn{reason;code;type=rt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},ea=class extends nn{error;target;type=rt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},el=class extends nn{urlAfterRedirects;state;type=rt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ch=class extends nn{urlAfterRedirects;state;type=rt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lh=class extends nn{urlAfterRedirects;state;shouldActivate;type=rt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},uh=class extends nn{urlAfterRedirects;state;type=rt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},dh=class extends nn{urlAfterRedirects;state;type=rt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fh=class{route;type=rt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},hh=class{route;type=rt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ph=class{snapshot;type=rt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mh=class{snapshot;type=rt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gh=class{snapshot;type=rt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_h=class{snapshot;type=rt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var tl=class{},ta=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function Rj(n){return!(n instanceof tl)&&!(n instanceof ta)}function xj(n,e){return n.providers&&!n._injector&&(n._injector=Sc(n.providers,e,`Route: ${n.path}`)),n._injector??e}function zn(n){return n.outlet||q}function Nj(n,e){let t=n.filter(r=>zn(r)===e);return t.push(...n.filter(r=>zn(r)!==e)),t}function ia(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var vh=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ia(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new oa(this.rootInjector)}},oa=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new vh(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(x(xe))};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yh=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Ny(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Ny(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Py(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Py(e,this._root).map(t=>t.value)}};function Ny(n,e){if(n===e.value)return e;for(let t of e.children){let r=Ny(n,t);if(r)return r}return null}function Py(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Py(n,t);if(r.length)return r.unshift(e),r}return[]}var tn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Qs(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var nl=class extends yh{snapshot;constructor(e,t){super(e),this.snapshot=t,Uy(this,e)}toString(){return this.snapshot.toString()}};function dM(n){let e=Pj(n),t=new Te([new xi("",{})]),r=new Te({}),i=new Te({}),o=new Te({}),s=new Te(""),a=new Er(t,r,o,s,i,q,n,e.root);return a.snapshot=e.root,new nl(new tn(a,[]),e)}function Pj(n){let e={},t={},r={},o=new No([],e,r,"",t,q,n,null,{});return new rl("",new tn(o,[]))}var Er=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(z(l=>l[al]))??O(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(z(e=>Po(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(z(e=>Po(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function bh(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:b(b({},e.params),n.params),data:b(b({},e.data),n.data),resolve:b(b(b(b({},n.data),e.data),i?.data),n._resolvedData)}:r={params:b({},n.params),data:b({},n.data),resolve:b(b({},n.data),n._resolvedData??{})},i&&hM(i)&&(r.resolve[al]=i.title),r}var No=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[al]}constructor(e,t,r,i,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Po(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Po(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},rl=class extends yh{url;constructor(e,t){super(t),this.url=e,Uy(this,t)}toString(){return fM(this._root)}};function Uy(n,e){e.value._routerState=n,e.children.forEach(t=>Uy(n,t))}function fM(n){let e=n.children.length>0?` { ${n.children.map(fM).join(", ")} } `:"";return`${n.value}${e}`}function Dy(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,vr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),vr(e.params,t.params)||n.paramsSubject.next(t.params),sj(e.url,t.url)||n.urlSubject.next(t.url),vr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Oy(n,e){let t=vr(n.params,e.params)&&uj(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Oy(n.parent,e.parent))}function hM(n){return typeof n.title=="string"||n.title===null}var pM=new M(""),ll=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=q;activateEvents=new Me;deactivateEvents=new Me;attachEvents=new Me;detachEvents=new Me;routerOutletData=qS();parentContexts=p(oa);location=p(hn);changeDetector=p(Wr);inputBinder=p(Ih,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new w(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new w(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new w(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new w(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new ky(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=pe({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[jr]})}return n})(),ky=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Er?this.route:e===oa?this.childContexts:e===pM?this.outletData:this.parent.get(e,t)}},Ih=new M("");var Hy=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=oe({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&V(0,"router-outlet")},dependencies:[ll],encapsulation:2})}return n})();function $y(n){let e=n.children&&n.children.map($y),t=e?H(b({},n),{children:e}):b({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==q&&(t.component=Hy),t}function Oj(n,e,t){let r=il(n,e._root,t?t._root:void 0);return new nl(r,e)}function il(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=kj(n,e,t);return new tn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>il(n,a)),s}}let r=Fj(e.value),i=e.children.map(o=>il(n,o));return new tn(r,i)}}function kj(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return il(n,r,i);return il(n,r)})}function Fj(n){return new Er(new Te(n.url),new Te(n.params),new Te(n.queryParams),new Te(n.fragment),new Te(n.data),n.outlet,n.component,n)}var na=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},mM="ngNavigationCancelingError";function Eh(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Js(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=gM(!1,xt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function gM(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[mM]=!0,t.cancellationCode=e,t}function Lj(n){return _M(n)&&Js(n.url)}function _M(n){return!!n&&n[mM]}var Vj=(n,e,t,r)=>z(i=>(new Fy(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Fy=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Dy(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Qs(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Qs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Qs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Qs(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new _h(o.value.snapshot))}),e.children.length&&this.forwardEvent(new mh(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Dy(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Dy(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},wh=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Xs=class{component;route;constructor(e,t){this.component=e,this.route=t}};function jj(n,e,t){let r=n._root,i=e?e._root:null;return Yc(r,i,t,[r.value])}function Bj(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function sa(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!yg(n)?n:e.get(n):r}function Yc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Qs(e);return n.children.forEach(s=>{Uj(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Zc(a,t.getContext(s),i)),i}function Uj(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=Hj(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new wh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Yc(n,e,a?a.children:null,r,i):Yc(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Xs(a.outlet.component,s))}else s&&Zc(e,a,i),i.canActivateChecks.push(new wh(r)),o.component?Yc(n,null,a?a.children:null,r,i):Yc(n,null,t,r,i);return i}function Hj(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!xo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!xo(n.url,e.url)||!vr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Oy(n,e)||!vr(n.queryParams,e.queryParams);case"paramsChange":default:return!Oy(n,e)}}function Zc(n,e,t){let r=Qs(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Zc(s,e.children.getContext(o),t):Zc(s,null,t):Zc(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Xs(e.outlet.component,i)):t.canDeactivateChecks.push(new Xs(null,i)):t.canDeactivateChecks.push(new Xs(null,i))}function ul(n){return typeof n=="function"}function $j(n){return typeof n=="boolean"}function zj(n){return n&&ul(n.canLoad)}function Wj(n){return n&&ul(n.canActivate)}function Gj(n){return n&&ul(n.canActivateChild)}function qj(n){return n&&ul(n.canDeactivate)}function Yj(n){return n&&ul(n.canMatch)}function vM(n){return n instanceof Rr||n?.name==="EmptyError"}var nh=Symbol("INITIAL_VALUE");function ra(){return gt(n=>Es(n.map(e=>e.pipe(Mn(1),Xa(nh)))).pipe(z(e=>{for(let t of e)if(t!==!0){if(t===nh)return nh;if(t===!1||Kj(t))return t}return!0}),mt(e=>e!==nh),Mn(1)))}function Kj(n){return Js(n)||n instanceof na}function Qj(n,e){return Qe(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?O(H(b({},t),{guardsResult:!0})):Zj(s,r,i,n).pipe(Qe(a=>a&&$j(a)?Xj(r,o,n,e):O(a)),z(a=>H(b({},t),{guardsResult:a})))})}function Zj(n,e,t,r){return je(n).pipe(Qe(i=>rB(i.component,i.route,t,e,r)),xr(i=>i!==!0,!0))}function Xj(n,e,t,r){return je(e).pipe(pi(i=>fi(eB(i.route.parent,r),Jj(i.route,r),nB(n,i.path,t),tB(n,i.route,t))),xr(i=>i!==!0,!0))}function Jj(n,e){return n!==null&&e&&e(new gh(n)),O(!0)}function eB(n,e){return n!==null&&e&&e(new ph(n)),O(!0)}function tB(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return O(!0);let i=r.map(o=>Qa(()=>{let s=ia(e)??t,a=sa(o,s),c=Wj(a)?a.canActivate(e,n):at(s,()=>a(e,n));return Zr(c).pipe(xr())}));return O(i).pipe(ra())}function nB(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Bj(s)).filter(s=>s!==null).map(s=>Qa(()=>{let a=s.guards.map(c=>{let l=ia(s.node)??t,u=sa(c,l),d=Gj(u)?u.canActivateChild(r,n):at(l,()=>u(r,n));return Zr(d).pipe(xr())});return O(a).pipe(ra())}));return O(o).pipe(ra())}function rB(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return O(!0);let s=o.map(a=>{let c=ia(e)??i,l=sa(a,c),u=qj(l)?l.canDeactivate(n,e,t,r):at(c,()=>l(n,e,t,r));return Zr(u).pipe(xr())});return O(s).pipe(ra())}function iB(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return O(!0);let o=i.map(s=>{let a=sa(s,n),c=zj(a)?a.canLoad(e,t):at(n,()=>a(e,t));return Zr(c)});return O(o).pipe(ra(),yM(r))}function yM(n){return Qm(tt(e=>{if(typeof e!="boolean")throw Eh(n,e)}),z(e=>e===!0))}function oB(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return O(!0);let o=i.map(s=>{let a=sa(s,n),c=Yj(a)?a.canMatch(e,t):at(n,()=>a(e,t));return Zr(c)});return O(o).pipe(ra(),yM(r))}var ol=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},sl=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Ks(n){return bs(new ol(n))}function sB(n){return bs(new w(4e3,!1))}function aB(n){return bs(gM(!1,xt.GuardRejected))}var Ly=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return O(r);if(i.numberOfChildren>1||!i.children[q])return sB(`${e.redirectTo}`);i=i.children[q]}}applyRedirectCommands(e,t,r,i,o){return cB(t,i,o).pipe(z(s=>{if(s instanceof br)throw new sl(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new sl(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new br(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new ve(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new w(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function cB(n,e,t){if(typeof n=="string")return O(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:l,data:u,title:d}=e;return Zr(at(t,()=>r({params:l,data:u,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:d})))}var Vy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function lB(n,e,t,r,i){let o=bM(n,e,t);return o.matched?(r=xj(e,r),oB(r,e,t,i).pipe(z(s=>s===!0?o:b({},Vy)))):O(o)}function bM(n,e,t){if(e.path==="**")return uB(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?b({},Vy):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||KT)(t,n,e);if(!i)return b({},Vy);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?b(b({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function uB(n){return{matched:!0,parameters:n.length>0?ZT(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function GT(n,e,t,r){return t.length>0&&hB(n,t,r)?{segmentGroup:new ve(e,fB(r,new ve(t,n.children))),slicedSegments:[]}:t.length===0&&pB(n,t,r)?{segmentGroup:new ve(n.segments,dB(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new ve(n.segments,n.children),slicedSegments:t}}function dB(n,e,t,r){let i={};for(let o of t)if(Dh(n,e,o)&&!r[zn(o)]){let s=new ve([],{});i[zn(o)]=s}return b(b({},r),i)}function fB(n,e){let t={};t[q]=e;for(let r of n)if(r.path===""&&zn(r)!==q){let i=new ve([],{});t[zn(r)]=i}return t}function hB(n,e,t){return t.some(r=>Dh(n,e,r)&&zn(r)!==q)}function pB(n,e,t){return t.some(r=>Dh(n,e,r))}function Dh(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function mB(n,e,t){return e.length===0&&!n.children[t]}var jy=class{};function gB(n,e,t,r,i,o,s="emptyOnly"){return new By(n,e,t,r,i,s,o).recognize()}var _B=31,By=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Ly(this.urlSerializer,this.urlTree)}noMatchError(e){return new w(4002,`'${e.segmentGroup}'`)}recognize(){let e=GT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(z(({children:t,rootSnapshot:r})=>{let i=new tn(r,t),o=new rl("",i),s=sM(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new No([],Object.freeze({}),Object.freeze(b({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),q,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,q,t).pipe(z(r=>({children:r,rootSnapshot:t})),hi(r=>{if(r instanceof sl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ol?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(z(s=>s instanceof tn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return je(o).pipe(pi(s=>{let a=r.children[s],c=Nj(t,s);return this.processSegmentGroup(e,c,a,s,i)}),sg((s,a)=>(s.push(...a),s)),mi(null),og(),Qe(s=>{if(s===null)return Ks(r);let a=EM(s);return vB(a),O(a)}))}processSegment(e,t,r,i,o,s,a){return je(t).pipe(pi(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(hi(l=>{if(l instanceof ol)return O(null);throw l}))),xr(c=>!!c),hi(c=>{if(vM(c))return mB(r,i,o)?O(new jy):Ks(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return zn(r)!==s&&(s===q||!Dh(i,o,r))?Ks(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):Ks(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=bM(t,i,o);if(!c)return Ks(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>_B&&(this.allowRedirects=!1));let h=new No(o,l,Object.freeze(b({},this.urlTree.queryParams)),this.urlTree.fragment,qT(i),zn(i),i.component??i._loadedComponent??null,i,YT(i)),m=bh(h,a,this.paramsInheritanceStrategy);return h.params=Object.freeze(m.params),h.data=Object.freeze(m.data),this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,h,e).pipe(gt(C=>this.applyRedirects.lineralizeSegments(i,C)),Qe(C=>this.processSegment(e,r,t,C.concat(f),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=lB(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(gt(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(gt(({routes:l})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:f,remainingSegments:h}=c,m=new No(f,d,Object.freeze(b({},this.urlTree.queryParams)),this.urlTree.fragment,qT(r),zn(r),r.component??r._loadedComponent??null,r,YT(r)),_=bh(m,s,this.paramsInheritanceStrategy);m.params=Object.freeze(_.params),m.data=Object.freeze(_.data);let{segmentGroup:C,slicedSegments:S}=GT(t,f,h,l);if(S.length===0&&C.hasChildren())return this.processChildren(u,l,C,m).pipe(z(ae=>new tn(m,ae)));if(l.length===0&&S.length===0)return O(new tn(m,[]));let j=zn(r)===o;return this.processSegment(u,l,C,S,j?q:o,!0,m).pipe(z(ae=>new tn(m,ae instanceof tn?[ae]:[])))}))):Ks(t)))}getChildConfig(e,t,r){return t.children?O({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?O({routes:t._loadedRoutes,injector:t._loadedInjector}):iB(e,t,r,this.urlSerializer).pipe(Qe(i=>i?this.configLoader.loadChildren(e,t).pipe(tt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):aB(t))):O({routes:[],injector:e})}};function vB(n){n.sort((e,t)=>e.value.outlet===q?-1:t.value.outlet===q?1:e.value.outlet.localeCompare(t.value.outlet))}function yB(n){let e=n.value.routeConfig;return e&&e.path===""}function EM(n){let e=[],t=new Set;for(let r of n){if(!yB(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=EM(r.children);e.push(new tn(r.value,i))}return e.filter(r=>!t.has(r))}function qT(n){return n.data||{}}function YT(n){return n.resolve||{}}function bB(n,e,t,r,i,o){return Qe(s=>gB(n,e,t,r,s.extractedUrl,i,o).pipe(z(({state:a,tree:c})=>H(b({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function EB(n,e){return Qe(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return O(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of wM(c))s.add(l);let a=0;return je(s).pipe(pi(c=>o.has(c)?wB(c,r,n,e):(c.data=bh(c,c.parent,n).resolve,O(void 0))),tt(()=>a++),ws(1),Qe(c=>a===s.size?O(t):Lt))})}function wM(n){let e=n.children.map(t=>wM(t)).flat();return[n,...e]}function wB(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!hM(i)&&(o[al]=i.title),Qa(()=>(n.data=bh(n,n.parent,t).resolve,CB(o,n,e,r).pipe(z(s=>(n._resolvedData=s,n.data=b(b({},n.data),s),null)))))}function CB(n,e,t,r){let i=My(n);if(i.length===0)return O({});let o={};return je(i).pipe(Qe(s=>IB(n[s],e,t,r).pipe(xr(),tt(a=>{if(a instanceof na)throw Eh(new Oo,a);o[s]=a}))),ws(1),z(()=>o),hi(s=>vM(s)?Lt:bs(s)))}function IB(n,e,t,r){let i=ia(e)??r,o=sa(n,i),s=o.resolve?o.resolve(e,t):at(i,()=>o(e,t));return Zr(s)}function Sy(n){return gt(e=>{let t=n(e);return t?je(t).pipe(z(()=>e)):O(e)})}var zy=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===q);return r}getResolvedTitleForRoute(t){return t.data[al]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=D({token:n,factory:()=>p(CM),providedIn:"root"})}return n})(),CM=(()=>{class n extends zy{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(x(UT))};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),dl=new M("",{providedIn:"root",factory:()=>({})}),fl=new M(""),IM=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=p(zv);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return O(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Zr(at(t,()=>r.loadComponent())).pipe(z(SM),gt(TM),tt(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),ao(()=>{this.componentLoaders.delete(r)})),o=new vs(i,()=>new ne).pipe(_s());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return O({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=DM(r,this.compiler,t,this.onLoadEndListener).pipe(ao(()=>{this.childrenLoaders.delete(r)})),s=new vs(o,()=>new ne).pipe(_s());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function DM(n,e,t,r){return Zr(at(t,()=>n.loadChildren())).pipe(z(SM),gt(TM),Qe(i=>i instanceof Ef||Array.isArray(i)?O(i):je(e.compileModuleAsync(i))),z(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(fl,[],{optional:!0,self:!0}).flat()),{routes:s.map($y),injector:o}}))}function DB(n){return n&&typeof n=="object"&&"default"in n}function SM(n){return DB(n)?n.default:n}function TM(n){return O(n)}var Sh=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=D({token:n,factory:()=>p(SB),providedIn:"root"})}return n})(),SB=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),MM=new M("");var AM=new M(""),RM=(()=>{class n{currentNavigation=Bt(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new ne;transitionAbortWithErrorSubject=new ne;configLoader=p(IM);environmentInjector=p(xe);destroyRef=p(Pn);urlSerializer=p(cl);rootContexts=p(oa);location=p(Ai);inputBindingEnabled=p(Ih,{optional:!0})!==null;titleStrategy=p(zy);options=p(dl,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=p(Sh);createViewTransition=p(MM,{optional:!0});navigationErrorHandler=p(AM,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>O(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new fh(i)),r=i=>this.events.next(new hh(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;Ze(()=>{this.transitions?.next(H(b({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new Te(null),this.transitions.pipe(mt(r=>r!==null),gt(r=>{let i=!1;return O(r).pipe(gt(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",xt.SupersededByNewNavigation),Lt;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?H(b({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new Qr(o.id,this.urlSerializer.serialize(o.rawUrl),"",Jc.IgnoredSameUrlNavigation)),o.resolve(!1),Lt;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return O(o).pipe(gt(c=>(this.events.next(new ko(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Lt:Promise.resolve(c))),bB(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),tt(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation.update(u=>(u.finalUrl=c.urlAfterRedirects,u));let l=new el(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:l,source:u,restoredState:d,extras:f}=o,h=new ko(c,this.urlSerializer.serialize(l),u,d);this.events.next(h);let m=dM(this.rootComponentType).snapshot;return this.currentTransition=r=H(b({},o),{targetSnapshot:m,urlAfterRedirects:l,extras:H(b({},f),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(_=>(_.finalUrl=l,_)),O(r)}else return this.events.next(new Qr(o.id,this.urlSerializer.serialize(o.extractedUrl),"",Jc.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Lt}),tt(o=>{let s=new ch(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),z(o=>(this.currentTransition=r=H(b({},o),{guards:jj(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),Qj(this.environmentInjector,o=>this.events.next(o)),tt(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Eh(this.urlSerializer,o.guardsResult);let s=new lh(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),mt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",xt.GuardRejected),!1)),Sy(o=>{if(o.guards.canActivateChecks.length!==0)return O(o).pipe(tt(s=>{let a=new uh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),gt(s=>{let a=!1;return O(s).pipe(EB(this.paramsInheritanceStrategy,this.environmentInjector),tt({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",xt.NoDataFromResolver)}}))}),tt(s=>{let a=new dh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),Sy(o=>{let s=a=>{let c=[];if(a.routeConfig?.loadComponent){let l=ia(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(tt(u=>{a.component=u}),z(()=>{})))}for(let l of a.children)c.push(...s(l));return c};return Es(s(o.targetSnapshot.root)).pipe(mi(null),Mn(1))}),Sy(()=>this.afterPreactivation()),gt(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?je(a).pipe(z(()=>r)):O(r)}),z(o=>{let s=Oj(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=H(b({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),tt(()=>{this.events.next(new tl)}),Vj(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Mn(1),tr(new ie(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(mt(()=>!i&&!r.targetRouterState),tt(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",xt.Aborted)}))),tt({next:o=>{i=!0,this.lastSuccessfulNavigation=Ze(this.currentNavigation),this.events.next(new Kr(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),tr(this.transitionAbortWithErrorSubject.pipe(tt(o=>{throw o}))),ao(()=>{i||this.cancelNavigationTransition(r,"",xt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),hi(o=>{if(this.destroyed)return r.resolve(!1),Lt;if(i=!0,_M(o))this.events.next(new yr(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),Lj(o)?this.events.next(new ta(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new ea(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=at(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof na){let{message:c,cancellationCode:l}=Eh(this.urlSerializer,a);this.events.next(new yr(r.id,this.urlSerializer.serialize(r.extractedUrl),c,l)),this.events.next(new ta(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Lt}))}))}cancelNavigationTransition(t,r,i){let o=new yr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Ze(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function TB(n){return n!==Qc}var xM=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=D({token:n,factory:()=>p(MB),providedIn:"root"})}return n})(),Ch=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},MB=(()=>{class n extends Ch{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ut(n)))(i||n)}})();static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),NM=(()=>{class n{urlSerializer=p(cl);options=p(dl,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=p(Ai);urlHandlingStrategy=p(Sh);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new br;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof br?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=dM(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=D({token:n,factory:()=>p(AB),providedIn:"root"})}return n})(),AB=(()=>{class n extends NM{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof ko?this.updateStateMemento():t instanceof Qr?this.commitTransition(r):t instanceof el?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof tl?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof yr&&t.code!==xt.SupersededByNewNavigation&&t.code!==xt.Redirect?this.restoreHistory(r):t instanceof ea?this.restoreHistory(r,!0):t instanceof Kr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,c=b(b({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=b(b({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ut(n)))(i||n)}})();static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Wy(n,e){n.events.pipe(mt(t=>t instanceof Kr||t instanceof yr||t instanceof ea||t instanceof Qr),z(t=>t instanceof Kr||t instanceof Qr?0:(t instanceof yr?t.code===xt.Redirect||t.code===xt.SupersededByNewNavigation:!1)?2:1),mt(t=>t!==2),Mn(1)).subscribe(()=>{e()})}var RB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},it=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=p(wf);stateManager=p(NM);options=p(dl,{optional:!0})||{};pendingTasks=p(lr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=p(RM);urlSerializer=p(cl);location=p(Ai);urlHandlingStrategy=p(Sh);injector=p(xe);_events=new ne;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=p(xM);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=p(fl,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!p(Ih,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Pe;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=Ze(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof yr&&r.code!==xt.Redirect&&r.code!==xt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Kr)this.navigated=!0;else if(r instanceof ta){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=b({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||TB(i.source)},s);this.scheduleNavigation(a,Qc,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Rj(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Qc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=b({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(Tt)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Ze(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map($y),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=b(b({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=aM(f)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return cM(d,t,u,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Js(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Qc,null,r)}navigate(t,r={skipLocationChange:!1}){return NB(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(vi(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=b({},RB):r===!1?i=b({},xB):i=r,Js(t))return HT(this.currentUrlTree,t,i);let o=this.parseUrl(t);return HT(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,f)=>{a=d,c=f});let u=this.pendingTasks.add();return Wy(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function NB(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new w(4008,!1)}var OB=new M("");function Gy(n,...e){return rr([{provide:fl,multi:!0,useValue:n},[],{provide:Er,useFactory:kB,deps:[it]},{provide:If,multi:!0,useFactory:FB},e.map(t=>t.\u0275providers)])}function kB(n){return n.routerState.root}function FB(){let n=p(De);return e=>{let t=n.get(Ht);if(e!==t.components[0])return;let r=n.get(it),i=n.get(LB);n.get(VB)===1&&r.initialNavigation(),n.get(jB,null,{optional:!0})?.setUpPreloading(),n.get(OB,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var LB=new M("",{factory:()=>new ne}),VB=new M("",{providedIn:"root",factory:()=>1});var jB=new M("");var se=(function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n})(se||{}),Wn="*";function PM(n,e=null){return{type:se.Sequence,steps:n,options:e}}function Yy(n){return{type:se.Style,styles:n,offset:null}}var Xr=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,t=0){this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},aa=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let t=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},hl="!";function OM(n){return new w(3e3,!1)}function UB(){return new w(3100,!1)}function HB(){return new w(3101,!1)}function $B(n){return new w(3001,!1)}function zB(n){return new w(3003,!1)}function WB(n){return new w(3004,!1)}function FM(n,e){return new w(3005,!1)}function LM(){return new w(3006,!1)}function VM(){return new w(3007,!1)}function jM(n,e){return new w(3008,!1)}function BM(n){return new w(3002,!1)}function UM(n,e,t,r,i){return new w(3010,!1)}function HM(){return new w(3011,!1)}function $M(){return new w(3012,!1)}function zM(){return new w(3200,!1)}function WM(){return new w(3202,!1)}function GM(){return new w(3013,!1)}function qM(n){return new w(3014,!1)}function YM(n){return new w(3015,!1)}function KM(n){return new w(3016,!1)}function QM(n,e){return new w(3404,!1)}function GB(n){return new w(3502,!1)}function ZM(n){return new w(3503,!1)}function XM(){return new w(3300,!1)}function JM(n){return new w(3504,!1)}function eA(n){return new w(3301,!1)}function tA(n,e){return new w(3302,!1)}function nA(n){return new w(3303,!1)}function rA(n,e){return new w(3400,!1)}function iA(n){return new w(3401,!1)}function oA(n){return new w(3402,!1)}function sA(n,e){return new w(3505,!1)}function Jr(n){switch(n.length){case 0:return new Xr;case 1:return n[0];default:return new aa(n)}}function Xy(n,e,t=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(c=>{let l=c.get("offset"),u=l==s,d=u&&a||new Map;c.forEach((f,h)=>{let m=h,_=f;if(h!=="offset")switch(m=n.normalizePropertyName(m,i),_){case hl:_=t.get(h);break;case Wn:_=r.get(h);break;default:_=n.normalizeStyleValue(h,m,_,i);break}d.set(m,_)}),u||o.push(d),a=d,s=l}),i.length)throw GB(i);return o}function Th(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Ky(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Ky(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Ky(t,"destroy",n)));break}}function Ky(n,e,t){let r=t.totalTime,i=!!t.disabled,o=Mh(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),s=n._data;return s!=null&&(o._data=s),o}function Mh(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Gt(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function Jy(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}var qB=typeof document>"u"?null:document.documentElement;function Ah(n){let e=n.parentNode||n.host||null;return e===qB?null:e}function YB(n){return n.substring(1,6)=="ebkit"}var Fo=null,kM=!1;function aA(n){Fo||(Fo=KB()||{},kM=Fo.style?"WebkitAppearance"in Fo.style:!1);let e=!0;return Fo.style&&!YB(n)&&(e=n in Fo.style,!e&&kM&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Fo.style)),e}function KB(){return typeof document<"u"?document.body:null}function eb(n,e){for(;e;){if(e===n)return!0;e=Ah(e)}return!1}function tb(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}var QB=1e3,nb="{{",ZB="}}",rb="ng-enter",Rh="ng-leave",pl="ng-trigger",ml=".ng-trigger",ib="ng-animating",xh=".ng-animating";function wr(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Qy(parseFloat(e[1]),e[2])}function Qy(n,e){switch(e){case"s":return n*QB;default:return n}}function gl(n,e,t){return n.hasOwnProperty("duration")?n:JB(n,e,t)}var XB=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function JB(n,e,t){let r,i=0,o="";if(typeof n=="string"){let s=n.match(XB);if(s===null)return e.push(OM(n)),{duration:0,delay:0,easing:""};r=Qy(parseFloat(s[1]),s[2]);let a=s[3];a!=null&&(i=Qy(parseFloat(a),s[4]));let c=s[5];c&&(o=c)}else r=n;if(!t){let s=!1,a=e.length;r<0&&(e.push(UB()),s=!0),i<0&&(e.push(HB()),s=!0),s&&e.splice(a,0,OM(n))}return{duration:r,delay:i,easing:o}}function cA(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function Gn(n,e,t){e.forEach((r,i)=>{let o=Nh(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r})}function Ni(n,e){e.forEach((t,r)=>{let i=Nh(r);n.style[i]=""})}function ca(n){return Array.isArray(n)?n.length==1?n[0]:PM(n):n}function lA(n,e,t){let r=e.params||{},i=ob(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push($B(o))})}var Zy=new RegExp(`${nb}\\s*(.+?)\\s*${ZB}`,"g");function ob(n){let e=[];if(typeof n=="string"){let t;for(;t=Zy.exec(n);)e.push(t[1]);Zy.lastIndex=0}return e}function la(n,e,t){let r=`${n}`,i=r.replace(Zy,(o,s)=>{let a=e[s];return a==null&&(t.push(zB(s)),a=""),a.toString()});return i==r?n:i}var eU=/-+([a-z0-9])/g;function Nh(n){return n.replace(eU,(...e)=>e[1].toUpperCase())}function uA(n,e){return n===0||e===0}function dA(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,Ph(n,a)))}}return e}function qt(n,e,t){switch(e.type){case se.Trigger:return n.visitTrigger(e,t);case se.State:return n.visitState(e,t);case se.Transition:return n.visitTransition(e,t);case se.Sequence:return n.visitSequence(e,t);case se.Group:return n.visitGroup(e,t);case se.Animate:return n.visitAnimate(e,t);case se.Keyframes:return n.visitKeyframes(e,t);case se.Style:return n.visitStyle(e,t);case se.Reference:return n.visitReference(e,t);case se.AnimateChild:return n.visitAnimateChild(e,t);case se.AnimateRef:return n.visitAnimateRef(e,t);case se.Query:return n.visitQuery(e,t);case se.Stagger:return n.visitStagger(e,t);default:throw WB(e.type)}}function Ph(n,e){return window.getComputedStyle(n)[e]}var wb=(()=>{class n{validateStyleProperty(t){return aA(t)}containsElement(t,r){return eb(t,r)}getParentElement(t){return Ah(t)}query(t,r,i){return tb(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],c){return new Xr(i,o)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=D({token:n,factory:n.\u0275fac})}return n})(),Vo=class{static NOOP=new wb},jo=class{};var tU=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Vh=class extends jo{normalizePropertyName(e,t){return Nh(e)}normalizeStyleValue(e,t,r,i){let o="",s=r.toString().trim();if(tU.has(t)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(FM(e,r))}return s+o}};var jh="*";function nU(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>rU(r,t,e)):t.push(n),t}function rU(n,e,t){if(n[0]==":"){let c=iU(n,t);if(typeof c=="function"){e.push(c);return}n=c}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(YM(n)),e;let i=r[1],o=r[2],s=r[3];e.push(fA(i,s));let a=i==jh&&s==jh;o[0]=="<"&&!a&&e.push(fA(s,i))}function iU(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(KM(n)),"* => *"}}var Oh=new Set(["true","1"]),kh=new Set(["false","0"]);function fA(n,e){let t=Oh.has(n)||kh.has(n),r=Oh.has(e)||kh.has(e);return(i,o)=>{let s=n==jh||n==i,a=e==jh||e==o;return!s&&t&&typeof i=="boolean"&&(s=i?Oh.has(n):kh.has(n)),!a&&r&&typeof o=="boolean"&&(a=o?Oh.has(e):kh.has(e)),s&&a}}var wA=":self",oU=new RegExp(`s*${wA}s*,?`,"g");function CA(n,e,t,r){return new db(n).build(e,t,r)}var hA="",db=class{_driver;constructor(e){this._driver=e}build(e,t,r){let i=new fb(t);return this._resetContextStyleTimingState(i),qt(this,ca(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=hA,e.collectedStyles=new Map,e.collectedStyles.set(hA,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(LM()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==se.State){let c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,o.push(this.visitState(c,t))}),c.name=l}else if(a.type==se.Transition){let c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,s.push(c)}else t.errors.push(VM())}),{type:se.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{ob(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&t.errors.push(jM(e.name,[...o.values()]))}return{type:se.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=qt(this,ca(e.animation),t),i=nU(e.expr,t.errors);return{type:se.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Lo(e.options)}}visitSequence(e,t){return{type:se.Sequence,steps:e.steps.map(r=>qt(this,r,t)),options:Lo(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,o=e.steps.map(s=>{t.currentTime=r;let a=qt(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:se.Group,steps:o,options:Lo(e.options)}}visitAnimate(e,t){let r=lU(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:Yy({});if(o.type==se.Keyframes)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let l={};r.easing&&(l.easing=r.easing),s=Yy(l)}t.currentTime+=r.duration+r.delay;let c=this.visitStyle(s,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:se.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===Wn?r.push(a):t.errors.push(BM(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(nb)>=0){o=!0;break}}}),{type:se.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let l=t.collectedStyles.get(t.currentQuerySelector),u=l.get(c),d=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(t.errors.push(UM(c,u.startTime,u.endTime,o,i)),d=!1),o=u.startTime),d&&l.set(c,{startTime:o,endTime:i}),t.options&&lA(a,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:se.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(HM()),r;let i=1,o=0,s=[],a=!1,c=!1,l=0,u=e.steps.map(S=>{let j=this._makeStyleAst(S,t),ae=j.offset!=null?j.offset:cU(j.styles),ce=0;return ae!=null&&(o++,ce=j.offset=ae),c=c||ce<0||ce>1,a=a||ce<l,l=ce,s.push(ce),j});c&&t.errors.push($M()),a&&t.errors.push(zM());let d=e.steps.length,f=0;o>0&&o<d?t.errors.push(WM()):o==0&&(f=i/(d-1));let h=d-1,m=t.currentTime,_=t.currentAnimateTimings,C=_.duration;return u.forEach((S,j)=>{let ae=f>0?j==h?1:f*j:s[j],ce=ae*C;t.currentTime=m+_.delay+ce,_.duration=ce,this._validateStyleAst(S,t),S.offset=ae,r.styles.push(S)}),r}visitReference(e,t){return{type:se.Reference,animation:qt(this,ca(e.animation),t),options:Lo(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:se.AnimateChild,options:Lo(e.options)}}visitAnimateRef(e,t){return{type:se.AnimateRef,animation:this.visitReference(e.animation,t),options:Lo(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=sU(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,Gt(t.collectedStyles,t.currentQuerySelector,new Map);let a=qt(this,ca(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:se.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Lo(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(GM());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:gl(e.timings,t.errors,!0);return{type:se.Stagger,animation:qt(this,ca(e.animation),t),timings:r,options:null}}};function sU(n){let e=!!n.split(/\s*,\s*/).find(t=>t==wA);return e&&(n=n.replace(oU,"")),n=n.replace(/@\*/g,ml).replace(/@\w+/g,t=>ml+"-"+t.slice(1)).replace(/:animating/g,xh),[n,e]}function aU(n){return n?b({},n):null}var fb=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function cU(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function lU(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=gl(n,e).duration;return sb(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=sb(0,0,"");return o.dynamic=!0,o.strValue=t,o}let i=gl(t,e);return sb(i.duration,i.delay,i.easing)}function Lo(n){return n?(n=b({},n),n.params&&(n.params=aU(n.params))):n={},n}function sb(n,e,t){return{duration:n,delay:e,easing:t}}function Cb(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var vl=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},uU=1,dU=":enter",fU=new RegExp(dU,"g"),hU=":leave",pU=new RegExp(hU,"g");function IA(n,e,t,r,i,o=new Map,s=new Map,a,c,l=[]){return new hb().buildKeyframes(n,e,t,r,i,o,s,a,c,l)}var hb=class{buildKeyframes(e,t,r,i,o,s,a,c,l,u=[]){l=l||new vl;let d=new pb(e,t,l,i,o,u,[]);d.options=c;let f=c.delay?wr(c.delay):0;d.currentTimeline.delayNextStep(f),d.currentTimeline.setStyles([s],null,d.errors,c),qt(this,r,d);let h=d.timelines.filter(m=>m.containsAnimation());if(h.length&&a.size){let m;for(let _=h.length-1;_>=0;_--){let C=h[_];if(C.element===t){m=C;break}}m&&!m.allowOnlyTimelineStyles()&&m.setStyles([a],null,d.errors,c)}return h.length?h.map(m=>m.buildKeyframes()):[Cb(t,[],[],[],0,f,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:wr(la(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime,s=r.duration!=null?wr(r.duration):null,a=r.delay!=null?wr(r.delay):null;return s!==0&&e.forEach(c=>{let l=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),qt(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==se.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Bh);let s=wr(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>qt(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?wr(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),qt(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?la(r,t.params,t.errors):r;return gl(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==se.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let l=c.offset||0;a.forwardTime(l*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?wr(i.delay):0;o&&(t.previousNode.type===se.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Bh);let s=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{t.currentQueryIndex=u;let d=t.createSubContext(e.options,l);o&&d.delayNextStep(o),l===t.element&&(c=d.currentTimeline),qt(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let f=d.currentTimeline.currentTime;s=Math.max(s,f)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let u=t.currentTimeline;c&&u.delayNextStep(c);let d=u.currentTime;qt(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}},Bh={},pb=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Bh;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,r,i,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=c||new Uh(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=wr(r.duration)),r.delay!=null&&(i.delay=wr(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=la(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,o=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Bh,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new mb(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(fU,"."+this._enterClassName),e=e.replace(pU,"."+this._leaveClassName);let c=r!=1,l=this._driver.query(this.element,e,c);r!==0&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!o&&a.length==0&&s.push(qM(t)),a}},Uh=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=uU,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Wn),this._currentKeyframe.set(t,Wn);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let o=i&&i.params||{},s=mU(e,this._globalTimelineStyles);for(let[a,c]of s){let l=la(c,o,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Wn),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let l=new Map([...this._backFill,...a]);l.forEach((u,d)=>{u===hl?e.add(d):u===Wn&&t.add(d)}),r||l.set("offset",c/this.duration),i.push(l)});let o=[...e.values()],s=[...t.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return Cb(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},mb=class extends Uh{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=r+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let l=new Map(e[0]);l.set("offset",pA(a)),o.push(l);let u=e.length-1;for(let d=1;d<=u;d++){let f=new Map(e[d]),h=f.get("offset"),m=t+h*r;f.set("offset",pA(m/s)),o.push(f)}r=s,t=0,i="",e=o}return Cb(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};function pA(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function mU(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)t.set(o,Wn)}else for(let[o,s]of i)t.set(o,s)}),t}function mA(n,e,t,r,i,o,s,a,c,l,u,d,f){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:f}}var ab={},Hh=class{_triggerName;ast;_stateStyles;constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return gU(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,c,l,u){let d=[],f=this.ast.options&&this.ast.options.params||ab,h=a&&a.params||ab,m=this.buildStyles(r,h,d),_=c&&c.params||ab,C=this.buildStyles(i,_,d),S=new Set,j=new Map,ae=new Map,ce=i==="void",kt={params:DA(_,f),delay:this.ast.options?.delay},Je=u?[]:IA(e,t,this.ast.animation,o,s,m,C,kt,l,d),ot=0;return Je.forEach(Ft=>{ot=Math.max(Ft.duration+Ft.delay,ot)}),d.length?mA(t,this._triggerName,r,i,ce,m,C,[],[],j,ae,ot,d):(Je.forEach(Ft=>{let Ji=Ft.element,is=Gt(j,Ji,new Set);Ft.preStyleProps.forEach(eo=>is.add(eo));let OC=Gt(ae,Ji,new Set);Ft.postStyleProps.forEach(eo=>OC.add(eo)),Ji!==t&&S.add(Ji)}),mA(t,this._triggerName,r,i,ce,m,C,Je,[...S.values()],j,ae,ot))}};function gU(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}function DA(n,e){let t=b({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}var gb=class{styles;defaultParams;normalizer;constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=DA(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=la(s,i,t));let c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),r.set(a,s)})}),r}};function _U(n,e,t){return new _b(n,e,t)}var _b=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,t.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new gb(i.style,o,r))}),gA(this.states,"true","1"),gA(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Hh(e,i,this.states))}),this.fallbackTransition=vU(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};function vU(n,e,t){let r=[(s,a)=>!0],i={type:se.Sequence,steps:[],options:null},o={type:se.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Hh(n,o,e)}function gA(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var yU=new vl,vb=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r}register(e,t){let r=[],i=[],o=CA(this._driver,t,r,i);if(r.length)throw ZM(r);this._animations.set(e,o)}_buildPlayer(e,t,r){let i=e.element,o=Xy(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=IA(this._driver,t,o,rb,Rh,new Map,new Map,r,yU,i),s.forEach(u=>{let d=Gt(a,u.element,new Map);u.postStyleProps.forEach(f=>d.set(f,null))})):(i.push(XM()),s=[]),i.length)throw JM(i);a.forEach((u,d)=>{u.forEach((f,h)=>{u.set(h,this._driver.computeStyle(d,h,Wn))})});let c=s.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),l=Jr(c);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw eA(e);return t}listen(e,t,r,i){let o=Mh(t,"","","");return Th(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},_A="ng-animate-queued",bU=".ng-animate-queued",cb="ng-animate-disabled",EU=".ng-animate-disabled",wU="ng-star-inserted",CU=".ng-star-inserted",IU=[],SA={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},DU={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},qn="__ng_removed",yl=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=TU(i),r){let o=e,{value:s}=o,a=os(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},_l="void",lb=new yl(_l),yb=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this._hostClassName="ng-tns-"+e,bn(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw tA(r,t);if(r==null||r.length==0)throw nA(t);if(!MU(r))throw rA(r,t);let o=Gt(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);let a=Gt(this._engine.statesByElement,e,new Map);return a.has(t)||(bn(e,pl),bn(e,pl+"-"+t),a.set(t,lb)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw iA(e);return t}trigger(e,t,r,i=!0){let o=this._getTrigger(t),s=new bl(this.id,t,e),a=this._engine.statesByElement.get(e);a||(bn(e,pl),bn(e,pl+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t),l=new yl(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=lb),!(l.value===_l)&&c.value===l.value){if(!xU(c.params,l.params)){let _=[],C=o.matchStyles(c.value,c.params,_),S=o.matchStyles(l.value,l.params,_);_.length?this._engine.reportError(_):this._engine.afterFlush(()=>{Ni(e,C),Gn(e,S)})}return}let f=Gt(this._engine.playersByElement,e,[]);f.forEach(_=>{_.namespaceId==this.id&&_.triggerName==t&&_.queued&&_.destroy()});let h=o.matchTransition(c.value,l.value,e,l.params),m=!1;if(!h){if(!i)return;h=o.fallbackTransition,m=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:h,fromState:c,toState:l,player:s,isFallbackTransition:m}),m||(bn(e,_A),s.onStart(()=>{ua(e,_A)})),s.onDone(()=>{let _=this.players.indexOf(s);_>=0&&this.players.splice(_,1);let C=this._engine.playersByElement.get(e);if(C){let S=C.indexOf(s);S>=0&&C.splice(S,1)}}),this.players.push(s),f.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,ml,!0);r.forEach(i=>{if(i[qn])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){let u=this.trigger(e,l,_l,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&Jr(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let c=this._triggers.get(s).fallbackTransition,l=r.get(s)||lb,u=new yl(_l),d=new bl(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let o=e[qn];(!o||o===SA)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){bn(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let c=Mh(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,Th(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},bb=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new yb(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let c=i.get(a);if(c){let l=r.indexOf(c);r.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}}return t}trigger(e,t,r,i){if(Fh(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Fh(t))return;let o=t[qn];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),bn(e,cb)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),ua(e,cb))}removeNode(e,t,r){if(Fh(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[qn]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return Fh(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,ml,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,xh,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Jr(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[qn];if(t&&t.setForRemoval){if(e[qn]=SA,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(cb)&&this.markElementAsDisabled(e,!1),this.driver.query(e,EU,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];bn(i,wU)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?Jr(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw oA(e)}_flushAnimations(e,t){let r=new vl,i=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(R=>{u.add(R);let F=this.driver.query(R,bU,!0);for(let B=0;B<F.length;B++)u.add(F[B])});let d=this.bodyNode,f=Array.from(this.statesByElement.keys()),h=bA(f,this.collectedEnterElements),m=new Map,_=0;h.forEach((R,F)=>{let B=rb+_++;m.set(F,B),R.forEach(me=>bn(me,B))});let C=[],S=new Set,j=new Set;for(let R=0;R<this.collectedLeaveElements.length;R++){let F=this.collectedLeaveElements[R],B=F[qn];B&&B.setForRemoval&&(C.push(F),S.add(F),B.hasAnimation?this.driver.query(F,CU,!0).forEach(me=>S.add(me)):j.add(F))}let ae=new Map,ce=bA(f,Array.from(S));ce.forEach((R,F)=>{let B=Rh+_++;ae.set(F,B),R.forEach(me=>bn(me,B))}),e.push(()=>{h.forEach((R,F)=>{let B=m.get(F);R.forEach(me=>ua(me,B))}),ce.forEach((R,F)=>{let B=ae.get(F);R.forEach(me=>ua(me,B))}),C.forEach(R=>{this.processLeaveNode(R)})});let kt=[],Je=[];for(let R=this._namespaceList.length-1;R>=0;R--)this._namespaceList[R].drainQueuedTransitions(t).forEach(B=>{let me=B.player,et=B.element;if(kt.push(me),this.collectedEnterElements.length){let ft=et[qn];if(ft&&ft.setForMove){if(ft.previousTriggersValues&&ft.previousTriggersValues.has(B.triggerName)){let to=ft.previousTriggersValues.get(B.triggerName),rn=this.statesByElement.get(B.element);if(rn&&rn.has(B.triggerName)){let Au=rn.get(B.triggerName);Au.value=to,rn.set(B.triggerName,Au)}}me.destroy();return}}let Jn=!d||!this.driver.containsElement(d,et),Xt=ae.get(et),ui=m.get(et),Le=this._buildInstruction(B,r,ui,Xt,Jn);if(Le.errors&&Le.errors.length){Je.push(Le);return}if(Jn){me.onStart(()=>Ni(et,Le.fromStyles)),me.onDestroy(()=>Gn(et,Le.toStyles)),i.push(me);return}if(B.isFallbackTransition){me.onStart(()=>Ni(et,Le.fromStyles)),me.onDestroy(()=>Gn(et,Le.toStyles)),i.push(me);return}let LC=[];Le.timelines.forEach(ft=>{ft.stretchStartingKeyframe=!0,this.disabledNodes.has(ft.element)||LC.push(ft)}),Le.timelines=LC,r.append(et,Le.timelines);let cO={instruction:Le,player:me,element:et};s.push(cO),Le.queriedElements.forEach(ft=>Gt(a,ft,[]).push(me)),Le.preStyleProps.forEach((ft,to)=>{if(ft.size){let rn=c.get(to);rn||c.set(to,rn=new Set),ft.forEach((Au,Fm)=>rn.add(Fm))}}),Le.postStyleProps.forEach((ft,to)=>{let rn=l.get(to);rn||l.set(to,rn=new Set),ft.forEach((Au,Fm)=>rn.add(Fm))})});if(Je.length){let R=[];Je.forEach(F=>{R.push(sA(F.triggerName,F.errors))}),kt.forEach(F=>F.destroy()),this.reportError(R)}let ot=new Map,Ft=new Map;s.forEach(R=>{let F=R.element;r.has(F)&&(Ft.set(F,F),this._beforeAnimationBuild(R.player.namespaceId,R.instruction,ot))}),i.forEach(R=>{let F=R.element;this._getPreviousPlayers(F,!1,R.namespaceId,R.triggerName,null).forEach(me=>{Gt(ot,F,[]).push(me),me.destroy()})});let Ji=C.filter(R=>EA(R,c,l)),is=new Map;yA(is,this.driver,j,l,Wn).forEach(R=>{EA(R,c,l)&&Ji.push(R)});let eo=new Map;h.forEach((R,F)=>{yA(eo,this.driver,new Set(R),c,hl)}),Ji.forEach(R=>{let F=is.get(R),B=eo.get(R);is.set(R,new Map([...F?.entries()??[],...B?.entries()??[]]))});let km=[],kC=[],FC={};s.forEach(R=>{let{element:F,player:B,instruction:me}=R;if(r.has(F)){if(u.has(F)){B.onDestroy(()=>Gn(F,me.toStyles)),B.disabled=!0,B.overrideTotalTime(me.totalTime),i.push(B);return}let et=FC;if(Ft.size>1){let Xt=F,ui=[];for(;Xt=Xt.parentNode;){let Le=Ft.get(Xt);if(Le){et=Le;break}ui.push(Xt)}ui.forEach(Le=>Ft.set(Le,et))}let Jn=this._buildAnimation(B.namespaceId,me,ot,o,eo,is);if(B.setRealPlayer(Jn),et===FC)km.push(B);else{let Xt=this.playersByElement.get(et);Xt&&Xt.length&&(B.parentPlayer=Jr(Xt)),i.push(B)}}else Ni(F,me.fromStyles),B.onDestroy(()=>Gn(F,me.toStyles)),kC.push(B),u.has(F)&&i.push(B)}),kC.forEach(R=>{let F=o.get(R.element);if(F&&F.length){let B=Jr(F);R.setRealPlayer(B)}}),i.forEach(R=>{R.parentPlayer?R.syncPlayerEvents(R.parentPlayer):R.destroy()});for(let R=0;R<C.length;R++){let F=C[R],B=F[qn];if(ua(F,Rh),B&&B.hasAnimation)continue;let me=[];if(a.size){let Jn=a.get(F);Jn&&Jn.length&&me.push(...Jn);let Xt=this.driver.query(F,xh,!0);for(let ui=0;ui<Xt.length;ui++){let Le=a.get(Xt[ui]);Le&&Le.length&&me.push(...Le)}}let et=me.filter(Jn=>!Jn.destroyed);et.length?AU(this,F,et):this.processLeaveNode(F)}return C.length=0,km.forEach(R=>{this.players.push(R),R.onDone(()=>{R.destroy();let F=this.players.indexOf(R);this.players.splice(F,1)}),R.play()}),km}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==_l;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||s.push(l)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){let i=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let c of t.timelines){let l=c.element,u=l!==o,d=Gt(r,l,[]);this._getPreviousPlayers(l,u,s,a,t.toState).forEach(h=>{let m=h.getRealPlayer();m.beforeDestroy&&m.beforeDestroy(),h.destroy(),d.push(h)})}Ni(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){let a=t.triggerName,c=t.element,l=[],u=new Set,d=new Set,f=t.timelines.map(m=>{let _=m.element;u.add(_);let C=_[qn];if(C&&C.removedBeforeQueried)return new Xr(m.duration,m.delay);let S=_!==c,j=RU((r.get(_)||IU).map(ot=>ot.getRealPlayer())).filter(ot=>{let Ft=ot;return Ft.element?Ft.element===_:!1}),ae=o.get(_),ce=s.get(_),kt=Xy(this._normalizer,m.keyframes,ae,ce),Je=this._buildPlayer(m,kt,j);if(m.subTimeline&&i&&d.add(_),S){let ot=new bl(e,a,_);ot.setRealPlayer(Je),l.push(ot)}return Je});l.forEach(m=>{Gt(this.playersByQueriedElement,m.element,[]).push(m),m.onDone(()=>SU(this.playersByQueriedElement,m.element,m))}),u.forEach(m=>bn(m,ib));let h=Jr(f);return h.onDestroy(()=>{u.forEach(m=>ua(m,ib)),Gn(c,t.toStyles)}),d.forEach(m=>{Gt(i,m,[]).push(h)}),h}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Xr(e.duration,e.delay)}},bl=class{namespaceId;triggerName;element;_player=new Xr;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>Th(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Gt(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function SU(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function TU(n){return n??null}function Fh(n){return n&&n.nodeType===1}function MU(n){return n=="start"||n=="done"}function vA(n,e){let t=n.style.display;return n.style.display=e??"none",t}function yA(n,e,t,r,i){let o=[];t.forEach(c=>o.push(vA(c)));let s=[];r.forEach((c,l)=>{let u=new Map;c.forEach(d=>{let f=e.computeStyle(l,d,i);u.set(d,f),(!f||f.length==0)&&(l[qn]=DU,s.push(l))}),n.set(l,u)});let a=0;return t.forEach(c=>vA(c,o[a++])),s}function bA(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let c=o.get(a);if(c)return c;let l=a.parentNode;return t.has(l)?c=l:i.has(l)?c=r:c=s(l),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==r&&t.get(c).push(a)}),t}function bn(n,e){n.classList?.add(e)}function ua(n,e){n.classList?.remove(e)}function AU(n,e,t){Jr(t).onDone(()=>n.processLeaveNode(e))}function RU(n){let e=[];return TA(n,e),e}function TA(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof aa?TA(r.players,e):e.push(r)}}function xU(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function EA(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}var da=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,r){this._driver=t,this._normalizer=r,this._transitionEngine=new bb(e.body,t,r),this._timelineEngine=new vb(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let c=[],l=[],u=CA(this._driver,o,c,l);if(c.length)throw QM(i,c);a=_U(i,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[o,s]=Jy(r),a=i;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if(r.charAt(0)=="@"){let[s,a]=Jy(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function NU(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=ub(e[0]),e.length>1&&(r=ub(e[e.length-1]))):e instanceof Map&&(t=ub(e)),t||r?new PU(n,t,r):null}var PU=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Gn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Gn(this._element,this._initialStyles),this._endStyles&&(Gn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ni(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ni(this._element,this._endStyles),this._endStyles=null),Gn(this._element,this._initialStyles),this._state=3)}}return n})();function ub(n){let e=null;return n.forEach((t,r)=>{OU(r)&&(e=e||new Map,e.set(r,t))}),e}function OU(n){return n==="display"||n==="position"}var $h=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer=null;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer()&&this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return this.domPlayer;this._initialized=!0;let e=this.keyframes,t=this._triggerWebAnimation(this.element,e,this.options);if(!t)return this._onFinish(),null;this.domPlayer=t,this._finalKeyframe=e.length?e[e.length-1]:new Map;let r=()=>this._onFinish();return t.addEventListener("finish",r),this.onDestroy(()=>{t.removeEventListener("finish",r)}),t}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer?.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){let i=this._convertKeyframesToObject(t);try{return e.animate(i,r)}catch{return null}}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){let e=this._buildPlayer();e&&(this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),e.play())}pause(){this.init(),this.domPlayer?.pause()}finish(){this.init(),this.domPlayer&&(this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish())}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer?.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer||this.init(),this.domPlayer&&(this.domPlayer.currentTime=e*this.time)}getPosition(){return this.domPlayer?+(this.domPlayer.currentTime??0)/this.time:this._initialized?1:0}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:Ph(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},zh=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return eb(e,t)}getParentElement(e){return Ah(e)}query(e,t,r){return tb(e,t,r)}computeStyle(e,t,r){return Ph(e,t)}animate(e,t,r,i,o,s=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};o&&(c.easing=o);let l=new Map,u=s.filter(h=>h instanceof $h);uA(r,i)&&u.forEach(h=>{h.currentSnapshot.forEach((m,_)=>l.set(_,m))});let d=cA(t).map(h=>new Map(h));d=dA(e,d,l);let f=NU(e,d);return new $h(e,d,c,f)}};var Lh="@",MA="@.disabled",Wh=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r,i){if(i){this.delegate.removeChild(e,t,r,i);return}this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==Lh&&t==MA?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r,i){return this.delegate.listen(e,t,r,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},Eb=class extends Wh{factory;constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==Lh?t.charAt(1)=="."&&t==MA?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r,i){if(t.charAt(0)==Lh){let o=kU(e),s=t.slice(1),a="";return s.charAt(0)!=Lh&&([s,a]=FU(s)),this.engine.listen(this.namespaceId,o,s,a,c=>{let l=c._data||-1;this.factory.scheduleListenerCallback(l,r,c)})}return this.delegate.listen(e,t,r,i)}};function kU(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function FU(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var Gh=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,t.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(e,t){let i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let l=this._rendererCache,u=l.get(i);if(!u){let d=()=>l.delete(i);u=new Wh("",i,this.engine,d),l.set(i,u)}return u}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return t.data.animation.forEach(a),new Eb(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var VU=(()=>{class n extends da{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||n)(x(re),x(Vo),x(jo))};static \u0275prov=D({token:n,factory:n.\u0275fac})}return n})();function jU(){return new Vh}function BU(n,e,t){return new Gh(n,e,t)}var AA=[{provide:jo,useFactory:jU},{provide:da,useClass:VU},{provide:lt,useFactory:BU,deps:[Hc,da,Q]}],jse=[{provide:Vo,useClass:wb},{provide:Ti,useValue:"NoopAnimations"},...AA],UU=[{provide:Vo,useFactory:()=>new zh},{provide:Ti,useFactory:()=>"BrowserAnimations"},...AA];function RA(){return pr("NgEagerAnimations"),[...UU]}var jA=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(P(fn),P(ke))};static \u0275dir=pe({type:n})}return n})(),Tb=(()=>{class n extends jA{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ut(n)))(i||n)}})();static \u0275dir=pe({type:n,features:[Ge]})}return n})(),tp=new M("");var HU={provide:tp,useExisting:sn(()=>ma),multi:!0};function $U(){let n=vn()?vn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var zU=new M(""),ma=(()=>{class n extends jA{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!$U())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(P(fn),P(ke),P(zU,8))};static \u0275dir=pe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&k("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[$t([HU]),Ge]})}return n})();function BA(n){return n==null||WU(n)===0}function WU(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var np=new M(""),UA=new M("");function GU(n){return BA(n.value)?{required:!0}:null}function qU(n){if(!n)return Ib;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(BA(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function Ib(n){return null}function HA(n){return n!=null}function $A(n){return Hr(n)?je(n):n}function zA(n){let e={};return n.forEach(t=>{e=t!=null?b(b({},e),t):e}),Object.keys(e).length===0?null:e}function WA(n,e){return e.map(t=>t(n))}function YU(n){return!n.validate}function GA(n){return n.map(e=>YU(e)?e:t=>e.validate(t))}function KU(n){if(!n)return null;let e=n.filter(HA);return e.length==0?null:function(t){return zA(WA(t,e))}}function Mb(n){return n!=null?KU(GA(n)):null}function QU(n){if(!n)return null;let e=n.filter(HA);return e.length==0?null:function(t){let r=WA(t,e).map($A);return ng(r).pipe(z(zA))}}function Ab(n){return n!=null?QU(GA(n)):null}function xA(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function ZU(n){return n._rawValidators}function XU(n){return n._rawAsyncValidators}function Db(n){return n?Array.isArray(n)?n:[n]:[]}function Yh(n,e){return Array.isArray(n)?n.includes(e):n===e}function NA(n,e){let t=Db(e);return Db(n).forEach(i=>{Yh(t,i)||t.push(i)}),t}function PA(n,e){return Db(e).filter(t=>!Yh(n,t))}var Kh=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Mb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ab(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},pa=class extends Kh{name;get formDirective(){return null}get path(){return null}},Sl=class extends Kh{_parent=null;name=null;valueAccessor=null},Qh=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},JU={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},nae=H(b({},JU),{"[class.ng-submitted]":"isSubmitted"}),rp=(()=>{class n extends Qh{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(P(Sl,2))};static \u0275dir=pe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Ve("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Ge]})}return n})(),ip=(()=>{class n extends Qh{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(P(pa,10))};static \u0275dir=pe({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Ve("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Ge]})}return n})();var El="VALID",qh="INVALID",fa="PENDING",wl="DISABLED",Pi=class{},Zh=class extends Pi{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Il=class extends Pi{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Dl=class extends Pi{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},ha=class extends Pi{status;source;constructor(e,t){super(),this.status=e,this.source=t}},Sb=class extends Pi{source;constructor(e){super(),this.source=e}},Xh=class extends Pi{source;constructor(e){super(),this.source=e}};function qA(n){return(op(n)?n.validators:n)||null}function eH(n){return Array.isArray(n)?Mb(n):n||null}function YA(n,e){return(op(e)?e.asyncValidators:n)||null}function tH(n){return Array.isArray(n)?Ab(n):n||null}function op(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function nH(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new w(1e3,"");if(!r[t])throw new w(1001,"")}function rH(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new w(1002,"")})}var Jh=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Ze(this.statusReactive)}set status(e){Ze(()=>this.statusReactive.set(e))}_status=zs(()=>this.statusReactive());statusReactive=Bt(void 0);get valid(){return this.status===El}get invalid(){return this.status===qh}get pending(){return this.status==fa}get disabled(){return this.status===wl}get enabled(){return this.status!==wl}errors;get pristine(){return Ze(this.pristineReactive)}set pristine(e){Ze(()=>this.pristineReactive.set(e))}_pristine=zs(()=>this.pristineReactive());pristineReactive=Bt(!0);get dirty(){return!this.pristine}get touched(){return Ze(this.touchedReactive)}set touched(e){Ze(()=>this.touchedReactive.set(e))}_touched=zs(()=>this.touchedReactive());touchedReactive=Bt(!1);get untouched(){return!this.touched}_events=new ne;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(NA(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(NA(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(PA(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(PA(e,this._rawAsyncValidators))}hasValidator(e){return Yh(this._rawValidators,e)}hasAsyncValidator(e){return Yh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(H(b({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Dl(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Dl(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(H(b({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Il(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Il(!0,r))}markAsPending(e={}){this.status=fa;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ha(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(H(b({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=wl,this.errors=null,this._forEachChild(i=>{i.disable(H(b({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Zh(this.value,r)),this._events.next(new ha(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(H(b({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=El,this._forEachChild(r=>{r.enable(H(b({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(H(b({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===El||this.status===fa)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Zh(this.value,t)),this._events.next(new ha(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(H(b({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?wl:El}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=fa,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=$A(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ha(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Me,this.statusChanges=new Me}_calculateStatus(){return this._allControlsDisabled()?wl:this.errors?qh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fa)?fa:this._anyControlsHaveStatus(qh)?qh:El}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Il(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Dl(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){op(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=eH(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=tH(this._rawAsyncValidators)}},ep=class extends Jh{constructor(e,t,r){super(qA(t),YA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){rH(this,!0,e),Object.keys(e).forEach(r=>{nH(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Xh(this))}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Rb=new M("",{providedIn:"root",factory:()=>xb}),xb="always";function iH(n,e){return[...e.path,n]}function KA(n,e,t=xb){QA(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),sH(n,e),cH(n,e),aH(n,e),oH(n,e)}function OA(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function oH(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function QA(n,e){let t=ZU(n);e.validator!==null?n.setValidators(xA(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=XU(n);e.asyncValidator!==null?n.setAsyncValidators(xA(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();OA(e._rawValidators,i),OA(e._rawAsyncValidators,i)}function sH(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&ZA(n,e)})}function aH(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&ZA(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function ZA(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function cH(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function lH(n,e){n==null,QA(n,e)}function uH(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function dH(n){return Object.getPrototypeOf(n.constructor)===Tb}function fH(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function hH(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===ma?t=o:dH(o)?r=o:i=o}),i||r||t||null}var pH={provide:pa,useExisting:sn(()=>Tl)},Cl=Promise.resolve(),Tl=(()=>{class n extends pa{callSetDisabledState;get submitted(){return Ze(this.submittedReactive)}_submitted=zs(()=>this.submittedReactive());submittedReactive=Bt(!1);_directives=new Set;form;ngSubmit=new Me;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new ep({},Mb(t),Ab(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Cl.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),KA(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Cl.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Cl.then(()=>{let r=this._findContainer(t.path),i=new ep({});lH(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Cl.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Cl.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),fH(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new Sb(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(P(np,10),P(UA,10),P(Rb,8))};static \u0275dir=pe({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&k("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[$t([pH]),Ge]})}return n})();function kA(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function FA(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var mH=class extends Jh{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(qA(t),YA(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),op(t)&&(t.nonNullable||t.initialValueIsDefault)&&(FA(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new Xh(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){kA(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){kA(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){FA(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var gH={provide:Sl,useExisting:sn(()=>Ml)},LA=Promise.resolve(),Ml=(()=>{class n extends Sl{_changeDetectorRef;callSetDisabledState;control=new mH;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Me;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=hH(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),uH(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){KA(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){LA.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Un(r);LA.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?iH(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(P(pa,9),P(np,10),P(UA,10),P(tp,10),P(Wr,8),P(Rb,8))};static \u0275dir=pe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[$t([gH]),Ge,jr]})}return n})();var sp=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=pe({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var _H={provide:tp,useExisting:sn(()=>ap),multi:!0};function XA(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function vH(n){return n.split(":")[0]}var ap=(()=>{class n extends Tb{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=p(Ht).injector;destroyRef=p(Pn);cdr=p(Wr);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,Vn({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let r=this._getOptionId(t),i=XA(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=vH(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ut(n)))(i||n)}})();static \u0275dir=pe({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&k("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[$t([_H]),Ge]})}return n})(),JA=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(XA(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||n)(P(ke),P(fn),P(ap,9))};static \u0275dir=pe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),yH={provide:tp,useExisting:sn(()=>eR),multi:!0};function VA(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function bH(n){return n.split(":")[0]}var eR=(()=>{class n extends Tb{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=bH(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ut(n)))(i||n)}})();static \u0275dir=pe({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&k("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[$t([yH]),Ge]})}return n})(),tR=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(VA(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(VA(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(P(ke),P(fn),P(eR,9))};static \u0275dir=pe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var nR=(()=>{class n{_validator=Ib;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Ib,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=pe({type:n,features:[jr]})}return n})();var EH={provide:np,useExisting:sn(()=>Nb),multi:!0};var Nb=(()=>{class n extends nR{required;inputName="required";normalizeInput=Un;createValidator=t=>GU;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ut(n)))(i||n)}})();static \u0275dir=pe({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Rt("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[$t([EH]),Ge]})}return n})();var wH={provide:np,useExisting:sn(()=>Pb),multi:!0},Pb=(()=>{class n extends nR{pattern;inputName="pattern";normalizeInput=t=>t;createValidator=t=>qU(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ut(n)))(i||n)}})();static \u0275dir=pe({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Rt("pattern",i._enabled?i.pattern:null)},inputs:{pattern:"pattern"},standalone:!1,features:[$t([wH]),Ge]})}return n})();var CH=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=At({type:n});static \u0275inj=_t({})}return n})();var ga=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Rb,useValue:t.callSetDisabledState??xb}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=At({type:n});static \u0275inj=_t({imports:[CH]})}return n})();var rR="language",Oi=class n{_language$=new Te("en");language$=this._language$.asObservable();constructor(){try{let e=localStorage.getItem(rR),t=e||"en";this._language$.next(t),this.applyDirection(t)}catch{this._language$.next("en"),this.applyDirection("en")}}setLanguage(e){this._language$.next(e);try{localStorage.setItem(rR,e)}catch{}this.applyDirection(e)}getCurrentLanguage(){return this._language$.getValue()}applyDirection(e){try{let t=e==="ar"?"rtl":"ltr";typeof document<"u"&&document.documentElement&&(document.documentElement.dir=t)}catch{}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})};var cp=class n{_api=p(eh);_langSvc=p(Oi);key="c3bba90b5a6d52fe51d8ddeaaefd959c";_baseUrl="https://api.themoviedb.org/3";getPageById(e){let t=this._langSvc.getCurrentLanguage();return this._api.get(`${this._baseUrl}/movie/popular?api_key=${this.key}&page=${e}&language=${t}`)}getMovieById(e){let t=this._langSvc.getCurrentLanguage();return this._api.get(`${this._baseUrl}/movie/${e}?api_key=${this.key}&language=${t}`)}getMovieByName(e){let t=this._langSvc.getCurrentLanguage();return this._api.get(`${this._baseUrl}/search/movie?api_key=${this.key}&query=${encodeURIComponent(e)}&language=${t}`)}getMovieRecommendation(e){let t=this._langSvc.getCurrentLanguage();return this._api.get(`${this._baseUrl}/movie/${e}/recommendations?api_key=${this.key}&language=${t}`)}getMovieVideos(e){let t=this._langSvc.getCurrentLanguage();return this._api.get(`${this._baseUrl}/movie/${e}/videos?api_key=${this.key}&language=${t}`)}getMovieByLang(e){return this._api.get(`${this._baseUrl}/movie/now_playing?api_key=${this.key}&language=${e}`)}getGenres(){let e=this._langSvc.getCurrentLanguage();return this._api.get(`${this._baseUrl}/genre/movie/list?api_key=${this.key}&language=${e}`)}getDiscoverMovies(e=1,t="popularity.desc",r,i){let o=this._langSvc.getCurrentLanguage(),s=`${this._baseUrl}/discover/movie?api_key=${this.key}&language=${o}&page=${e}&sort_by=${t}`;return r&&r.length>0&&(s+=`&with_genres=${r.join(",")}`),i!==void 0&&i>0&&(s+=`&vote_average.gte=${i}`),this._api.get(s)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})};var ki=class n{constructor(e){this.api=e;this.moviePagination$=this.api.getPageById(1),this.movieDetails$=this.api.getMovieById(2),this.AllMovieByName$=this.api.getMovieByName("Ariel"),this.MovieRecommendation$=this.api.getMovieRecommendation(2),this.AllMovieByLang$=this.api.getMovieByLang("ar")}genres$=O({genres:[]});moviePagination$;setPagination(e){this.moviePagination$=this.api.getPageById(e)}get nowPlaying$(){return this.moviePagination$}setNowPlayingWithLanguage(e,t){this.setPagination(e)}movieDetails$;setmovieDetails(e){this.movieDetails$=this.api.getMovieById(e)}AllMovieByName$;setAllMovieByName(e){this.AllMovieByName$=this.api.getMovieByName(e)}MovieRecommendation$;setMovieRecommendation(e){this.MovieRecommendation$=this.api.getMovieRecommendation(e)}getMovieVideos(e){return this.api.getMovieVideos(e)}AllMovieByLang$;setAllMovieByLang(e){this.AllMovieByLang$=this.api.getMovieByLang(e)}filteredMovies$;setDiscoverMovies(e=1,t,r="popularity.desc",i,o){this.filteredMovies$=this.api.getDiscoverMovies(e,r,i,o)}getGenres(){return this.api.getGenres()}loadGenres(){this.genres$=this.api.getGenres()}static \u0275fac=function(t){return new(t||n)(x(cp))};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})};var iR=()=>{};var Fb={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var T=function(n,e){if(!n)throw Bo(e)},Bo=function(n){return new Error("Firebase Database ("+Fb.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};var aR=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},SH=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},up={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,l=c?n[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,f=(a&15)<<2|l>>6,h=l&63;c||(h=64,s||(f=64)),r.push(t[u],t[d],t[f],t[h])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(aR(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):SH(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let d=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new Lb;let f=o<<2|a>>4;if(r.push(f),l!==64){let h=a<<4&240|l>>2;if(r.push(h),d!==64){let m=l<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Lb=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},jb=function(n){let e=aR(n);return up.encodeByteArray(e,!0)},Rl=function(n){return jb(n).replace(/\./g,"")},_a=function(n){try{return up.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function cR(n){return lR(void 0,n)}function lR(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(let t in e)!e.hasOwnProperty(t)||!TH(t)||(n[t]=lR(n[t],e[t]));return n}function TH(n){return n!=="__proto__"}function MH(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var AH=()=>MH().__FIREBASE_DEFAULTS__,RH=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},xH=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&_a(n[1]);return e&&JSON.parse(e)},Bb=()=>{try{return iR()||AH()||RH()||xH()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Ub=n=>Bb()?.emulatorHosts?.[n],uR=n=>{let e=Ub(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Hb=()=>Bb()?.config,$b=n=>Bb()?.[`_${n}`];var ei=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Fi(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function dp(n){return g(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function dR(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=b({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Rl(JSON.stringify(t)),Rl(JSON.stringify(s)),""].join(".")}var Al={};function NH(){let n={prod:[],emulator:[]};for(let e of Object.keys(Al))Al[e]?n.emulator.push(e):n.prod.push(e);return n}function PH(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var oR=!1;function fp(n,e){if(typeof window>"u"||typeof document>"u"||!Fi(window.location.host)||Al[n]===e||Al[n]||oR)return;Al[n]=e;function t(f){return`__firebase__banner__${f}`}let r="__firebase__banner",o=NH().prod.length>0;function s(){let f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function c(f,h){f.setAttribute("width","24"),f.setAttribute("id",h),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function l(){let f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{oR=!0,s()},f}function u(f,h){f.setAttribute("id",h),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){let f=PH(r),h=t("text"),m=document.getElementById(h)||document.createElement("span"),_=t("learnmore"),C=document.getElementById(_)||document.createElement("a"),S=t("preprendIcon"),j=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){let ae=f.element;a(ae),u(C,_);let ce=l();c(j,S),ae.append(j,m,C,ce),document.body.appendChild(ae)}o?(m.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,m.innerText="Preview backend running in this workspace."),m.setAttribute("id",h)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}function Et(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xl(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Et())}function fR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hR(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function hp(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pR(){let n=Et();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Cr(){return Fb.NODE_CLIENT===!0||Fb.NODE_ADMIN===!0}function mR(){try{return typeof indexedDB=="object"}catch{return!1}}function gR(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}var OH="FirebaseError",Yn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=OH,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ti.prototype.create)}},ti=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?kH(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Yn(i,a,r)}};function kH(n,e){return n.replace(FH,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var FH=/\{\$([^}]+)}/g;function va(n){return JSON.parse(n)}function Ke(n){return JSON.stringify(n)}var _R=function(n){let e={},t={},r={},i="";try{let o=n.split(".");e=va(_a(o[0])||""),t=va(_a(o[1])||""),i=o[2],r=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:r,signature:i}};var vR=function(n){let e=_R(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},yR=function(n){let e=_R(n).claims;return typeof e=="object"&&e.admin===!0};function Kn(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Uo(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function Nl(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Pl(n,e,t){let r={};for(let i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}function Ir(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(sR(o)&&sR(s)){if(!Ir(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function sR(n){return n!==null&&typeof n=="object"}function Ho(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ya(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function ba(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}var lp=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);let r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let d=0;d<16;d++)r[d]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let d=16;d<80;d++){let f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4],l,u;for(let d=0;d<80;d++){d<40?d<20?(l=a^o&(s^a),u=1518500249):(l=o^s^a,u=1859775393):d<60?(l=o&s|a&(o|s),u=2400959708):(l=o^s^a,u=3395469782);let f=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);let r=t-this.blockSize,i=0,o=this.buf_,s=this.inbuf_;for(;i<t;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<t;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<t;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){let e=[],t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=t&255,t/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}};function bR(n,e){let t=new Vb(n,e);return t.subscribe.bind(t)}var Vb=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");LH(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=kb),i.error===void 0&&(i.error=kb),i.complete===void 0&&(i.complete=kb);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function LH(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function kb(){}function Ol(n,e){return`${n} failed: ${e} argument `}var ER=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i>=55296&&i<=56319){let o=i-55296;r++,T(r<n.length,"Surrogate pair missing trail surrogate.");let s=n.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},kl=function(n){let e=0;for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e};var mae=14400*1e3;function wt(n){return n&&n._delegate?n._delegate:n}var En=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var $o="[DEFAULT]";var pp=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new ei;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){let t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jH(e))try{this.getOrInitializeService({instanceIdentifier:$o})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=$o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return g(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=$o){return this.instances.has(e)}getOptions(e=$o){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){let r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);let o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:VH(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$o){return this.component?this.component.multipleInstances?e:$o:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function VH(n){return n===$o?void 0:n}function jH(n){return n.instantiationMode==="EAGER"}var Fl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new pp(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var BH=[],Ce=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(Ce||{}),UH={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},HH=Ce.INFO,$H={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},zH=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=$H[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Li=class{constructor(e){this.name=e,this._logLevel=HH,this._logHandler=zH,this._userLogHandler=null,BH.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UH[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}};var WH=(n,e)=>e.some(t=>n instanceof t),wR,CR;function GH(){return wR||(wR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qH(){return CR||(CR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var IR=new WeakMap,Wb=new WeakMap,DR=new WeakMap,zb=new WeakMap,qb=new WeakMap;function YH(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Dr(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&IR.set(t,n)}).catch(()=>{}),qb.set(e,n),e}function KH(n){if(Wb.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Wb.set(n,e)}var Gb={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Wb.get(n);if(e==="objectStoreNames")return n.objectStoreNames||DR.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Dr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function SR(n){Gb=n(Gb)}function QH(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(mp(this),e,...t);return DR.set(r,e.sort?e.sort():[e]),Dr(r)}:qH().includes(n)?function(...e){return n.apply(mp(this),e),Dr(IR.get(this))}:function(...e){return Dr(n.apply(mp(this),e))}}function ZH(n){return typeof n=="function"?QH(n):(n instanceof IDBTransaction&&KH(n),WH(n,GH())?new Proxy(n,Gb):n)}function Dr(n){if(n instanceof IDBRequest)return YH(n);if(zb.has(n))return zb.get(n);let e=ZH(n);return e!==n&&(zb.set(n,e),qb.set(e,n)),e}var mp=n=>qb.get(n);function MR(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Dr(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Dr(s.result),c.oldVersion,c.newVersion,Dr(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var XH=["get","getKey","getAll","getAllKeys","count"],JH=["put","add","delete","clear"],Yb=new Map;function TR(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Yb.get(e))return Yb.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=JH.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||XH.includes(t)))return;let o=function(s,...a){return g(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&c.done]))[0]})};return Yb.set(e,o),o}SR(n=>H(b({},n),{get:(e,t,r)=>TR(e,t)||n.get(e,t,r),has:(e,t)=>!!TR(e,t)||n.has(e,t)}));var Qb=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(e$(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function e$(n){return n.getComponent()?.type==="VERSION"}var Zb="@firebase/app",AR="0.14.5";var ni=new Li("@firebase/app"),t$="@firebase/app-compat",n$="@firebase/analytics-compat",r$="@firebase/analytics",i$="@firebase/app-check-compat",o$="@firebase/app-check",s$="@firebase/auth",a$="@firebase/auth-compat",c$="@firebase/database",l$="@firebase/data-connect",u$="@firebase/database-compat",d$="@firebase/functions",f$="@firebase/functions-compat",h$="@firebase/installations",p$="@firebase/installations-compat",m$="@firebase/messaging",g$="@firebase/messaging-compat",_$="@firebase/performance",v$="@firebase/performance-compat",y$="@firebase/remote-config",b$="@firebase/remote-config-compat",E$="@firebase/storage",w$="@firebase/storage-compat",C$="@firebase/firestore",I$="@firebase/ai",D$="@firebase/firestore-compat",S$="firebase",T$="12.5.0";var Xb="[DEFAULT]",M$={[Zb]:"fire-core",[t$]:"fire-core-compat",[r$]:"fire-analytics",[n$]:"fire-analytics-compat",[o$]:"fire-app-check",[i$]:"fire-app-check-compat",[s$]:"fire-auth",[a$]:"fire-auth-compat",[c$]:"fire-rtdb",[l$]:"fire-data-connect",[u$]:"fire-rtdb-compat",[d$]:"fire-fn",[f$]:"fire-fn-compat",[h$]:"fire-iid",[p$]:"fire-iid-compat",[m$]:"fire-fcm",[g$]:"fire-fcm-compat",[_$]:"fire-perf",[v$]:"fire-perf-compat",[y$]:"fire-rc",[b$]:"fire-rc-compat",[E$]:"fire-gcs",[w$]:"fire-gcs-compat",[C$]:"fire-fst",[D$]:"fire-fst-compat",[I$]:"fire-vertex","fire-js":"fire-js",[S$]:"fire-js-all"};var gp=new Map,A$=new Map,Jb=new Map;function RR(n,e){try{n.container.addComponent(e)}catch(t){ni.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ji(n){let e=n.name;if(Jb.has(e))return ni.debug(`There were multiple attempts to register component ${e}.`),!1;Jb.set(e,n);for(let t of gp.values())RR(t,n);for(let t of A$.values())RR(t,n);return!0}function Vl(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Yt(n){return n==null?!1:n.settings!==void 0}var R$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vi=new ti("app","Firebase",R$);var eE=class{constructor(e,t,r){this._isDeleted=!1,this._options=b({},e),this._config=b({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new En("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vi.create("app-deleted",{appName:this._name})}};var Bi=T$;function rE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=b({name:Xb,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Vi.create("bad-app-name",{appName:String(i)});if(t||(t=Hb()),!t)throw Vi.create("no-options");let o=gp.get(i);if(o){if(Ir(t,o.options)&&Ir(r,o.config))return o;throw Vi.create("duplicate-app",{appName:i})}let s=new Fl(i);for(let c of Jb.values())s.addComponent(c);let a=new eE(t,r,s);return gp.set(i,a),a}function _p(n=Xb){let e=gp.get(n);if(!e&&n===Xb&&Hb())return rE();if(!e)throw Vi.create("no-app",{appName:n});return e}function Qn(n,e,t){let r=M$[n]??n;t&&(r+=`-${t}`);let i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){let s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ni.warn(s.join(" "));return}ji(new En(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var x$="firebase-heartbeat-database",N$=1,Ll="firebase-heartbeat-store",Kb=null;function OR(){return Kb||(Kb=MR(x$,N$,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ll)}catch(t){console.warn(t)}}}}).catch(n=>{throw Vi.create("idb-open",{originalErrorMessage:n.message})})),Kb}function P$(n){return g(this,null,function*(){try{let t=(yield OR()).transaction(Ll),r=yield t.objectStore(Ll).get(kR(n));return yield t.done,r}catch(e){if(e instanceof Yn)ni.warn(e.message);else{let t=Vi.create("idb-get",{originalErrorMessage:e?.message});ni.warn(t.message)}}})}function xR(n,e){return g(this,null,function*(){try{let r=(yield OR()).transaction(Ll,"readwrite");yield r.objectStore(Ll).put(e,kR(n)),yield r.done}catch(t){if(t instanceof Yn)ni.warn(t.message);else{let r=Vi.create("idb-set",{originalErrorMessage:t?.message});ni.warn(r.message)}}})}function kR(n){return`${n.name}!${n.options.appId}`}var O$=1024,k$=30,tE=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new nE(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return g(this,null,function*(){try{let t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=NR();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>k$){let i=L$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ni.warn(e)}})}getHeartbeatsHeader(){return g(this,null,function*(){try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=NR(),{heartbeatsToSend:t,unsentEntries:r}=F$(this._heartbeatsCache.heartbeats),i=Rl(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return ni.warn(e),""}})}};function NR(){return new Date().toISOString().substring(0,10)}function F$(n,e=O$){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),PR(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),PR(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var nE=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(this,null,function*(){return mR()?gR().then(()=>!0).catch(()=>!1):!1})}read(){return g(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield P$(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return g(this,null,function*(){if(yield this._canUseIndexedDBPromise){let r=yield this.read();return xR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return g(this,null,function*(){if(yield this._canUseIndexedDBPromise){let r=yield this.read();return xR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function PR(n){return Rl(JSON.stringify({version:2,heartbeats:n})).length}function L$(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function V$(n){ji(new En("platform-logger",e=>new Qb(e),"PRIVATE")),ji(new En("heartbeat",e=>new tE(e),"PRIVATE")),Qn(Zb,AR,n),Qn(Zb,AR,"esm2020"),Qn("fire-js","")}V$("");var j$="firebase",B$="12.5.0";Qn(j$,B$,"app");function ZR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var XR=ZR,JR=new ti("auth","Firebase",ZR());var Cp=new Li("@firebase/auth");function U$(n,...e){Cp.logLevel<=Ce.WARN&&Cp.warn(`Auth (${Bi}): ${n}`,...e)}function yp(n,...e){Cp.logLevel<=Ce.ERROR&&Cp.error(`Auth (${Bi}): ${n}`,...e)}function Tr(n,...e){throw TE(n,...e)}function zo(n,...e){return TE(n,...e)}function ex(n,e,t){let r=H(b({},XR()),{[e]:t});return new ti("auth","Firebase",r).create(e,{appName:n.name})}function oi(n){return ex(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function TE(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return JR.create(n,...e)}function L(n,e,...t){if(!n)throw TE(e,...t)}function ri(n){let e="INTERNAL ASSERTION FAILED: "+n;throw yp(e),new Error(e)}function $i(n,e){n||ri(e)}function aE(){return typeof self<"u"&&self.location?.href||""}function H$(){return FR()==="http:"||FR()==="https:"}function FR(){return typeof self<"u"&&self.location?.protocol||null}function $$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(H$()||hR()||"connection"in navigator)?navigator.onLine:!0}function z$(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Wo=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,$i(t>e,"Short delay should be less than long delay!"),this.isMobile=xl()||hp()}get(){return $$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function ME(n,e){$i(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Ip=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var W$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var G$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],q$=new Wo(3e4,6e4);function si(n,e){return n.tenantId&&!e.tenantId?H(b({},e),{tenantId:n.tenantId}):e}function ai(o,s,a,c){return g(this,arguments,function*(n,e,t,r,i={}){return tx(n,i,()=>g(null,null,function*(){let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});let d=Ho(b({key:n.config.apiKey},u)).slice(1),f=yield n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);let h=b({method:e,headers:f},l);return fR()||(h.referrerPolicy="no-referrer"),n.emulatorConfig&&Fi(n.emulatorConfig.host)&&(h.credentials="include"),Ip.fetch()(yield nx(n,n.config.apiHost,t,d),h)}))})}function tx(n,e,t){return g(this,null,function*(){n._canInitEmulator=!1;let r=b(b({},W$),e);try{let i=new cE(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw vp(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw vp(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw vp(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw vp(n,"user-disabled",s);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw ex(n,u,l);Tr(n,u)}}catch(i){if(i instanceof Yn)throw i;Tr(n,"network-request-failed",{message:String(i)})}})}function ql(o,s,a,c){return g(this,arguments,function*(n,e,t,r,i={}){let l=yield ai(n,e,t,r,i);return"mfaPendingCredential"in l&&Tr(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function nx(n,e,t,r){return g(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?ME(n.config,i):`${n.config.apiScheme}://${i}`;return G$.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function Y$(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var cE=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(zo(this.auth,"network-request-failed")),q$.get())})}};function vp(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=zo(n,e,r);return i.customData._tokenResponse=t,i}function LR(n){return n!==void 0&&n.enterprise!==void 0}var lE=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Y$(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function K$(n,e){return g(this,null,function*(){return ai(n,"GET","/v2/recaptchaConfig",si(n,e))})}function Q$(n,e){return g(this,null,function*(){return ai(n,"POST","/v1/accounts:delete",e)})}function Dp(n,e){return g(this,null,function*(){return ai(n,"POST","/v1/accounts:lookup",e)})}function Bl(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function rx(n,e=!1){return g(this,null,function*(){let t=wt(n),r=yield t.getIdToken(e),i=AE(r);L(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Bl(iE(i.auth_time)),issuedAtTime:Bl(iE(i.iat)),expirationTime:Bl(iE(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function iE(n){return Number(n)*1e3}function AE(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return yp("JWT malformed, contained fewer than 3 sections"),null;try{let i=_a(t);return i?JSON.parse(i):(yp("Failed to decode base64 JWT payload"),null)}catch(i){return yp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function VR(n){let e=AE(n);return L(e,"internal-error"),L(typeof e.exp<"u","internal-error"),L(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Hl(n,e,t=!1){return g(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Yn&&Z$(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function Z$({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var uE=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){let t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;let r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>g(this,null,function*(){yield this.iteration()}),t)}iteration(){return g(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var $l=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bl(this.lastLoginAt),this.creationTime=Bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Sp(n){return g(this,null,function*(){let e=n.auth,t=yield n.getIdToken(),r=yield Hl(n,Dp(e,{idToken:t}));L(r?.users.length,e,"internal-error");let i=r.users[0];n._notifyReloadListener(i);let o=i.providerUserInfo?.length?ox(i.providerUserInfo):[],s=X$(n.providerData,o),a=n.isAnonymous,c=!(n.email&&i.passwordHash)&&!s?.length,l=a?c:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new $l(i.createdAt,i.lastLoginAt),isAnonymous:l};Object.assign(n,u)})}function ix(n){return g(this,null,function*(){let e=wt(n);yield Sp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function X$(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ox(n){return n.map(r=>{var i=r,{providerId:e}=i,t=os(i,["providerId"]);return{providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}})}function J$(n,e){return g(this,null,function*(){let t=yield tx(n,{},()=>g(null,null,function*(){let r=Ho({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield nx(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return n.emulatorConfig&&Fi(n.emulatorConfig.host)&&(c.credentials="include"),Ip.fetch()(s,c)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function e3(n,e){return g(this,null,function*(){return ai(n,"POST","/v2/accounts:revokeToken",si(n,e))})}var Ul=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){L(e.idToken,"internal-error"),L(typeof e.idToken<"u","internal-error"),L(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):VR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){L(e.length!==0,"internal-error");let t=VR(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return g(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(L(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return g(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield J$(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(L(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(L(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(L(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return ri("not implemented")}};function Ui(n,e){L(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Hi=class n{constructor(o){var s=o,{uid:e,auth:t,stsTokenManager:r}=s,i=os(s,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new $l(i.createdAt||void 0,i.lastLoginAt||void 0)}getIdToken(e){return g(this,null,function*(){let t=yield Hl(this,this.stsTokenManager.getToken(this.auth,e));return L(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return rx(this,e)}reload(){return ix(this)}_assign(e){this!==e&&(L(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>b({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(H(b({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){L(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return g(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Sp(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return g(this,null,function*(){if(Yt(this.auth.app))return Promise.reject(oi(this.auth));let e=yield this.getIdToken();return yield Hl(this,Q$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return H(b({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>b({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){let r=t.displayName??void 0,i=t.email??void 0,o=t.phoneNumber??void 0,s=t.photoURL??void 0,a=t.tenantId??void 0,c=t._redirectEventId??void 0,l=t.createdAt??void 0,u=t.lastLoginAt??void 0,{uid:d,emailVerified:f,isAnonymous:h,providerData:m,stsTokenManager:_}=t;L(d&&_,e,"internal-error");let C=Ul.fromJSON(this.name,_);L(typeof d=="string",e,"internal-error"),Ui(r,e.name),Ui(i,e.name),L(typeof f=="boolean",e,"internal-error"),L(typeof h=="boolean",e,"internal-error"),Ui(o,e.name),Ui(s,e.name),Ui(a,e.name),Ui(c,e.name),Ui(l,e.name),Ui(u,e.name);let S=new n({uid:d,auth:e,email:i,emailVerified:f,displayName:r,isAnonymous:h,photoURL:s,phoneNumber:o,tenantId:a,stsTokenManager:C,createdAt:l,lastLoginAt:u});return m&&Array.isArray(m)&&(S.providerData=m.map(j=>b({},j))),c&&(S._redirectEventId=c),S}static _fromIdTokenResponse(e,t,r=!1){return g(this,null,function*(){let i=new Ul;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Sp(o),o})}static _fromGetAccountInfoResponse(e,t,r){return g(this,null,function*(){let i=t.users[0];L(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?ox(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Ul;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new $l(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var jR=new Map;function ii(n){$i(n instanceof Function,"Expected a class definition");let e=jR.get(n);return e?($i(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,jR.set(n,e),e)}var t3=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(this,null,function*(){return!0})}_set(t,r){return g(this,null,function*(){this.storage[t]=r})}_get(t){return g(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return g(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),dE=t3;function bp(n,e,t){return`firebase:${n}:${e}:${t}`}var Tp=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=bp(this.userKey,i.apiKey,o),this.fullPersistenceKey=bp("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return g(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Dp(this.auth,{idToken:e}).catch(()=>{});return t?Hi._fromGetAccountInfoResponse(this.auth,t,e):null}return Hi._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return g(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return g(this,null,function*(){if(!t.length)return new n(ii(dE),e,r);let i=(yield Promise.all(t.map(l=>g(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||ii(dE),s=bp(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let u=yield l._get(s);if(u){let d;if(typeof u=="string"){let f=yield Dp(e,{idToken:u}).catch(()=>{});if(!f)break;d=yield Hi._fromGetAccountInfoResponse(e,f,u)}else d=Hi._fromJSON(e,u);l!==o&&(a=d),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>g(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function BR(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dx(e))return"Blackberry";if(fx(e))return"Webos";if(ax(e))return"Safari";if((e.includes("chrome/")||cx(e))&&!e.includes("edge/"))return"Chrome";if(ux(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function sx(n=Et()){return/firefox\//i.test(n)}function ax(n=Et()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cx(n=Et()){return/crios\//i.test(n)}function lx(n=Et()){return/iemobile/i.test(n)}function ux(n=Et()){return/android/i.test(n)}function dx(n=Et()){return/blackberry/i.test(n)}function fx(n=Et()){return/webos/i.test(n)}function RE(n=Et()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function n3(n=Et()){return RE(n)&&!!window.navigator?.standalone}function r3(){return pR()&&document.documentMode===10}function hx(n=Et()){return RE(n)||ux(n)||fx(n)||dx(n)||/windows phone/i.test(n)||lx(n)}function px(n,e=[]){let t;switch(n){case"Browser":t=BR(Et());break;case"Worker":t=`${BR(Et())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Bi}/${r}`}var fE=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return g(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function i3(t){return g(this,arguments,function*(n,e={}){return ai(n,"GET","/v2/passwordPolicy",si(n,e))})}var o3=6,hE=class{constructor(e){let t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??o3,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var pE=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mp(this),this.idTokenSubscription=new Mp(this),this.beforeStateQueue=new fE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ii(t)),this._initializationPromise=this.queue(()=>g(this,null,function*(){if(!this._deleted&&(this.persistenceManager=yield Tp.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return g(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return g(this,null,function*(){try{let t=yield Dp(this,{idToken:e}),r=yield Hi._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return g(this,null,function*(){if(Yt(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}let t=yield this.assertedPersistence.getCurrentUser(),r=t,i=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=this.redirectUser?._redirectEventId,s=r?._redirectEventId,a=yield this.tryRedirectSignIn(e);(!o||o===s)&&a?.user&&(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return L(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return g(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return g(this,null,function*(){try{yield Sp(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=z$()}_delete(){return g(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return g(this,null,function*(){if(Yt(this.app))return Promise.reject(oi(this));let t=e?wt(e):null;return t&&L(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return g(this,null,function*(){if(!this._deleted)return e&&L(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>g(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return g(this,null,function*(){return Yt(this.app)?Promise.reject(oi(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Yt(this.app)?Promise.reject(oi(this)):this.queue(()=>g(this,null,function*(){yield this.assertedPersistence.setPersistence(ii(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return g(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return g(this,null,function*(){let e=yield i3(this),t=new hE(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ti("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return g(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield e3(this,r)}})}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}_setRedirectUser(e,t){return g(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return g(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&ii(e)||this._popupRedirectResolver;L(t,this,"argument-error"),this.redirectPersistenceManager=yield Tp.create(this,[ii(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return g(this,null,function*(){return this._isInitialized&&(yield this.queue(()=>g(this,null,function*(){}))),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null})}_persistUserIfCurrent(e){return g(this,null,function*(){if(e===this.currentUser)return this.queue(()=>g(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(L(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return g(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return L(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=px(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return g(this,null,function*(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let t=yield this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);let r=yield this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e})}_getAppCheckToken(){return g(this,null,function*(){if(Yt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=yield this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&U$(`Error while retrieving App Check token: ${e.error}`),e?.token})}};function zi(n){return wt(n)}var Mp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=bR(t=>this.observer=t)}get next(){return L(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Fp={loadJS(){return g(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function s3(n){Fp=n}function mx(n){return Fp.loadJS(n)}function a3(){return Fp.recaptchaEnterpriseScript}function c3(){return Fp.gapiScript}function gx(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var mE=class{constructor(){this.enterprise=new gE}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},gE=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var l3="recaptcha-enterprise",_x="NO_RECAPTCHA",_E=class{constructor(e){this.type=l3,this.auth=zi(e)}verify(e="verify",t=!1){return g(this,null,function*(){function r(o){return g(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>g(null,null,function*(){K$(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new lE(c);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;LR(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(_x)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new mE().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&LR(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=a3();c.length!==0&&(c+=a),mx(c).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function jl(n,e,t,r=!1,i=!1){return g(this,null,function*(){let o=new _E(n),s;if(i)s=_x;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=b({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function Ap(n,e,t,r,i){return g(this,null,function*(){if(i==="EMAIL_PASSWORD_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield jl(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(o=>g(null,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield jl(n,e,t,t==="getOobCode");return r(n,s)}else return Promise.reject(o)}));else if(i==="PHONE_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){let o=yield jl(n,e,t);return r(n,o).catch(s=>g(null,null,function*(){if(n._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(s.code==="auth/missing-recaptcha-token"||s.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let a=yield jl(n,e,t,!1,!0);return r(n,a)}return Promise.reject(s)}))}else{let o=yield jl(n,e,t,!1,!0);return r(n,o)}else return Promise.reject(i+" provider is not supported.")})}function vx(n,e){let t=Vl(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Ir(o,e??{}))return i;Tr(i,"already-initialized")}return t.initialize({options:e})}function u3(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ii);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function yx(n,e,t){let r=zi(n);L(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=bx(e),{host:s,port:a}=d3(e),c=a===null?"":`:${a}`,l={url:`${o}//${s}${c}/`},u=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){L(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),L(Ir(l,r.config.emulator)&&Ir(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Fi(s)?(dp(`${o}//${s}${c}`),fp("Auth",!0)):i||f3()}function bx(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function d3(n){let e=bx(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:UR(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:UR(s)}}}function UR(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function f3(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var zl=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ri("not implemented")}_getIdTokenResponse(e){return ri("not implemented")}_linkToIdToken(e,t){return ri("not implemented")}_getReauthenticationResolver(e){return ri("not implemented")}};function h3(n,e){return g(this,null,function*(){return ai(n,"POST","/v1/accounts:signUp",e)})}function p3(n,e){return g(this,null,function*(){return ql(n,"POST","/v1/accounts:signInWithPassword",si(n,e))})}function Ex(n,e){return g(this,null,function*(){return ai(n,"POST","/v1/accounts:sendOobCode",si(n,e))})}function m3(n,e){return g(this,null,function*(){return Ex(n,e)})}function g3(n,e){return g(this,null,function*(){return Ex(n,e)})}function _3(n,e){return g(this,null,function*(){return ql(n,"POST","/v1/accounts:signInWithEmailLink",si(n,e))})}function v3(n,e){return g(this,null,function*(){return ql(n,"POST","/v1/accounts:signInWithEmailLink",si(n,e))})}var Wl=class n extends zl{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return g(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ap(e,t,"signInWithPassword",p3,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return _3(e,{email:this._email,oobCode:this._password});default:Tr(e,"internal-error")}})}_linkToIdToken(e,t){return g(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ap(e,r,"signUpPassword",h3,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return v3(e,{idToken:t,email:this._email,oobCode:this._password});default:Tr(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function oE(n,e){return g(this,null,function*(){return ql(n,"POST","/v1/accounts:signInWithIdp",si(n,e))})}function y3(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function b3(n){let e=ya(ba(n)).link,t=e?ya(ba(e)).deep_link_id:null,r=ya(ba(n)).deep_link_id;return(r?ya(ba(r)).link:null)||r||t||e||n}var Rp=class n{constructor(e){let t=ya(ba(e)),r=t.apiKey??null,i=t.oobCode??null,o=y3(t.mode??null);L(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){let t=b3(e);try{return new n(t)}catch{return null}}};var wx=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Wl._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=Rp.parseLink(r);return L(i,"argument-error"),Wl._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),xp=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var vE=class extends xp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function E3(n,e){return g(this,null,function*(){return ql(n,"POST","/v1/accounts:signUp",si(n,e))})}var Ea=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return g(this,null,function*(){let o=yield Hi._fromIdTokenResponse(e,r,i),s=HR(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return g(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=HR(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function HR(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var yE=class n extends Yn{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function Cx(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?yE._fromErrorAndOperation(n,o,e,r):o})}function w3(n,e,t=!1){return g(this,null,function*(){let r=yield Hl(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Ea._forOperation(n,"link",r)})}function C3(n,e,t=!1){return g(this,null,function*(){let{auth:r}=n;if(Yt(r.app))return Promise.reject(oi(r));let i="reauthenticate";try{let o=yield Hl(n,Cx(r,i,e,n),t);L(o.idToken,r,"internal-error");let s=AE(o.idToken);L(s,r,"internal-error");let{sub:a}=s;return L(n.uid===a,r,"user-mismatch"),Ea._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Tr(r,"user-mismatch"),o}})}function Ix(n,e,t=!1){return g(this,null,function*(){if(Yt(n.app))return Promise.reject(oi(n));let r="signIn",i=yield Cx(n,r,e),o=yield Ea._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function Dx(n,e){return g(this,null,function*(){return Ix(zi(n),e)})}function Sx(n,e,t){L(t.url?.length>0,n,"invalid-continue-uri"),L(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),L(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(L(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(L(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function Tx(n){return g(this,null,function*(){let e=zi(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function xE(n,e,t){return g(this,null,function*(){let r=zi(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&Sx(r,i,t),yield Ap(r,i,"getOobCode",g3,"EMAIL_PASSWORD_PROVIDER")})}function NE(n,e,t){return g(this,null,function*(){if(Yt(n.app))return Promise.reject(oi(n));let r=zi(n),s=yield Ap(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",E3,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Tx(n),c}),a=yield Ea._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function PE(n,e,t){return Yt(n.app)?Promise.reject(oi(n)):Dx(wt(n),wx.credential(e,t)).catch(r=>g(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&Tx(n),r}))}function Lp(n,e){return g(this,null,function*(){let t=wt(n),i={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&Sx(t.auth,i,e);let{email:o}=yield m3(t.auth,i);o!==n.email&&(yield n.reload())})}function Mx(n,e,t,r){return wt(n).onIdTokenChanged(e,t,r)}function Ax(n,e,t){return wt(n).beforeAuthStateChanged(e,t)}var Np="__sak";var Pp=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Np,"1"),this.storage.removeItem(Np),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var I3=1e3,D3=10,S3=(()=>{class n extends Pp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hx(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);r3()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,D3):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},I3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return g(this,null,function*(){yield no(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return g(this,null,function*(){let r=yield no(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return g(this,null,function*(){yield no(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),Rx=S3;var T3=(()=>{class n extends Pp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),OE=T3;function M3(n){return Promise.all(n.map(e=>g(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var A3=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return g(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(u=>g(this,null,function*(){return u(r.origin,s)})),l=yield M3(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function xx(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var bE=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return g(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let l=xx("",20);i.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){let f=d;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(u),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Sr(){return window}function R3(n){Sr().location.href=n}function Nx(){return typeof Sr().WorkerGlobalScope<"u"&&typeof Sr().importScripts=="function"}function x3(){return g(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function N3(){return navigator?.serviceWorker?.controller||null}function P3(){return Nx()?self:null}var Px="firebaseLocalStorageDb",O3=1,Op="firebaseLocalStorage",Ox="fbase_key",Go=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Vp(n,e){return n.transaction([Op],e?"readwrite":"readonly").objectStore(Op)}function k3(){let n=indexedDB.deleteDatabase(Px);return new Go(n).toPromise()}function EE(){let n=indexedDB.open(Px,O3);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Op,{keyPath:Ox})}catch(i){t(i)}}),n.addEventListener("success",()=>g(null,null,function*(){let r=n.result;r.objectStoreNames.contains(Op)?e(r):(r.close(),yield k3(),e(yield EE()))}))})}function $R(n,e,t){return g(this,null,function*(){let r=Vp(n,!0).put({[Ox]:e,value:t});return new Go(r).toPromise()})}function F3(n,e){return g(this,null,function*(){let t=Vp(n,!1).get(e),r=yield new Go(t).toPromise();return r===void 0?null:r.value})}function zR(n,e){let t=Vp(n,!0).delete(e);return new Go(t).toPromise()}var L3=800,V3=3,j3=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return g(this,null,function*(){return this.db?this.db:(this.db=yield EE(),this.db)})}_withRetries(t){return g(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>V3)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return g(this,null,function*(){return Nx()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return g(this,null,function*(){this.receiver=A3._getInstance(P3()),this.receiver._subscribe("keyChanged",(t,r)=>g(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>g(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return g(this,null,function*(){if(this.activeServiceWorker=yield x3(),!this.activeServiceWorker)return;this.sender=new bE(this.activeServiceWorker);let t=yield this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return g(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||N3()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return g(this,null,function*(){try{if(!indexedDB)return!1;let t=yield EE();return yield $R(t,Np,"1"),yield zR(t,Np),!0}catch{}return!1})}_withPendingWrite(t){return g(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return g(this,null,function*(){return this._withPendingWrite(()=>g(this,null,function*(){return yield this._withRetries(i=>$R(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return g(this,null,function*(){let r=yield this._withRetries(i=>F3(i,t));return this.localCache[t]=r,r})}_remove(t){return g(this,null,function*(){return this._withPendingWrite(()=>g(this,null,function*(){return yield this._withRetries(r=>zR(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return g(this,null,function*(){let t=yield this._withRetries(o=>{let s=Vp(o,!1).getAll();return new Go(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>g(this,null,function*(){return this._poll()}),L3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),kx=j3;var Wae=gx("rcb"),Gae=new Wo(3e4,6e4);function B3(n,e){return e?ii(e):(L(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Gl=class extends zl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oE(e,this._buildIdpRequest())}_linkToIdToken(e,t){return oE(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return oE(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function U3(n){return Ix(n.auth,new Gl(n),n.bypassAuthState)}function H3(n){let{auth:e,user:t}=n;return L(t,e,"internal-error"),C3(t,new Gl(n),n.bypassAuthState)}function $3(n){return g(this,null,function*(){let{auth:e,user:t}=n;return L(t,e,"internal-error"),w3(t,new Gl(n),n.bypassAuthState)})}var wE=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>g(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return g(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return U3;case"linkViaPopup":case"linkViaRedirect":return $3;case"reauthViaPopup":case"reauthViaRedirect":return H3;default:Tr(this.auth,"internal-error")}}resolve(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var qae=new Wo(2e3,1e4);var z3="pendingRedirect",Ep=new Map,CE=class n extends wE{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return g(this,null,function*(){let e=Ep.get(this.auth._key());if(!e){try{let r=(yield W3(this.resolver,this.auth))?yield no(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Ep.set(this.auth._key(),e)}return this.bypassAuthState||Ep.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return g(this,null,function*(){if(e.type==="signInViaRedirect")return no(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,no(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return g(this,null,function*(){})}cleanUp(){}};function W3(n,e){return g(this,null,function*(){let t=Y3(e),r=q3(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function G3(n,e){Ep.set(n._key(),e)}function q3(n){return ii(n._redirectPersistence)}function Y3(n){return bp(z3,n.config.apiKey,n.name)}function K3(n,e,t=!1){return g(this,null,function*(){if(Yt(n.app))return Promise.reject(oi(n));let r=zi(n),i=B3(r,e),s=yield new CE(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var Q3=600*1e3,IE=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Z3(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Fx(e)){let r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(zo(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Q3&&this.cachedEventUids.clear(),this.cachedEventUids.has(WR(e))}saveEventToCache(e){this.cachedEventUids.add(WR(e)),this.lastProcessedEventTime=Date.now()}};function WR(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Fx({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Z3(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fx(n);default:return!1}}function X3(t){return g(this,arguments,function*(n,e={}){return ai(n,"GET","/v1/projects",e)})}var J3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ez=/^https?/;function tz(n){return g(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield X3(n);for(let t of e)try{if(nz(t))return}catch{}Tr(n,"unauthorized-domain")})}function nz(n){let e=aE(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!ez.test(t))return!1;if(J3.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var rz=new Wo(3e4,6e4);function GR(){let n=Sr().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function iz(n){return new Promise((e,t)=>{function r(){GR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{GR(),t(zo(n,"network-request-failed"))},timeout:rz.get()})}if(Sr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Sr().gapi?.load)r();else{let i=gx("iframefcb");return Sr()[i]=()=>{gapi.load?r():t(zo(n,"network-request-failed"))},mx(`${c3()}?onload=${i}`).catch(o=>t(o))}}).catch(e=>{throw wp=null,e})}var wp=null;function oz(n){return wp=wp||iz(n),wp}var sz=new Wo(5e3,15e3),az="__/auth/iframe",cz="emulator/auth/iframe",lz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dz(n){let e=n.config;L(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?ME(e,cz):`https://${n.config.authDomain}/${az}`,r={apiKey:e.apiKey,appName:n.name,v:Bi},i=uz.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Ho(r).slice(1)}`}function fz(n){return g(this,null,function*(){let e=yield oz(n),t=Sr().gapi;return L(t,n,"internal-error"),e.open({where:document.body,url:dz(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lz,dontclear:!0},r=>new Promise((i,o)=>g(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=zo(n,"network-request-failed"),a=Sr().setTimeout(()=>{o(s)},sz.get());function c(){Sr().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var hz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pz=500,mz=600,gz="_blank",_z="http://localhost",kp=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function vz(n,e,t,r=pz,i=mz){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=H(b({},hz),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Et().toLowerCase();t&&(a=cx(l)?gz:t),sx(l)&&(e=e||_z,c.scrollbars="yes");let u=Object.entries(c).reduce((f,[h,m])=>`${f}${h}=${m},`,"");if(n3(l)&&a!=="_self")return yz(e||"",a),new kp(null);let d=window.open(e||"",a,u);L(d,n,"popup-blocked");try{d.focus()}catch{}return new kp(d)}function yz(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var bz="__/auth/handler",Ez="emulator/auth/handler",wz=encodeURIComponent("fac");function qR(n,e,t,r,i,o){return g(this,null,function*(){L(n.config.authDomain,n,"auth-domain-config-required"),L(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Bi,eventId:i};if(e instanceof xp){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",Nl(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof vE){let u=e.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=yield n._getAppCheckToken(),l=c?`#${wz}=${encodeURIComponent(c)}`:"";return`${Cz(n)}?${Ho(a).slice(1)}${l}`})}function Cz({config:n}){return n.emulator?ME(n,Ez):`https://${n.authDomain}/${bz}`}var sE="webStorageSupport",DE=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=OE,this._completeRedirectFn=K3,this._overrideRedirectResult=G3}_openPopup(e,t,r,i){return g(this,null,function*(){$i(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");let o=yield qR(e,t,r,aE(),i);return vz(e,o,xx())})}_openRedirect(e,t,r,i){return g(this,null,function*(){yield this._originValidation(e);let o=yield qR(e,t,r,aE(),i);return R3(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):($i(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return g(this,null,function*(){let t=yield fz(e),r=new IE(e);return t.register("authEvent",i=>(L(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(sE,{type:sE},i=>{let o=i?.[0]?.[sE];o!==void 0&&t(!!o),Tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=tz(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return hx()||ax()||RE()}},Lx=DE;var YR="@firebase/auth",KR="1.11.1";var SE=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}getToken(e){return g(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){L(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Iz(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Dz(n){ji(new En("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;L(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:px(n)},l=new pE(r,i,o,c);return u3(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ji(new En("auth-internal",e=>{let t=zi(e.getProvider("auth").getImmediate());return(r=>new SE(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qn(YR,KR,Iz(n)),Qn(YR,KR,"esm2020")}var Sz=300,Tz=$b("authIdTokenMaxAge")||Sz,QR=null,Mz=n=>e=>g(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Tz)return;let i=t?.token;QR!==i&&(QR=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function kE(n=_p()){let e=Vl(n,"auth");if(e.isInitialized())return e.getImmediate();let t=vx(n,{popupRedirectResolver:Lx,persistence:[kx,Rx,OE]}),r=$b("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=Mz(o.toString());Ax(t,s,()=>s(t.currentUser)),Mx(t,a=>s(a))}}let i=Ub("auth");return i&&yx(t,`http://${i}`),t}function Az(){return document.getElementsByTagName("head")?.[0]??document}s3({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=zo("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",Az().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Dz("Browser");var Vx="@firebase/database",jx="1.1.0";var Uw="";function Rz(n){Uw=n}var $E=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ke(t))}get(e){let t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:va(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var zE=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return Kn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var mN=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){let e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new $E(e)}}catch{}return new zE},Yo=mN("localStorage"),WE=mN("sessionStorage");var Ia=new Li("@firebase/database"),xz=(function(){let n=1;return function(){return n++}})(),gN=function(n){let e=ER(n),t=new lp;t.update(e);let r=t.digest();return up.encodeByteArray(r)},fu=function(...n){let e="";for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=fu.apply(null,r):typeof r=="object"?e+=Ke(r):e+=r,e+=" "}return e},Ko=null,Bx=!0,Nz=function(n,e){T(!e||n===!0||n===!1,"Can't turn on custom loggers persistently."),n===!0?(Ia.logLevel=Ce.VERBOSE,Ko=Ia.log.bind(Ia),e&&WE.set("logging_enabled",!0)):typeof n=="function"?Ko=n:(Ko=null,WE.remove("logging_enabled"))},ut=function(...n){if(Bx===!0&&(Bx=!1,Ko===null&&WE.get("logging_enabled")===!0&&Nz(!0)),Ko){let e=fu.apply(null,n);Ko(e)}},hu=function(n){return function(...e){ut(n,...e)}},GE=function(...n){let e="FIREBASE INTERNAL ERROR: "+fu(...n);Ia.error(e)},ci=function(...n){let e=`FIREBASE FATAL ERROR: ${fu(...n)}`;throw Ia.error(e),new Error(e)},Pt=function(...n){let e="FIREBASE WARNING: "+fu(...n);Ia.warn(e)},Pz=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Pt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Hw=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Oz=function(n){if(Cr()||document.readyState==="complete")n();else{let e=!1,t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},Sa="[MIN_NAME]",Qo="[MAX_NAME]",Xo=function(n,e){if(n===e)return 0;if(n===Sa||e===Qo)return-1;if(e===Sa||n===Qo)return 1;{let t=Ux(n),r=Ux(e);return t!==null?r!==null?t-r===0?n.length-e.length:t-r:-1:r!==null?1:n<e?-1:1}},kz=function(n,e){return n===e?0:n<e?-1:1},Yl=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Ke(e))},$w=function(n){if(typeof n!="object"||n===null)return Ke(n);let e=[];for(let r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)r!==0&&(t+=","),t+=Ke(e[r]),t+=":",t+=$w(n[e[r]]);return t+="}",t},_N=function(n,e){let t=n.length;if(t<=e)return[n];let r=[];for(let i=0;i<t;i+=e)i+e>t?r.push(n.substring(i,t)):r.push(n.substring(i,i+e));return r};function dt(n,e){for(let t in n)n.hasOwnProperty(t)&&e(t,n[t])}var vN=function(n){T(!Hw(n),"Invalid JSON number");let e=11,t=52,r=(1<<e-1)-1,i,o,s,a,c;n===0?(o=0,s=0,i=1/n===-1/0?1:0):(i=n<0,n=Math.abs(n),n>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),r),o=a+r,s=Math.round(n*Math.pow(2,t-a)-Math.pow(2,t))):(o=0,s=Math.round(n/Math.pow(2,1-r-t))));let l=[];for(c=t;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=e;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();let u=l.join(""),d="";for(c=0;c<64;c+=8){let f=parseInt(u.substr(c,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},Fz=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Lz=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Vz(n,e){let t="Unknown Error";n==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?t="Client doesn't have permission to access the desired data.":n==="unavailable"&&(t="The service is unavailable");let r=new Error(n+" at "+e._path.toString()+": "+t);return r.code=n.toUpperCase(),r}var jz=new RegExp("^-?(0*)\\d{1,10}$"),Bz=-2147483648,Uz=2147483647,Ux=function(n){if(jz.test(n)){let e=Number(n);if(e>=Bz&&e<=Uz)return e}return null},Oa=function(n){try{n()}catch(e){setTimeout(()=>{let t=e.stack||"";throw Pt("Exception was thrown by user callback.",t),e},Math.floor(0))}},Hz=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Jl=function(n,e){let t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};var qE=class{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,Yt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){Pt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}};var YE=class{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(ut("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Pt(e)}},eu=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}n.OWNER="owner";return n})(),Bp="5",yN="v",bN="s",EN="r",wN="f",CN=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,IN="ls",DN="p",KE="ac",SN="websocket",TN="long_polling";var Up=class{constructor(e,t,r,i,o=!1,s="",a=!1,c=!1,l=null){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this.emulatorOptions=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Yo.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Yo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}};function $z(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function MN(n,e,t){T(typeof e=="string","typeof type must == string"),T(typeof t=="object","typeof params must == object");let r;if(e===SN)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===TN)r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);$z(n)&&(t.ns=n.namespace);let i=[];return dt(t,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var QE=class{constructor(){this.counters_={}}incrementCounter(e,t=1){Kn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return cR(this.counters_)}};var FE={},LE={};function zw(n){let e=n.toString();return FE[e]||(FE[e]=new QE),FE[e]}function zz(n,e){let t=n.toString();return LE[t]||(LE[t]=e()),LE[t]}var ZE=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Oa(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var Hx="start",Wz="close",Gz="pLPCommand",qz="pRTLPCB",AN="id",RN="pw",xN="ser",Yz="cb",Kz="seg",Qz="ts",Zz="d",Xz="dframe",NN=1870,PN=30,Jz=NN-PN,eW=25e3,tW=3e4,XE=class n{constructor(e,t,r,i,o,s,a){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=hu(e),this.stats_=zw(t),this.urlFn=c=>(this.appCheckToken&&(c[KE]=this.appCheckToken),MN(t,TN,c))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ZE(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(tW)),Oz(()=>{if(this.isClosed_)return;this.scriptTagHolder=new JE((...o)=>{let[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===Hx)this.id=a,this.password=c;else if(s===Wz)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[Hx]="t",r[xN]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Yz]=this.scriptTagHolder.uniqueCallbackIdentifier),r[yN]=Bp,this.transportSessionId&&(r[bN]=this.transportSessionId),this.lastSessionId&&(r[IN]=this.lastSessionId),this.applicationId&&(r[DN]=this.applicationId),this.appCheckToken&&(r[KE]=this.appCheckToken),typeof location<"u"&&location.hostname&&CN.test(location.hostname)&&(r[EN]=wN);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){n.forceAllow_=!0}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){return Cr()?!1:n.forceAllow_?!0:!n.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Fz()&&!Lz()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let t=Ke(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);let r=jb(t),i=_N(r,Jz);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(Cr())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[Xz]="t",r[AN]=e,r[RN]=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let t=Ke(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}},JE=class n{constructor(e,t,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Cr())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=xz(),window[Gz+this.uniqueCallbackIdentifier]=e,window[qz+this.uniqueCallbackIdentifier]=t,this.myIFrame=n.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){ut("frame writing exception"),a.stack&&ut(a.stack),ut(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ut("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[AN]=this.myID,e[RN]=this.myPW,e[xN]=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+PN+r.length<=NN;){let s=this.pendingSegs.shift();r=r+"&"+Kz+i+"="+s.seg+"&"+Qz+i+"="+s.ts+"&"+Zz+i+"="+s.d,i++}return t=t+r,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);let r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(eW)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,t){Cr()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{ut("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var nW=16384,rW=45e3,Hp=null;typeof MozWebSocket<"u"?Hp=MozWebSocket:typeof WebSocket<"u"&&(Hp=WebSocket);var Kl=(()=>{class n{constructor(t,r,i,o,s,a,c){this.connId=t,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=hu(this.connId),this.stats_=zw(r),this.connURL=n.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,o,s){let a={};return a[yN]=Bp,!Cr()&&typeof location<"u"&&location.hostname&&CN.test(location.hostname)&&(a[EN]=wN),r&&(a[bN]=r),i&&(a[IN]=i),o&&(a[KE]=o),s&&(a[DN]=s),MN(t,SN,a)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Yo.set("previous_websocket_failure",!0);try{let i;if(Cr()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Bp}/${Uw}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new Hp(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&Hp!==null&&!n.forceDisallow_}static previouslyFailed(){return Yo.isInMemoryStorage||Yo.get("previous_websocket_failure")===!0}markConnectionHealthy(){Yo.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=va(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(T(this.frames===null,"We already have a frame buffer"),t.length<=6){let r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;let r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();let r=Ke(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=_N(r,nW);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(rW))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4;return n})(),iW=(()=>{class n{static get ALL_TRANSPORTS(){return[XE,Kl]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){let r=Kl&&Kl.isAvailable(),i=r&&!Kl.previouslyFailed();if(t.webSocketOnly&&(r||Pt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Kl];else{let o=this.transports_=[];for(let s of n.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}n.globalTransportInitialized_=!1;return n})(),oW=6e4,sW=5e3,aW=10*1024,cW=100*1024,VE="t",$x="d",lW="s",zx="r",uW="e",Wx="o",Gx="a",qx="n",Yx="p",dW="h",ew=class{constructor(e,t,r,i,o,s,a,c,l,u){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=hu("c:"+this.id+":"),this.transportManager_=new iW(t),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Jl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>cW?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>aW?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){let t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(VE in e){let t=e[VE];t===Gx?this.upgradeIfSecondaryHealthy_():t===zx?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===Wx&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let t=Yl("t",e),r=Yl("d",e);if(t==="c")this.onSecondaryControl_(r);else if(t==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Yx,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Gx,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:qx,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let t=Yl("t",e),r=Yl("d",e);t==="c"?this.onControl_(r):t==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let t=Yl(VE,e);if($x in e){let r=e[$x];if(t===dW){let i=b({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(t===qx){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===lW?this.onConnectionShutdown_(r):t===zx?this.onReset_(r):t===uW?GE("Server Error: "+r):t===Wx?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):GE("Unknown control packet command: "+t)}}onHandshake_(e){let t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Bp!==r&&Pt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),Jl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(oW))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Jl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(sW))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Yx,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Yo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var $p=class{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}};var zp=class{constructor(e){this.allowedEvents_=e,this.listeners_={},T(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});let i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===t&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){T(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}};var Wp=class n extends zp{static getInstance(){return new n}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!xl()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return T(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var Kx=32,Qx=768,be=class{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}};function _e(){return new be("")}function he(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Yi(n){return n.pieces_.length-n.pieceNum_}function Re(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new be(n.pieces_,e)}function Ww(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function fW(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function iu(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function ON(n){if(n.pieceNum_>=n.pieces_.length)return null;let e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new be(e,0)}function Be(n,e){let t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof be)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new be(t,0)}function de(n){return n.pieceNum_>=n.pieces_.length}function Nt(n,e){let t=he(n),r=he(e);if(t===null)return e;if(t===r)return Nt(Re(n),Re(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function hW(n,e){let t=iu(n,0),r=iu(e,0);for(let i=0;i<t.length&&i<r.length;i++){let o=Xo(t[i],r[i]);if(o!==0)return o}return t.length===r.length?0:t.length<r.length?-1:1}function kN(n,e){if(Yi(n)!==Yi(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function wn(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Yi(n)>Yi(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}var tw=class{constructor(e,t){this.errorPrefix_=t,this.parts_=iu(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=kl(this.parts_[r]);FN(this)}};function pW(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=kl(e),FN(n)}function mW(n){let e=n.parts_.pop();n.byteLength_-=kl(e),n.parts_.length>0&&(n.byteLength_-=1)}function FN(n){if(n.byteLength_>Qx)throw new Error(n.errorPrefix_+"has a key path longer than "+Qx+" bytes ("+n.byteLength_+").");if(n.parts_.length>Kx)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Kx+") or object contains a cycle "+qo(n))}function qo(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}var nw=class n extends zp{static getInstance(){return new n}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return T(e==="visible","Unknown event type: "+e),[this.visible_]}};var Ql=1e3,gW=300*1e3,Zx=30*1e3,_W=1.3,vW=3e4,yW="server_kill",Xx=3,Gw=(()=>{class n extends $p{constructor(t,r,i,o,s,a,c,l){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=n.nextPersistentConnectionId_++,this.log_=hu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ql,this.maxReconnectDelay_=gW,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Cr())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");nw.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Wp.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){let o=++this.requestNumber_,s={r:o,a:t,b:r};this.log_(Ke(s)),T(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(t){this.initConnection_();let r=new ei,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(t,r,i,o){this.initConnection_();let s=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),T(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),T(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let c={onComplete:o,hashFn:r,query:t,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(t){let r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){let r=t.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";t.tag&&(s.q=r._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(a,s,c=>{let l=c.d,u=c.s;n.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(o))===t&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(i,o),t.onComplete&&t.onComplete(u,l))})}static warnOnListenWarnings_(t,r){if(t&&typeof t=="object"&&Kn(t,"w")){let i=Uo(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();Pt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||yR(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Zx)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let t=this.authToken_,r=vR(t)?"auth":"gauth",i={cred:t};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{let r=t.s,i=t.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){let i=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),T(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,t._queryObject,r)}sendUnlisten_(t,r,i,o){this.log_("Unlisten on "+t+" for "+r);let s={p:t},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(t,r,i,o){this.putInternal("p",t,r,i,o)}merge(t,r,i,o){this.putInternal("m",t,r,i,o)}putInternal(t,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:t,request:a,onComplete:o}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(t){let r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(t){if(this.connected_){let r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Ke(t));let r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),t==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):t==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):t==="c"?this.onListenRevoked_(r.p,r.q):t==="ac"?this.onAuthRevoked_(r.s,r.d):t==="apc"?this.onAppCheckRevoked_(r.s,r.d):t==="sd"?this.onSecurityDebugPacket_(r):GE("Unrecognized action received from server: "+Ke(t)+`
Are you using the latest client?`)}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){T(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ql,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Ql,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>vW&&(this.reconnectDelay_=Ql),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*_W)}this.onConnectStatus_(!1)}establishConnection_(){return g(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+n.nextConnectionId_++,s=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,i())},u=function(f){T(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)};this.realtime_={close:l,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?ut("getToken() completed but was canceled"):(ut("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,c=new ew(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,m=>{Pt(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(yW)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&Pt(f),l())}}})}interrupt(t){ut("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){ut("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Nl(this.interruptReasons_)&&(this.reconnectDelay_=Ql,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){let r=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){let r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;r?i=r.map(s=>$w(s)).join("$"):i="default";let o=this.removeListen_(t,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,r){let i=new be(t).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(t,r){ut("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Xx&&(this.reconnectDelay_=Zx,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){ut("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Xx&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let t of this.listens.values())for(let r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){let t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){let t={},r="js";Cr()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),t["sdk."+r+"."+Uw.replace(/\./g,"-")]=1,xl()?t["framework.cordova"]=1:hp()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){let t=Wp.getInstance().currentlyOnline();return Nl(this.interruptReasons_)&&t}}n.nextPersistentConnectionId_=0,n.nextConnectionId_=0;return n})(),ue=class n{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new n(e,t)}};var Ta=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){let r=new ue(Sa,e),i=new ue(Sa,t);return this.compare(r,i)!==0}minPost(){return ue.MIN}};var jp,Gp=class extends Ta{static get __EMPTY_NODE(){return jp}static set __EMPTY_NODE(e){jp=e}compare(e,t){return Xo(e.name,t.name)}isDefinedOn(e){throw Bo("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return ue.MIN}maxPost(){return new ue(Qo,jp)}makePost(e,t){return T(typeof e=="string","KeyIndex indexValue must always be a string."),new ue(e,jp)}toString(){return".key"}},Da=new Gp;var Ca=class{constructor(e,t,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=t?r(e.key,t):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Zn=(()=>{class n{constructor(t,r,i,o,s){this.key=t,this.value=r,this.color=i??n.RED,this.left=o??Cn.EMPTY_NODE,this.right=s??Cn.EMPTY_NODE}copy(t,r,i,o,s){return new n(t??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let o=this,s=i(t,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(t,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(t,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Cn.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,o;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(t,i.key)===0){if(i.right.isEmpty())return Cn.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){let t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){let t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){let t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){let t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})(),rw=class{copy(e,t,r,i,o){return this}insert(e,t,r){return new Zn(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Cn=class n{constructor(e,t=n.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new n(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Zn.BLACK,null,null))}remove(e){return new n(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Zn.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),t===0)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();)if(t=this.comparator_(e,r.key),t===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else t<0?r=r.left:t>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ca(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Ca(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Ca(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Ca(this.root_,null,this.comparator_,!0,e)}};Cn.EMPTY_NODE=new rw;function bW(n,e){return Xo(n.name,e.name)}function qw(n,e){return Xo(n,e)}var iw;function EW(n){iw=n}var LN=function(n){return typeof n=="number"?"number:"+vN(n):"string:"+n},VN=function(n){if(n.isLeafNode()){let e=n.val();T(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Kn(e,".sv"),"Priority must be a string or number.")}else T(n===iw||n.isEmpty(),"priority of unexpected type.");T(n===iw||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var Jx,Ma=(()=>{class n{static set __childrenNodeConstructor(t){Jx=t}static get __childrenNodeConstructor(){return Jx}constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,T(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),VN(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return de(t)?this:he(t)===".priority"?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return t===".priority"?this.updatePriority(r):r.isEmpty()&&t!==".priority"?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){let i=he(t);return i===null?r:r.isEmpty()&&i!==".priority"?this:(T(i!==".priority"||Yi(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Re(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+LN(this.priorityNode_.val())+":");let r=typeof this.value_;t+=r+":",r==="number"?t+=vN(this.value_):t+=this.value_,this.lazyHash_=gN(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:(T(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){let r=typeof t.value_,i=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(r),s=n.VALUE_TYPE_ORDER.indexOf(i);return T(o>=0,"Unknown leaf type: "+r),T(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){let r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}n.VALUE_TYPE_ORDER=["object","boolean","number","string"];return n})(),jN,BN;function wW(n){jN=n}function CW(n){BN=n}var ow=class extends Ta{compare(e,t){let r=e.node.getPriority(),i=t.node.getPriority(),o=r.compareTo(i);return o===0?Xo(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return ue.MIN}maxPost(){return new ue(Qo,new Ma("[PRIORITY-POST]",BN))}makePost(e,t){let r=jN(e);return new ue(t,new Ma("[PRIORITY-POST]",r))}toString(){return".priority"}},Ue=new ow;var IW=Math.log(2),sw=class{constructor(e){let t=o=>parseInt(Math.log(o)/IW,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},qp=function(n,e,t,r){n.sort(e);let i=function(c,l){let u=l-c,d,f;if(u===0)return null;if(u===1)return d=n[c],f=t?t(d):d,new Zn(f,d.node,Zn.BLACK,null,null);{let h=parseInt(u/2,10)+c,m=i(c,h),_=i(h+1,l);return d=n[h],f=t?t(d):d,new Zn(f,d.node,Zn.BLACK,m,_)}},o=function(c){let l=null,u=null,d=n.length,f=function(m,_){let C=d-m,S=d;d-=m;let j=i(C+1,S),ae=n[C],ce=t?t(ae):ae;h(new Zn(ce,ae.node,_,null,j))},h=function(m){l?(l.left=m,l=m):(u=m,l=m)};for(let m=0;m<c.count;++m){let _=c.nextBitIsOne(),C=Math.pow(2,c.count-(m+1));_?f(C,Zn.BLACK):(f(C,Zn.BLACK),f(C,Zn.RED))}return u},s=new sw(n.length),a=o(s);return new Cn(r||e,a)};var jE,wa={},Aa=class n{static get Default(){return T(wa&&Ue,"ChildrenNode.ts has not been loaded"),jE=jE||new n({".priority":wa},{".priority":Ue}),jE}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){let t=Uo(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Cn?t:null}hasIndex(e){return Kn(this.indexSet_,e.toString())}addIndex(e,t){T(e!==Da,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=t.getIterator(ue.Wrap),s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=qp(r,e.getCompare()):a=wa;let c=e.toString(),l=b({},this.indexSet_);l[c]=e;let u=b({},this.indexes_);return u[c]=a,new n(u,l)}addToIndexes(e,t){let r=Pl(this.indexes_,(i,o)=>{let s=Uo(this.indexSet_,o);if(T(s,"Missing index implementation for "+o),i===wa)if(s.isDefinedOn(e.node)){let a=[],c=t.getIterator(ue.Wrap),l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),qp(a,s.getCompare())}else return wa;else{let a=t.get(e.name),c=i;return a&&(c=c.remove(new ue(e.name,a))),c.insert(e,e.node)}});return new n(r,this.indexSet_)}removeFromIndexes(e,t){let r=Pl(this.indexes_,i=>{if(i===wa)return i;{let o=t.get(e.name);return o?i.remove(new ue(e.name,o)):i}});return new n(r,this.indexSet_)}};var Zl,Z=(()=>{class n{static get EMPTY_NODE(){return Zl||(Zl=new n(new Cn(qw),null,Aa.Default))}constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&VN(this.priorityNode_),this.children_.isEmpty()&&T(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Zl}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{let r=this.children_.get(t);return r===null?Zl:r}}getChild(t){let r=he(t);return r===null?this:this.getImmediateChild(r).getChild(Re(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,r){if(T(r,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(r);{let i=new ue(t,r),o,s;r.isEmpty()?(o=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(t,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?Zl:this.priorityNode_;return new n(o,a,s)}}updateChild(t,r){let i=he(t);if(i===null)return r;{T(he(t)!==".priority"||Yi(t)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(Re(t),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(Ue,(a,c)=>{r[a]=c.val(t),i++,s&&n.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!t&&s&&o<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+LN(this.getPriority().val())+":"),this.forEachChild(Ue,(r,i)=>{let o=i.hash();o!==""&&(t+=":"+r+":"+o)}),this.lazyHash_=t===""?"":gN(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new ue(t,r));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){let r=this.resolveIndex_(t);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(t){let r=this.getFirstChildName(t);return r?new ue(r,this.children_.get(r)):null}getLastChildName(t){let r=this.resolveIndex_(t);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(t){let r=this.getLastChildName(t);return r?new ue(r,this.children_.get(r)):null}forEachChild(t,r){let i=this.resolveIndex_(t);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,o=>o);{let o=this.children_.getIteratorFrom(t.name,ue.Wrap),s=o.peek();for(;s!=null&&r.compare(s,t)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,o=>o);{let o=this.children_.getReverseIteratorFrom(t.name,ue.Wrap),s=o.peek();for(;s!=null&&r.compare(s,t)>0;)o.getNext(),s=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===pu?-1:0}withIndex(t){if(t===Da||this.indexMap_.hasIndex(t))return this;{let r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Da||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{let r=t;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(Ue),o=r.getIterator(Ue),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(t){return t===Da?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})(),aw=class extends Z{constructor(){super(new Cn(qw),Z.EMPTY_NODE,Aa.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Z.EMPTY_NODE}isEmpty(){return!1}},pu=new aw;Object.defineProperties(ue,{MIN:{value:new ue(Sa,Z.EMPTY_NODE)},MAX:{value:new ue(Qo,pu)}});Gp.__EMPTY_NODE=Z.EMPTY_NODE;Ma.__childrenNodeConstructor=Z;EW(pu);CW(pu);var DW=!0;function Xe(n,e=null){if(n===null)return Z.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),T(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){let t=n;return new Ma(t,Xe(e))}if(!(n instanceof Array)&&DW){let t=[],r=!1;if(dt(n,(s,a)=>{if(s.substring(0,1)!=="."){let c=Xe(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),t.push(new ue(s,c)))}}),t.length===0)return Z.EMPTY_NODE;let o=qp(t,bW,s=>s.name,qw);if(r){let s=qp(t,Ue.getCompare());return new Z(o,Xe(e),new Aa({".priority":s},{".priority":Ue}))}else return new Z(o,Xe(e),Aa.Default)}else{let t=Z.EMPTY_NODE;return dt(n,(r,i)=>{if(Kn(n,r)&&r.substring(0,1)!=="."){let o=Xe(i);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(r,o))}}),t.updatePriority(Xe(e))}}wW(Xe);var cw=class extends Ta{constructor(e){super(),this.indexPath_=e,T(!de(e)&&he(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){let r=this.extractChild(e.node),i=this.extractChild(t.node),o=r.compareTo(i);return o===0?Xo(e.name,t.name):o}makePost(e,t){let r=Xe(e),i=Z.EMPTY_NODE.updateChild(this.indexPath_,r);return new ue(t,i)}maxPost(){let e=Z.EMPTY_NODE.updateChild(this.indexPath_,pu);return new ue(Qo,e)}toString(){return iu(this.indexPath_,0).join("/")}};var lw=class extends Ta{compare(e,t){let r=e.node.compareTo(t.node);return r===0?Xo(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return ue.MIN}maxPost(){return ue.MAX}makePost(e,t){let r=Xe(e);return new ue(t,r)}toString(){return".value"}},SW=new lw;function UN(n){return{type:"value",snapshotNode:n}}function Ra(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function ou(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function su(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function TW(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}var au=class{constructor(e){this.index_=e}updateChild(e,t,r,i,o,s){T(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(t);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(t)?s.trackChildChange(ou(t,a)):T(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Ra(t,r)):s.trackChildChange(su(t,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(t,r).withIndex(this.index_)}updateFullNode(e,t,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ue,(i,o)=>{t.hasChild(i)||r.trackChildChange(ou(i,o))}),t.isLeafNode()||t.forEachChild(Ue,(i,o)=>{if(e.hasChild(i)){let s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(su(i,o,s))}else r.trackChildChange(Ra(i,o))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Z.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var Yp=class n{constructor(e){this.indexedFilter_=new au(e.getIndex()),this.index_=e.getIndex(),this.startPost_=n.getStartPost_(e),this.endPost_=n.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&r}updateChild(e,t,r,i,o,s){return this.matches(new ue(t,r))||(r=Z.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,r,i,o,s)}updateFullNode(e,t,r){t.isLeafNode()&&(t=Z.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(Z.EMPTY_NODE);let o=this;return t.forEachChild(Ue,(s,a)=>{o.matches(new ue(s,a))||(i=i.updateImmediateChild(s,Z.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()}};var uw=class{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=t=>{let r=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Yp(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,r,i,o,s){return this.rangedFilter_.matches(new ue(t,r))||(r=Z.EMPTY_NODE),e.getImmediateChild(t).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,r,i,o,s):this.fullLimitUpdateChild_(e,t,r,o,s)}updateFullNode(e,t,r){let i;if(t.isLeafNode()||t.isEmpty())i=Z.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){i=Z.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=t.withIndex(this.index_),i=i.updatePriority(Z.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,Z.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,r,i,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(f,h)=>d(h,f)}else s=this.index_.getCompare();let a=e;T(a.numChildren()===this.limit_,"");let c=new ue(t,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(c);if(a.hasChild(t)){let d=a.getImmediateChild(t),f=i.getChildAfterChild(this.index_,l,this.reverse_);for(;f!=null&&(f.name===t||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);let h=f==null?1:s(f,c);if(u&&!r.isEmpty()&&h>=0)return o?.trackChildChange(su(t,r,d)),a.updateImmediateChild(t,r);{o?.trackChildChange(ou(t,d));let _=a.updateImmediateChild(t,Z.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o?.trackChildChange(Ra(f.name,f.node)),_.updateImmediateChild(f.name,f.node)):_}}else return r.isEmpty()?e:u&&s(l,c)>=0?(o!=null&&(o.trackChildChange(ou(l.name,l.node)),o.trackChildChange(Ra(t,r))),a.updateImmediateChild(t,r).updateImmediateChild(l.name,Z.EMPTY_NODE)):e}};var dw=class n{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ue}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return T(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return T(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Sa}hasEnd(){return this.endSet_}getIndexEndValue(){return T(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return T(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Qo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return T(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ue}copy(){let e=new n;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function MW(n){return n.loadsAllData()?new au(n.getIndex()):n.hasLimit()?new uw(n):new Yp(n)}function eN(n){let e={};if(n.isDefault())return e;let t;if(n.index_===Ue?t="$priority":n.index_===SW?t="$value":n.index_===Da?t="$key":(T(n.index_ instanceof cw,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Ke(t),n.startSet_){let r=n.startAfterSet_?"startAfter":"startAt";e[r]=Ke(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+Ke(n.indexStartName_))}if(n.endSet_){let r=n.endBeforeSet_?"endBefore":"endAt";e[r]=Ke(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+Ke(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function tN(n){let e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==Ue&&(e.i=n.index_.toString()),e}var fw=class n extends $p{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(T(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=hu("p:rest:"),this.listens_={}}listen(e,t,r,i){let o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);let s=n.getListenId_(e,r),a={};this.listens_[s]=a;let c=eN(e._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(o,d,!1,r),Uo(this.listens_,s)===a){let f;l?l===401?f="permission_denied":f="rest_error:"+l:f="ok",i(f,null)}})}unlisten(e,t){let r=n.getListenId_(e,t);delete this.listens_[r]}get(e){let t=eN(e._queryParams),r=e._path.toString(),i=new ei;return this.restRequest_(r+".json",t,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(t.auth=i.accessToken),o&&o.token&&(t.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ho(t);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=va(a.responseText)}catch{Pt("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&Pt("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var hw=class{constructor(){this.rootNode_=Z.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}};function Kp(){return{value:null,children:new Map}}function HN(n,e,t){if(de(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{let r=he(e);n.children.has(r)||n.children.set(r,Kp());let i=n.children.get(r);e=Re(e),HN(i,e,t)}}function pw(n,e,t){n.value!==null?t(e,n.value):AW(n,(r,i)=>{let o=new be(e.toString()+"/"+r);pw(i,o,t)})}function AW(n,e){n.children.forEach((t,r)=>{e(r,t)})}var mw=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),t=b({},e);return this.last_&&dt(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}};var nN=10*1e3,RW=30*1e3,xW=300*1e3,gw=class{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new mw(e);let r=nN+(RW-nN)*Math.random();Jl(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),t={},r=!1;dt(e,(i,o)=>{o>0&&Kn(this.statsToReport_,i)&&(t[i]=o,r=!0)}),r&&this.server_.reportStats(t),Jl(this.reportStats_.bind(this),Math.floor(Math.random()*2*xW))}};var Mr=(function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n})(Mr||{});function Yw(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Kw(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Qw(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}var _w=class n{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=Mr.ACK_USER_WRITE,this.source=Yw()}operationForChild(e){if(de(this.path)){if(this.affectedTree.value!=null)return T(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let t=this.affectedTree.subtree(new be(e));return new n(_e(),t,this.revert)}}else return T(he(this.path)===e,"operationForChild called for unrelated child."),new n(Re(this.path),this.affectedTree,this.revert)}};var Qp=class n{constructor(e,t){this.source=e,this.path=t,this.type=Mr.LISTEN_COMPLETE}operationForChild(e){return de(this.path)?new n(this.source,_e()):new n(this.source,Re(this.path))}};var xa=class n{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=Mr.OVERWRITE}operationForChild(e){return de(this.path)?new n(this.source,_e(),this.snap.getImmediateChild(e)):new n(this.source,Re(this.path),this.snap)}};var cu=class n{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=Mr.MERGE}operationForChild(e){if(de(this.path)){let t=this.children.subtree(new be(e));return t.isEmpty()?null:t.value?new xa(this.source,_e(),t.value):new n(this.source,_e(),t)}else return T(he(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new n(this.source,Re(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Ar=class{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(de(e))return this.isFullyInitialized()&&!this.filtered_;let t=he(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var vw=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function NW(n,e,t,r){let i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&n.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(TW(s.childName,s.snapshotNode))}),Xl(n,i,"child_removed",e,r,t),Xl(n,i,"child_added",e,r,t),Xl(n,i,"child_moved",o,r,t),Xl(n,i,"child_changed",e,r,t),Xl(n,i,"value",e,r,t),i}function Xl(n,e,t,r,i,o){let s=r.filter(a=>a.type===t);s.sort((a,c)=>OW(n,a,c)),s.forEach(a=>{let c=PW(n,a,o);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,n.query_))})})}function PW(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function OW(n,e,t){if(e.childName==null||t.childName==null)throw Bo("Should only compare child_ events.");let r=new ue(e.childName,e.snapshotNode),i=new ue(t.childName,t.snapshotNode);return n.index_.compare(r,i)}function sm(n,e){return{eventCache:n,serverCache:e}}function tu(n,e,t,r){return sm(new Ar(e,t,r),n.serverCache)}function $N(n,e,t,r){return sm(n.eventCache,new Ar(e,t,r))}function Zp(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Zo(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}var BE,kW=()=>(BE||(BE=new Cn(kz)),BE),Ot=class n{static fromObject(e){let t=new n(null);return dt(e,(r,i)=>{t=t.set(new be(r),i)}),t}constructor(e,t=kW()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:_e(),value:this.value};if(de(e))return null;{let r=he(e),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(Re(e),t);return o!=null?{path:Be(new be(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(de(e))return this;{let t=he(e),r=this.children.get(t);return r!==null?r.subtree(Re(e)):new n(null)}}set(e,t){if(de(e))return new n(t,this.children);{let r=he(e),o=(this.children.get(r)||new n(null)).set(Re(e),t),s=this.children.insert(r,o);return new n(this.value,s)}}remove(e){if(de(e))return this.children.isEmpty()?new n(null):new n(null,this.children);{let t=he(e),r=this.children.get(t);if(r){let i=r.remove(Re(e)),o;return i.isEmpty()?o=this.children.remove(t):o=this.children.insert(t,i),this.value===null&&o.isEmpty()?new n(null):new n(this.value,o)}else return this}}get(e){if(de(e))return this.value;{let t=he(e),r=this.children.get(t);return r?r.get(Re(e)):null}}setTree(e,t){if(de(e))return t;{let r=he(e),o=(this.children.get(r)||new n(null)).setTree(Re(e),t),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new n(this.value,s)}}fold(e){return this.fold_(_e(),e)}fold_(e,t){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Be(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,_e(),t)}findOnPath_(e,t,r){let i=this.value?r(t,this.value):!1;if(i)return i;if(de(e))return null;{let o=he(e),s=this.children.get(o);return s?s.findOnPath_(Re(e),Be(t,o),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,_e(),t)}foreachOnPath_(e,t,r){if(de(e))return this;{this.value&&r(t,this.value);let i=he(e),o=this.children.get(i);return o?o.foreachOnPath_(Re(e),Be(t,i),r):new n(null)}}foreach(e){this.foreach_(_e(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(Be(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}};var Xn=class n{constructor(e){this.writeTree_=e}static empty(){return new n(new Ot(null))}};function nu(n,e,t){if(de(e))return new Xn(new Ot(t));{let r=n.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,o=r.value,s=Nt(i,e);return o=o.updateChild(s,t),new Xn(n.writeTree_.set(i,o))}else{let i=new Ot(t),o=n.writeTree_.setTree(e,i);return new Xn(o)}}}function yw(n,e,t){let r=n;return dt(t,(i,o)=>{r=nu(r,Be(e,i),o)}),r}function rN(n,e){if(de(e))return Xn.empty();{let t=n.writeTree_.setTree(e,new Ot(null));return new Xn(t)}}function bw(n,e){return Jo(n,e)!=null}function Jo(n,e){let t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(Nt(t.path,e)):null}function iN(n){let e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(Ue,(r,i)=>{e.push(new ue(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new ue(r,i.value))}),e}function Gi(n,e){if(de(e))return n;{let t=Jo(n,e);return t!=null?new Xn(new Ot(t)):new Xn(n.writeTree_.subtree(e))}}function Ew(n){return n.writeTree_.isEmpty()}function Na(n,e){return zN(_e(),n.writeTree_,e)}function zN(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(T(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):t=zN(Be(n,i),o,t)}),!t.getChild(n).isEmpty()&&r!==null&&(t=t.updateChild(Be(n,".priority"),r)),t}}function am(n,e){return YN(e,n)}function FW(n,e,t,r,i){T(r>n.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=nu(n.visibleWrites,e,t)),n.lastWriteId=r}function LW(n,e,t,r){T(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:r,visible:!0}),n.visibleWrites=yw(n.visibleWrites,e,t),n.lastWriteId=r}function VW(n,e){for(let t=0;t<n.allWrites.length;t++){let r=n.allWrites[t];if(r.writeId===e)return r}return null}function jW(n,e){let t=n.allWrites.findIndex(a=>a.writeId===e);T(t>=0,"removeWrite called with nonexistent writeId.");let r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,o=!1,s=n.allWrites.length-1;for(;i&&s>=0;){let a=n.allWrites[s];a.visible&&(s>=t&&BW(a,r.path)?i=!1:wn(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return UW(n),!0;if(r.snap)n.visibleWrites=rN(n.visibleWrites,r.path);else{let a=r.children;dt(a,c=>{n.visibleWrites=rN(n.visibleWrites,Be(r.path,c))})}return!0}else return!1}function BW(n,e){if(n.snap)return wn(n.path,e);for(let t in n.children)if(n.children.hasOwnProperty(t)&&wn(Be(n.path,t),e))return!0;return!1}function UW(n){n.visibleWrites=WN(n.allWrites,HW,_e()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function HW(n){return n.visible}function WN(n,e,t){let r=Xn.empty();for(let i=0;i<n.length;++i){let o=n[i];if(e(o)){let s=o.path,a;if(o.snap)wn(t,s)?(a=Nt(t,s),r=nu(r,a,o.snap)):wn(s,t)&&(a=Nt(s,t),r=nu(r,_e(),o.snap.getChild(a)));else if(o.children){if(wn(t,s))a=Nt(t,s),r=yw(r,a,o.children);else if(wn(s,t))if(a=Nt(s,t),de(a))r=yw(r,_e(),o.children);else{let c=Uo(o.children,he(a));if(c){let l=c.getChild(Re(a));r=nu(r,_e(),l)}}}else throw Bo("WriteRecord should have .snap or .children")}}return r}function GN(n,e,t,r,i){if(!r&&!i){let o=Jo(n.visibleWrites,e);if(o!=null)return o;{let s=Gi(n.visibleWrites,e);if(Ew(s))return t;if(t==null&&!bw(s,_e()))return null;{let a=t||Z.EMPTY_NODE;return Na(s,a)}}}else{let o=Gi(n.visibleWrites,e);if(!i&&Ew(o))return t;if(!i&&t==null&&!bw(o,_e()))return null;{let s=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(wn(l.path,e)||wn(e,l.path))},a=WN(n.allWrites,s,e),c=t||Z.EMPTY_NODE;return Na(a,c)}}}function $W(n,e,t){let r=Z.EMPTY_NODE,i=Jo(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ue,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(t){let o=Gi(n.visibleWrites,e);return t.forEachChild(Ue,(s,a)=>{let c=Na(Gi(o,new be(s)),a);r=r.updateImmediateChild(s,c)}),iN(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=Gi(n.visibleWrites,e);return iN(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function zW(n,e,t,r,i){T(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=Be(e,t);if(bw(n.visibleWrites,o))return null;{let s=Gi(n.visibleWrites,o);return Ew(s)?i.getChild(t):Na(s,i.getChild(t))}}function WW(n,e,t,r){let i=Be(e,t),o=Jo(n.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(t)){let s=Gi(n.visibleWrites,i);return Na(s,r.getNode().getImmediateChild(t))}else return null}function GW(n,e){return Jo(n.visibleWrites,e)}function qW(n,e,t,r,i,o,s){let a,c=Gi(n.visibleWrites,e),l=Jo(c,_e());if(l!=null)a=l;else if(t!=null)a=Na(c,t);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function YW(){return{visibleWrites:Xn.empty(),allWrites:[],lastWriteId:-1}}function Xp(n,e,t,r){return GN(n.writeTree,n.treePath,e,t,r)}function Zw(n,e){return $W(n.writeTree,n.treePath,e)}function oN(n,e,t,r){return zW(n.writeTree,n.treePath,e,t,r)}function Jp(n,e){return GW(n.writeTree,Be(n.treePath,e))}function KW(n,e,t,r,i,o){return qW(n.writeTree,n.treePath,e,t,r,i,o)}function Xw(n,e,t){return WW(n.writeTree,n.treePath,e,t)}function qN(n,e){return YN(Be(n.treePath,e),n.writeTree)}function YN(n,e){return{treePath:n,writeTree:e}}var ww=class{constructor(){this.changeMap=new Map}trackChildChange(e){let t=e.type,r=e.childName;T(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),T(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(t==="child_added"&&o==="child_removed")this.changeMap.set(r,su(r,e.snapshotNode,i.snapshotNode));else if(t==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(t==="child_removed"&&o==="child_changed")this.changeMap.set(r,ou(r,i.oldSnap));else if(t==="child_changed"&&o==="child_added")this.changeMap.set(r,Ra(r,e.snapshotNode));else if(t==="child_changed"&&o==="child_changed")this.changeMap.set(r,su(r,e.snapshotNode,i.oldSnap));else throw Bo("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var Cw=class{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}},KN=new Cw,lu=class{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){let t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new Ar(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Xw(this.writes_,e,r)}}getChildAfterChild(e,t,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Zo(this.viewCache_),o=KW(this.writes_,i,t,1,r,e);return o.length===0?null:o[0]}};function QW(n){return{filter:n}}function ZW(n,e){T(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),T(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function XW(n,e,t,r,i){let o=new ww,s,a;if(t.type===Mr.OVERWRITE){let l=t;l.source.fromUser?s=Iw(n,e,l.path,l.snap,r,i,o):(T(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!de(l.path),s=em(n,e,l.path,l.snap,r,i,a,o))}else if(t.type===Mr.MERGE){let l=t;l.source.fromUser?s=e4(n,e,l.path,l.children,r,i,o):(T(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=Dw(n,e,l.path,l.children,r,i,a,o))}else if(t.type===Mr.ACK_USER_WRITE){let l=t;l.revert?s=r4(n,e,l.path,r,i,o):s=t4(n,e,l.path,l.affectedTree,r,i,o)}else if(t.type===Mr.LISTEN_COMPLETE)s=n4(n,e,t.path,r,o);else throw Bo("Unknown operation type: "+t.type);let c=o.getChanges();return JW(e,s,c),{viewCache:s,changes:c}}function JW(n,e,t){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Zp(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&t.push(UN(Zp(e)))}}function QN(n,e,t,r,i,o){let s=e.eventCache;if(Jp(r,t)!=null)return e;{let a,c;if(de(t))if(T(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let l=Zo(e),u=l instanceof Z?l:Z.EMPTY_NODE,d=Zw(r,u);a=n.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{let l=Xp(r,Zo(e));a=n.filter.updateFullNode(e.eventCache.getNode(),l,o)}else{let l=he(t);if(l===".priority"){T(Yi(t)===1,"Can't have a priority with additional path components");let u=s.getNode();c=e.serverCache.getNode();let d=oN(r,t,u,c);d!=null?a=n.filter.updatePriority(u,d):a=s.getNode()}else{let u=Re(t),d;if(s.isCompleteForChild(l)){c=e.serverCache.getNode();let f=oN(r,t,s.getNode(),c);f!=null?d=s.getNode().getImmediateChild(l).updateChild(u,f):d=s.getNode().getImmediateChild(l)}else d=Xw(r,l,e.serverCache);d!=null?a=n.filter.updateChild(s.getNode(),l,d,u,i,o):a=s.getNode()}}return tu(e,a,s.isFullyInitialized()||de(t),n.filter.filtersNodes())}}function em(n,e,t,r,i,o,s,a){let c=e.serverCache,l,u=s?n.filter:n.filter.getIndexedFilter();if(de(t))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){let h=c.getNode().updateChild(t,r);l=u.updateFullNode(c.getNode(),h,null)}else{let h=he(t);if(!c.isCompleteForPath(t)&&Yi(t)>1)return e;let m=Re(t),C=c.getNode().getImmediateChild(h).updateChild(m,r);h===".priority"?l=u.updatePriority(c.getNode(),C):l=u.updateChild(c.getNode(),h,C,m,KN,null)}let d=$N(e,l,c.isFullyInitialized()||de(t),u.filtersNodes()),f=new lu(i,d,o);return QN(n,d,t,i,f,a)}function Iw(n,e,t,r,i,o,s){let a=e.eventCache,c,l,u=new lu(i,e,o);if(de(t))l=n.filter.updateFullNode(e.eventCache.getNode(),r,s),c=tu(e,l,!0,n.filter.filtersNodes());else{let d=he(t);if(d===".priority")l=n.filter.updatePriority(e.eventCache.getNode(),r),c=tu(e,l,a.isFullyInitialized(),a.isFiltered());else{let f=Re(t),h=a.getNode().getImmediateChild(d),m;if(de(f))m=r;else{let _=u.getCompleteChild(d);_!=null?Ww(f)===".priority"&&_.getChild(ON(f)).isEmpty()?m=_:m=_.updateChild(f,r):m=Z.EMPTY_NODE}if(h.equals(m))c=e;else{let _=n.filter.updateChild(a.getNode(),d,m,f,u,s);c=tu(e,_,a.isFullyInitialized(),n.filter.filtersNodes())}}}return c}function sN(n,e){return n.eventCache.isCompleteForChild(e)}function e4(n,e,t,r,i,o,s){let a=e;return r.foreach((c,l)=>{let u=Be(t,c);sN(e,he(u))&&(a=Iw(n,a,u,l,i,o,s))}),r.foreach((c,l)=>{let u=Be(t,c);sN(e,he(u))||(a=Iw(n,a,u,l,i,o,s))}),a}function aN(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Dw(n,e,t,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,l;de(t)?l=r:l=new Ot(null).setTree(t,r);let u=e.serverCache.getNode();return l.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=e.serverCache.getNode().getImmediateChild(d),m=aN(n,h,f);c=em(n,c,new be(d),m,i,o,s,a)}}),l.children.inorderTraversal((d,f)=>{let h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let m=e.serverCache.getNode().getImmediateChild(d),_=aN(n,m,f);c=em(n,c,new be(d),_,i,o,s,a)}}),c}function t4(n,e,t,r,i,o,s){if(Jp(i,t)!=null)return e;let a=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(de(t)&&c.isFullyInitialized()||c.isCompleteForPath(t))return em(n,e,t,c.getNode().getChild(t),i,o,a,s);if(de(t)){let l=new Ot(null);return c.getNode().forEachChild(Da,(u,d)=>{l=l.set(new be(u),d)}),Dw(n,e,t,l,i,o,a,s)}else return e}else{let l=new Ot(null);return r.foreach((u,d)=>{let f=Be(t,u);c.isCompleteForPath(f)&&(l=l.set(u,c.getNode().getChild(f)))}),Dw(n,e,t,l,i,o,a,s)}}function n4(n,e,t,r,i){let o=e.serverCache,s=$N(e,o.getNode(),o.isFullyInitialized()||de(t),o.isFiltered());return QN(n,s,t,r,KN,i)}function r4(n,e,t,r,i,o){let s;if(Jp(r,t)!=null)return e;{let a=new lu(r,e,i),c=e.eventCache.getNode(),l;if(de(t)||he(t)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Xp(r,Zo(e));else{let d=e.serverCache.getNode();T(d instanceof Z,"serverChildren would be complete if leaf node"),u=Zw(r,d)}u=u,l=n.filter.updateFullNode(c,u,o)}else{let u=he(t),d=Xw(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?l=n.filter.updateChild(c,u,d,Re(t),a,o):e.eventCache.getNode().hasChild(u)?l=n.filter.updateChild(c,u,Z.EMPTY_NODE,Re(t),a,o):l=c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Xp(r,Zo(e)),s.isLeafNode()&&(l=n.filter.updateFullNode(l,s,o)))}return s=e.serverCache.isFullyInitialized()||Jp(r,_e())!=null,tu(e,l,s,n.filter.filtersNodes())}}var Sw=class{constructor(e,t){this.query_=e,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new au(r.getIndex()),o=MW(r);this.processor_=QW(o);let s=t.serverCache,a=t.eventCache,c=i.updateFullNode(Z.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(Z.EMPTY_NODE,a.getNode(),null),u=new Ar(c,s.isFullyInitialized(),i.filtersNodes()),d=new Ar(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=sm(d,u),this.eventGenerator_=new vw(this.query_)}get query(){return this.query_}};function i4(n){return n.viewCache_.serverCache.getNode()}function o4(n){return Zp(n.viewCache_)}function s4(n,e){let t=Zo(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!de(e)&&!t.getImmediateChild(he(e)).isEmpty())?t.getChild(e):null}function cN(n){return n.eventRegistrations_.length===0}function a4(n,e){n.eventRegistrations_.push(e)}function lN(n,e,t){let r=[];if(t){T(e==null,"A cancel should cancel all event registrations.");let i=n.query._path;n.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(t,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<n.eventRegistrations_.length;++o){let s=n.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(n.eventRegistrations_.slice(o+1));break}}n.eventRegistrations_=i}else n.eventRegistrations_=[];return r}function uN(n,e,t,r){e.type===Mr.MERGE&&e.source.queryId!==null&&(T(Zo(n.viewCache_),"We should always have a full cache before handling merges"),T(Zp(n.viewCache_),"Missing event cache, even though we have a server cache"));let i=n.viewCache_,o=XW(n.processor_,i,e,t,r);return ZW(n.processor_,o.viewCache),T(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,ZN(n,o.changes,o.viewCache.eventCache.getNode(),null)}function c4(n,e){let t=n.viewCache_.eventCache,r=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Ue,(o,s)=>{r.push(Ra(o,s))}),t.isFullyInitialized()&&r.push(UN(t.getNode())),ZN(n,r,t.getNode(),e)}function ZN(n,e,t,r){let i=r?[r]:n.eventRegistrations_;return NW(n.eventGenerator_,e,t,i)}var tm,nm=class{constructor(){this.views=new Map}};function l4(n){T(!tm,"__referenceConstructor has already been defined"),tm=n}function u4(){return T(tm,"Reference.ts has not been loaded"),tm}function d4(n){return n.views.size===0}function Jw(n,e,t,r){let i=e.source.queryId;if(i!==null){let o=n.views.get(i);return T(o!=null,"SyncTree gave us an op for an invalid query."),uN(o,e,t,r)}else{let o=[];for(let s of n.views.values())o=o.concat(uN(s,e,t,r));return o}}function XN(n,e,t,r,i){let o=e._queryIdentifier,s=n.views.get(o);if(!s){let a=Xp(t,i?r:null),c=!1;a?c=!0:r instanceof Z?(a=Zw(t,r),c=!1):(a=Z.EMPTY_NODE,c=!1);let l=sm(new Ar(a,c,!1),new Ar(r,i,!1));return new Sw(e,l)}return s}function f4(n,e,t,r,i,o){let s=XN(n,e,r,i,o);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,s),a4(s,t),c4(s,t)}function h4(n,e,t,r){let i=e._queryIdentifier,o=[],s=[],a=Ki(n);if(i==="default")for(let[c,l]of n.views.entries())s=s.concat(lN(l,t,r)),cN(l)&&(n.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{let c=n.views.get(i);c&&(s=s.concat(lN(c,t,r)),cN(c)&&(n.views.delete(i),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!Ki(n)&&o.push(new(u4())(e._repo,e._path)),{removed:o,events:s}}function JN(n){let e=[];for(let t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function qi(n,e){let t=null;for(let r of n.views.values())t=t||s4(r,e);return t}function eP(n,e){if(e._queryParams.loadsAllData())return cm(n);{let r=e._queryIdentifier;return n.views.get(r)}}function tP(n,e){return eP(n,e)!=null}function Ki(n){return cm(n)!=null}function cm(n){for(let e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var rm;function p4(n){T(!rm,"__referenceConstructor has already been defined"),rm=n}function m4(){return T(rm,"Reference.ts has not been loaded"),rm}var g4=1,im=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ot(null),this.pendingWriteTree_=YW(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function nP(n,e,t,r,i){return FW(n.pendingWriteTree_,e,t,r,i),i?ka(n,new xa(Yw(),e,t)):[]}function _4(n,e,t,r){LW(n.pendingWriteTree_,e,t,r);let i=Ot.fromObject(t);return ka(n,new cu(Yw(),e,i))}function Wi(n,e,t=!1){let r=VW(n.pendingWriteTree_,e);if(jW(n.pendingWriteTree_,e)){let o=new Ot(null);return r.snap!=null?o=o.set(_e(),!0):dt(r.children,s=>{o=o.set(new be(s),!0)}),ka(n,new _w(r.path,o,t))}else return[]}function mu(n,e,t){return ka(n,new xa(Kw(),e,t))}function v4(n,e,t){let r=Ot.fromObject(t);return ka(n,new cu(Kw(),e,r))}function y4(n,e){return ka(n,new Qp(Kw(),e))}function b4(n,e,t){let r=tC(n,t);if(r){let i=nC(r),o=i.path,s=i.queryId,a=Nt(o,e),c=new Qp(Qw(s),a);return rC(n,o,c)}else return[]}function rP(n,e,t,r,i=!1){let o=e._path,s=n.syncPointTree_.get(o),a=[];if(s&&(e._queryIdentifier==="default"||tP(s,e))){let c=h4(s,e,t,r);d4(s)&&(n.syncPointTree_=n.syncPointTree_.remove(o));let l=c.removed;if(a=c.events,!i){let u=l.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=n.syncPointTree_.findOnPath(o,(f,h)=>Ki(h));if(u&&!d){let f=n.syncPointTree_.subtree(o);if(!f.isEmpty()){let h=I4(f);for(let m=0;m<h.length;++m){let _=h[m],C=_.query,S=aP(n,_);n.listenProvider_.startListening(ru(C),uu(n,C),S.hashFn,S.onComplete)}}}!d&&l.length>0&&!r&&(u?n.listenProvider_.stopListening(ru(e),null):l.forEach(f=>{let h=n.queryToTagMap.get(lm(f));n.listenProvider_.stopListening(ru(f),h)}))}D4(n,l)}return a}function iP(n,e,t,r){let i=tC(n,r);if(i!=null){let o=nC(i),s=o.path,a=o.queryId,c=Nt(s,e),l=new xa(Qw(a),c,t);return rC(n,s,l)}else return[]}function E4(n,e,t,r){let i=tC(n,r);if(i){let o=nC(i),s=o.path,a=o.queryId,c=Nt(s,e),l=Ot.fromObject(t),u=new cu(Qw(a),c,l);return rC(n,s,u)}else return[]}function w4(n,e,t,r=!1){let i=e._path,o=null,s=!1;n.syncPointTree_.foreachOnPath(i,(f,h)=>{let m=Nt(f,i);o=o||qi(h,m),s=s||Ki(h)});let a=n.syncPointTree_.get(i);a?(s=s||Ki(a),o=o||qi(a,_e())):(a=new nm,n.syncPointTree_=n.syncPointTree_.set(i,a));let c;o!=null?c=!0:(c=!1,o=Z.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((h,m)=>{let _=qi(m,_e());_&&(o=o.updateImmediateChild(h,_))}));let l=tP(a,e);if(!l&&!e._queryParams.loadsAllData()){let f=lm(e);T(!n.queryToTagMap.has(f),"View does not exist, but we have a tag");let h=S4();n.queryToTagMap.set(f,h),n.tagToQueryMap.set(h,f)}let u=am(n.pendingWriteTree_,i),d=f4(a,e,t,u,o,c);if(!l&&!s&&!r){let f=eP(a,e);d=d.concat(T4(n,e,f))}return d}function eC(n,e,t){let i=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(e,(s,a)=>{let c=Nt(s,e),l=qi(a,c);if(l)return l});return GN(i,e,o,t,!0)}function C4(n,e){let t=e._path,r=null;n.syncPointTree_.foreachOnPath(t,(l,u)=>{let d=Nt(l,t);r=r||qi(u,d)});let i=n.syncPointTree_.get(t);i?r=r||qi(i,_e()):(i=new nm,n.syncPointTree_=n.syncPointTree_.set(t,i));let o=r!=null,s=o?new Ar(r,!0,!1):null,a=am(n.pendingWriteTree_,e._path),c=XN(i,e,a,o?s.getNode():Z.EMPTY_NODE,o);return o4(c)}function ka(n,e){return oP(e,n.syncPointTree_,null,am(n.pendingWriteTree_,_e()))}function oP(n,e,t,r){if(de(n.path))return sP(n,e,t,r);{let i=e.get(_e());t==null&&i!=null&&(t=qi(i,_e()));let o=[],s=he(n.path),a=n.operationForChild(s),c=e.children.get(s);if(c&&a){let l=t?t.getImmediateChild(s):null,u=qN(r,s);o=o.concat(oP(a,c,l,u))}return i&&(o=o.concat(Jw(i,n,r,t))),o}}function sP(n,e,t,r){let i=e.get(_e());t==null&&i!=null&&(t=qi(i,_e()));let o=[];return e.children.inorderTraversal((s,a)=>{let c=t?t.getImmediateChild(s):null,l=qN(r,s),u=n.operationForChild(s);u&&(o=o.concat(sP(u,a,c,l)))}),i&&(o=o.concat(Jw(i,n,r,t))),o}function aP(n,e){let t=e.query,r=uu(n,t);return{hashFn:()=>(i4(e)||Z.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?b4(n,t._path,r):y4(n,t._path);{let o=Vz(i,t);return rP(n,t,null,o)}}}}function uu(n,e){let t=lm(e);return n.queryToTagMap.get(t)}function lm(n){return n._path.toString()+"$"+n._queryIdentifier}function tC(n,e){return n.tagToQueryMap.get(e)}function nC(n){let e=n.indexOf("$");return T(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new be(n.substr(0,e))}}function rC(n,e,t){let r=n.syncPointTree_.get(e);T(r,"Missing sync point for query tag that we're tracking");let i=am(n.pendingWriteTree_,e);return Jw(r,t,i,null)}function I4(n){return n.fold((e,t,r)=>{if(t&&Ki(t))return[cm(t)];{let i=[];return t&&(i=JN(t)),dt(r,(o,s)=>{i=i.concat(s)}),i}})}function ru(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(m4())(n._repo,n._path):n}function D4(n,e){for(let t=0;t<e.length;++t){let r=e[t];if(!r._queryParams.loadsAllData()){let i=lm(r),o=n.queryToTagMap.get(i);n.queryToTagMap.delete(i),n.tagToQueryMap.delete(o)}}}function S4(){return g4++}function T4(n,e,t){let r=e._path,i=uu(n,e),o=aP(n,t),s=n.listenProvider_.startListening(ru(e),i,o.hashFn,o.onComplete),a=n.syncPointTree_.subtree(r);if(i)T(!Ki(a.value),"If we're adding a query, it shouldn't be shadowed");else{let c=a.fold((l,u,d)=>{if(!de(l)&&u&&Ki(u))return[cm(u).query];{let f=[];return u&&(f=f.concat(JN(u).map(h=>h.query))),dt(d,(h,m)=>{f=f.concat(m)}),f}});for(let l=0;l<c.length;++l){let u=c[l];n.listenProvider_.stopListening(ru(u),uu(n,u))}}return s}var Tw=class n{constructor(e){this.node_=e}getImmediateChild(e){let t=this.node_.getImmediateChild(e);return new n(t)}node(){return this.node_}},Mw=class n{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){let t=Be(this.path_,e);return new n(this.syncTree_,t)}node(){return eC(this.syncTree_,this.path_)}},M4=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},dN=function(n,e,t){if(!n||typeof n!="object")return n;if(T(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return A4(n[".sv"],e,t);if(typeof n[".sv"]=="object")return R4(n[".sv"],e);T(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},A4=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:T(!1,"Unexpected server value: "+n)}},R4=function(n,e,t){n.hasOwnProperty("increment")||T(!1,"Unexpected server value: "+JSON.stringify(n,null,2));let r=n.increment;typeof r!="number"&&T(!1,"Unexpected increment value: "+r);let i=e.node();if(T(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},cP=function(n,e,t,r){return iC(e,new Mw(t,n),r)},lP=function(n,e,t){return iC(n,new Tw(e),t)};function iC(n,e,t){let r=n.getPriority().val(),i=dN(r,e.getImmediateChild(".priority"),t),o;if(n.isLeafNode()){let s=n,a=dN(s.getValue(),e,t);return a!==s.getValue()||i!==s.getPriority().val()?new Ma(a,Xe(i)):n}else{let s=n;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Ma(i))),s.forEachChild(Ue,(a,c)=>{let l=iC(c,e.getImmediateChild(a),t);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}var du=class{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}};function oC(n,e){let t=e instanceof be?e:new be(e),r=n,i=he(t);for(;i!==null;){let o=Uo(r.node.children,i)||{children:{},childCount:0};r=new du(i,r,o),t=Re(t),i=he(t)}return r}function Fa(n){return n.node.value}function uP(n,e){n.node.value=e,Aw(n)}function dP(n){return n.node.childCount>0}function x4(n){return Fa(n)===void 0&&!dP(n)}function um(n,e){dt(n.node.children,(t,r)=>{e(new du(t,n,r))})}function fP(n,e,t,r){t&&!r&&e(n),um(n,i=>{fP(i,e,!0,r)}),t&&r&&e(n)}function N4(n,e,t){let r=t?n:n.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function gu(n){return new be(n.parent===null?n.name:gu(n.parent)+"/"+n.name)}function Aw(n){n.parent!==null&&P4(n.parent,n.name,n)}function P4(n,e,t){let r=x4(t),i=Kn(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,Aw(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,Aw(n))}var O4=/[\[\].#$\/\u0000-\u001F\u007F]/,k4=/[\[\].#$\u0000-\u001F\u007F]/,UE=10*1024*1024,sC=function(n){return typeof n=="string"&&n.length!==0&&!O4.test(n)},hP=function(n){return typeof n=="string"&&n.length!==0&&!k4.test(n)},F4=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),hP(n)},L4=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!Hw(n)||n&&typeof n=="object"&&Kn(n,".sv")},V4=function(n,e,t,r){r&&e===void 0||dm(Ol(n,"value"),e,t)},dm=function(n,e,t){let r=t instanceof be?new tw(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+qo(r));if(typeof e=="function")throw new Error(n+"contains a function "+qo(r)+" with contents = "+e.toString());if(Hw(e))throw new Error(n+"contains "+e.toString()+" "+qo(r));if(typeof e=="string"&&e.length>UE/3&&kl(e)>UE)throw new Error(n+"contains a string greater than "+UE+" utf8 bytes "+qo(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(dt(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!sC(s)))throw new Error(n+" contains an invalid key ("+s+") "+qo(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);pW(r,s),dm(n,a,r),mW(r)}),i&&o)throw new Error(n+' contains ".value" child '+qo(r)+" in addition to actual children.")}},j4=function(n,e){let t,r;for(t=0;t<e.length;t++){r=e[t];let o=iu(r);for(let s=0;s<o.length;s++)if(!(o[s]===".priority"&&s===o.length-1)){if(!sC(o[s]))throw new Error(n+"contains an invalid key ("+o[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(hW);let i=null;for(t=0;t<e.length;t++){if(r=e[t],i!==null&&wn(i,r))throw new Error(n+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},B4=function(n,e,t,r){if(r&&e===void 0)return;let i=Ol(n,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");let o=[];dt(e,(s,a)=>{let c=new be(s);if(dm(i,a,Be(t,c)),Ww(c)===".priority"&&!L4(a))throw new Error(i+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(c)}),j4(i,o)};var pP=function(n,e,t,r){if(!(r&&t===void 0)&&!hP(t))throw new Error(Ol(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},U4=function(n,e,t,r){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),pP(n,e,t,r)},H4=function(n,e){if(he(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},$4=function(n,e){let t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!sC(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!F4(t))throw new Error(Ol(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var Rw=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function aC(n,e){let t=null;for(let r=0;r<e.length;r++){let i=e[r],o=i.getPath();t!==null&&!kN(o,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:o}),t.events.push(i)}t&&n.eventLists_.push(t)}function In(n,e,t){aC(n,t),z4(n,r=>wn(r,e)||wn(e,r))}function z4(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){let i=n.eventLists_[r];if(i){let o=i.path;e(o)?(W4(n.eventLists_[r]),n.eventLists_[r]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function W4(n){for(let e=0;e<n.events.length;e++){let t=n.events[e];if(t!==null){n.events[e]=null;let r=t.getEventRunner();Ko&&ut("event: "+t.toString()),Oa(r)}}}var G4="repo_interrupt",q4=25,xw=class{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Rw,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Kp(),this.transactionQueueTree_=new du,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function Y4(n,e,t){if(n.stats_=zw(n.repoInfo_),n.forceRestClient_||Hz())n.server_=new fw(n.repoInfo_,(r,i,o,s)=>{fN(n,r,i,o,s)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>hN(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ke(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Gw(n.repoInfo_,e,(r,i,o,s)=>{fN(n,r,i,o,s)},r=>{hN(n,r)},r=>{Q4(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=zz(n.repoInfo_,()=>new gw(n.stats_,n.server_)),n.infoData_=new hw,n.infoSyncTree_=new im({startListening:(r,i,o,s)=>{let a=[],c=n.infoData_.getNode(r._path);return c.isEmpty()||(a=mu(n.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),cC(n,"connected",!1),n.serverSyncTree_=new im({startListening:(r,i,o,s)=>(n.server_.listen(r,o,i,(a,c)=>{let l=s(a,c);In(n.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}function K4(n){let t=n.infoData_.getNode(new be(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function fm(n){return M4({timestamp:K4(n)})}function fN(n,e,t,r,i){n.dataUpdateCount++;let o=new be(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let s=[];if(i)if(r){let c=Pl(t,l=>Xe(l));s=E4(n.serverSyncTree_,o,c,i)}else{let c=Xe(t);s=iP(n.serverSyncTree_,o,c,i)}else if(r){let c=Pl(t,l=>Xe(l));s=v4(n.serverSyncTree_,o,c)}else{let c=Xe(t);s=mu(n.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=Pa(n,o)),In(n.eventQueue_,a,s)}function hN(n,e){cC(n,"connected",e),e===!1&&e8(n)}function Q4(n,e){dt(e,(t,r)=>{cC(n,t,r)})}function cC(n,e,t){let r=new be("/.info/"+e),i=Xe(t);n.infoData_.updateSnapshot(r,i);let o=mu(n.infoSyncTree_,r,i);In(n.eventQueue_,r,o)}function lC(n){return n.nextWriteId_++}function Z4(n,e,t){let r=C4(n.serverSyncTree_,e);return r!=null?Promise.resolve(r):n.server_.get(e).then(i=>{let o=Xe(i).withIndex(e._queryParams.getIndex());w4(n.serverSyncTree_,e,t,!0);let s;if(e._queryParams.loadsAllData())s=mu(n.serverSyncTree_,e._path,o);else{let a=uu(n.serverSyncTree_,e);s=iP(n.serverSyncTree_,e._path,o,a)}return In(n.eventQueue_,e._path,s),rP(n.serverSyncTree_,e,t,null,!0),o},i=>(_u(n,"get for query "+Ke(e)+" failed: "+i),Promise.reject(new Error(i))))}function X4(n,e,t,r,i){_u(n,"set",{path:e.toString(),value:t,priority:r});let o=fm(n),s=Xe(t,r),a=eC(n.serverSyncTree_,e),c=lP(s,a,o),l=lC(n),u=nP(n.serverSyncTree_,e,c,l,!0);aC(n.eventQueue_,u),n.server_.put(e.toString(),s.val(!0),(f,h)=>{let m=f==="ok";m||Pt("set at "+e+" failed: "+f);let _=Wi(n.serverSyncTree_,l,!m);In(n.eventQueue_,e,_),Nw(n,i,f,h)});let d=dC(n,e);Pa(n,d),In(n.eventQueue_,d,[])}function J4(n,e,t,r){_u(n,"update",{path:e.toString(),value:t});let i=!0,o=fm(n),s={};if(dt(t,(a,c)=>{i=!1,s[a]=cP(Be(e,a),Xe(c),n.serverSyncTree_,o)}),i)ut("update() called with empty data.  Don't do anything."),Nw(n,r,"ok",void 0);else{let a=lC(n),c=_4(n.serverSyncTree_,e,s,a);aC(n.eventQueue_,c),n.server_.merge(e.toString(),t,(l,u)=>{let d=l==="ok";d||Pt("update at "+e+" failed: "+l);let f=Wi(n.serverSyncTree_,a,!d),h=f.length>0?Pa(n,e):e;In(n.eventQueue_,h,f),Nw(n,r,l,u)}),dt(t,l=>{let u=dC(n,Be(e,l));Pa(n,u)}),In(n.eventQueue_,e,[])}}function e8(n){_u(n,"onDisconnectEvents");let e=fm(n),t=Kp();pw(n.onDisconnect_,_e(),(i,o)=>{let s=cP(i,o,n.serverSyncTree_,e);HN(t,i,s)});let r=[];pw(t,_e(),(i,o)=>{r=r.concat(mu(n.serverSyncTree_,i,o));let s=dC(n,i);Pa(n,s)}),n.onDisconnect_=Kp(),In(n.eventQueue_,_e(),r)}function t8(n){n.persistentConnection_&&n.persistentConnection_.interrupt(G4)}function _u(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),ut(t,...e)}function Nw(n,e,t,r){e&&Oa(()=>{if(t==="ok")e(null);else{let i=(t||"error").toUpperCase(),o=i;r&&(o+=": "+r);let s=new Error(o);s.code=i,e(s)}})}function mP(n,e,t){return eC(n.serverSyncTree_,e,t)||Z.EMPTY_NODE}function uC(n,e=n.transactionQueueTree_){if(e||hm(n,e),Fa(e)){let t=_P(n,e);T(t.length>0,"Sending zero length transaction queue"),t.every(i=>i.status===0)&&n8(n,gu(e),t)}else dP(e)&&um(e,t=>{uC(n,t)})}function n8(n,e,t){let r=t.map(l=>l.currentWriteId),i=mP(n,e,r),o=i,s=i.hash();for(let l=0;l<t.length;l++){let u=t[l];T(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=Nt(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),c=e;n.server_.put(c.toString(),a,l=>{_u(n,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){let d=[];for(let f=0;f<t.length;f++)t[f].status=2,u=u.concat(Wi(n.serverSyncTree_,t[f].currentWriteId)),t[f].onComplete&&d.push(()=>t[f].onComplete(null,!0,t[f].currentOutputSnapshotResolved)),t[f].unwatcher();hm(n,oC(n.transactionQueueTree_,e)),uC(n,n.transactionQueueTree_),In(n.eventQueue_,e,u);for(let f=0;f<d.length;f++)Oa(d[f])}else{if(l==="datastale")for(let d=0;d<t.length;d++)t[d].status===3?t[d].status=4:t[d].status=0;else{Pt("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<t.length;d++)t[d].status=4,t[d].abortReason=l}Pa(n,e)}},s)}function Pa(n,e){let t=gP(n,e),r=gu(t),i=_P(n,t);return r8(n,i,r),r}function r8(n,e,t){if(e.length===0)return;let r=[],i=[],s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let c=e[a],l=Nt(t,c.path),u=!1,d;if(T(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,i=i.concat(Wi(n.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=q4)u=!0,d="maxretry",i=i.concat(Wi(n.serverSyncTree_,c.currentWriteId,!0));else{let f=mP(n,c.path,s);c.currentInputSnapshot=f;let h=e[a].update(f.val());if(h!==void 0){dm("transaction failed: Data returned ",h,c.path);let m=Xe(h);typeof h=="object"&&h!=null&&Kn(h,".priority")||(m=m.updatePriority(f.getPriority()));let C=c.currentWriteId,S=fm(n),j=lP(m,f,S);c.currentOutputSnapshotRaw=m,c.currentOutputSnapshotResolved=j,c.currentWriteId=lC(n),s.splice(s.indexOf(C),1),i=i.concat(nP(n.serverSyncTree_,c.path,j,c.currentWriteId,c.applyLocally)),i=i.concat(Wi(n.serverSyncTree_,C,!0))}else u=!0,d="nodata",i=i.concat(Wi(n.serverSyncTree_,c.currentWriteId,!0))}In(n.eventQueue_,t,i),i=[],u&&(e[a].status=2,(function(f){setTimeout(f,Math.floor(0))})(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}hm(n,n.transactionQueueTree_);for(let a=0;a<r.length;a++)Oa(r[a]);uC(n,n.transactionQueueTree_)}function gP(n,e){let t,r=n.transactionQueueTree_;for(t=he(e);t!==null&&Fa(r)===void 0;)r=oC(r,t),e=Re(e),t=he(e);return r}function _P(n,e){let t=[];return vP(n,e,t),t.sort((r,i)=>r.order-i.order),t}function vP(n,e,t){let r=Fa(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);um(e,i=>{vP(n,i,t)})}function hm(n,e){let t=Fa(e);if(t){let r=0;for(let i=0;i<t.length;i++)t[i].status!==2&&(t[r]=t[i],r++);t.length=r,uP(e,t.length>0?t:void 0)}um(e,r=>{hm(n,r)})}function dC(n,e){let t=gu(gP(n,e)),r=oC(n.transactionQueueTree_,e);return N4(r,i=>{HE(n,i)}),HE(n,r),fP(r,i=>{HE(n,i)}),t}function HE(n,e){let t=Fa(e);if(t){let r=[],i=[],o=-1;for(let s=0;s<t.length;s++)t[s].status===3||(t[s].status===1?(T(o===s-1,"All SENT items should be at beginning of queue."),o=s,t[s].status=3,t[s].abortReason="set"):(T(t[s].status===0,"Unexpected transaction status in abort"),t[s].unwatcher(),i=i.concat(Wi(n.serverSyncTree_,t[s].currentWriteId,!0)),t[s].onComplete&&r.push(t[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?uP(e,void 0):t.length=o+1,In(n.eventQueue_,gu(e),i);for(let s=0;s<r.length;s++)Oa(r[s])}}function i8(n){let e="",t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function o8(n){let e={};n.charAt(0)==="?"&&(n=n.substring(1));for(let t of n.split("&")){if(t.length===0)continue;let r=t.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Pt(`Invalid query segment '${t}' in query '${n}'`)}return e}var pN=function(n,e){let t=s8(n),r=t.namespace;t.domain==="firebase.com"&&ci(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&t.domain!=="localhost"&&ci("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||Pz();let i=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new Up(t.host,t.secure,r,i,e,"",r!==t.subdomain),path:new be(t.pathString)}},s8=function(n){let e="",t="",r="",i="",o="",s=!0,a="https",c=443;if(typeof n=="string"){let l=n.indexOf("//");l>=0&&(a=n.substring(0,l-1),n=n.substring(l+2));let u=n.indexOf("/");u===-1&&(u=n.length);let d=n.indexOf("?");d===-1&&(d=n.length),e=n.substring(0,Math.min(u,d)),u<d&&(i=i8(n.substring(u,d)));let f=o8(n.substring(Math.min(n.length,d)));l=e.indexOf(":"),l>=0?(s=a==="https"||a==="wss",c=parseInt(e.substring(l+1),10)):l=e.length;let h=e.slice(0,l);if(h.toLowerCase()==="localhost")t="localhost";else if(h.split(".").length<=2)t=h;else{let m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),t=e.substring(m+1),o=r}"ns"in f&&(o=f.ns)}return{host:e,port:c,domain:t,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var Pw=class{constructor(e,t,r,i){this.eventType=e,this.eventRegistration=t,this.snapshot=r,this.prevName=i}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ke(this.snapshot.exportVal())}},Ow=class{constructor(e,t,r){this.eventRegistration=e,this.error=t,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var kw=class{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return T(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var Fw=class n{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return de(this._path)?null:Ww(this._path)}get ref(){return new li(this._repo,this._path)}get _queryIdentifier(){let e=tN(this._queryParams),t=$w(e);return t==="{}"?"default":t}get _queryObject(){return tN(this._queryParams)}isEqual(e){if(e=wt(e),!(e instanceof n))return!1;let t=this._repo===e._repo,r=kN(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return t&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+fW(this._path)}};var li=class n extends Fw{constructor(e,t){super(e,t,new dw,!1)}get parent(){let e=ON(this._path);return e===null?null:new n(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},om=class n{constructor(e,t,r){this._node=e,this.ref=t,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let t=new be(e),r=Lw(this.ref,e);return new n(this._node.getChild(t),r,Ue)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new n(i,Lw(this.ref,r),Ue)))}hasChild(e){let t=new be(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function es(n,e){return n=wt(n),n._checkNotDeleted("ref"),e!==void 0?Lw(n._root,e):n._root}function Lw(n,e){return n=wt(n),he(n._path)===null?U4("child","path",e,!1):pP("child","path",e,!1),new li(n._repo,Be(n._path,e))}function vu(n,e){n=wt(n),H4("set",n._path),V4("set",e,n._path,!1);let t=new ei;return X4(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function yP(n,e){B4("update",e,n._path,!1);let t=new ei;return J4(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function fC(n){n=wt(n);let e=new kw(()=>{}),t=new Vw(e);return Z4(n._repo,n,t).then(r=>new om(r,new li(n._repo,n._path),n._queryParams.getIndex()))}var Vw=class n{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,t){let r=t._queryParams.getIndex();return new Pw("value",this,new om(e.snapshotNode,new li(t._repo,t._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Ow(this,e,t):null}matches(e){return e instanceof n?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}};l4(li);p4(li);var a8="FIREBASE_DATABASE_EMULATOR_HOST",jw={},c8=!1;function l8(n,e,t,r){let i=e.lastIndexOf(":"),o=e.substring(0,i),s=Fi(o);n.repoInfo_=new Up(e,s,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,t),r&&(n.authTokenProvider_=r)}function u8(n,e,t,r,i){let o=r||n.options.databaseURL;o===void 0&&(n.options.projectId||ci("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ut("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let s=pN(o,i),a=s.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[a8]),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=pN(o,i),a=s.repoInfo):c=!s.repoInfo.secure;let u=i&&c?new eu(eu.OWNER):new YE(n.name,n.options,e);$4("Invalid Firebase Database URL",s),de(s.path)||ci("Database URL must point to the root of a Firebase Database (not including a child path).");let d=f8(a,n,u,new qE(n,t));return new Bw(d,n)}function d8(n,e){let t=jw[e];(!t||t[n.key]!==n)&&ci(`Database ${e}(${n.repoInfo_}) has already been deleted.`),t8(n),delete t[n.key]}function f8(n,e,t,r){let i=jw[e.name];i||(i={},jw[e.name]=i);let o=i[n.toURLString()];return o&&ci("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new xw(n,c8,t,r),i[n.toURLString()]=o,o}var Bw=class{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Y4(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new li(this._repo,_e())),this._rootInternal}_delete(){return this._rootInternal!==null&&(d8(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ci("Cannot call "+e+" on a deleted database.")}};function bP(n=_p(),e){let t=Vl(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){let r=uR("database");r&&h8(t,...r)}return t}function h8(n,e,t,r={}){n=wt(n),n._checkNotDeleted("useEmulator");let i=`${e}:${t}`,o=n._repoInternal;if(n._instanceStarted){if(i===n._repoInternal.repoInfo_.host&&Ir(r,o.repoInfo_.emulatorOptions))return;ci("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&ci('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new eu(eu.OWNER);else if(r.mockUserToken){let a=typeof r.mockUserToken=="string"?r.mockUserToken:dR(r.mockUserToken,n.app.options.projectId);s=new eu(a)}Fi(e)&&(dp(e),fp("Database",!0)),l8(o,i,r,s)}function p8(n){Rz(Bi),ji(new En("database",(e,{instanceIdentifier:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return u8(r,i,o,t)},"PUBLIC").setMultipleInstances(!0)),Qn(Vx,jx,n),Qn(Vx,jx,"esm2020")}Gw.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};Gw.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};p8();var m8={apiKey:"AIzaSyBExxcbQeJMDtQ5O9zi8NsxVk0Z8kczPdA",authDomain:"movie-app-c1cd5.firebaseapp.com",databaseURL:"https://movie-app-c1cd5-default-rtdb.firebaseio.com",projectId:"movie-app-c1cd5",storageBucket:"movie-app-c1cd5.firebasestorage.app",messagingSenderId:"269307264355",appId:"1:269307264355:web:fb5a39eb04cbb39048e756",measurementId:"G-0B0Z0X5L0J"},EP=rE(m8),yu=kE(EP),La=bP(EP),Kt=class n{registerUser(e,t,r){return g(this,null,function*(){try{let i=yield NE(yu,t,r),o=i.user.uid;return yield Lp(i.user),yield vu(es(La,"users/"+o),{email:t,name:e,emailVerified:!1}),!0}catch(i){return console.log(i),!1}})}loginUser(e,t){return g(this,null,function*(){try{let i=(yield PE(yu,e,t)).user;yield i.reload();let o=es(La,"users/"+i.uid);if((yield fC(o)).exists())if(i.emailVerified)yield yP(o,{emailVerified:!0});else return"NotVerified";return i}catch(r){return console.log(r),null}})}sendVerificationEmail(){return g(this,null,function*(){if(yu.currentUser)return yield Lp(yu.currentUser)})}sendPasswordReset(e){return g(this,null,function*(){return yield xE(yu,e)})}getUserWishlist(e){return g(this,null,function*(){try{let t=es(La,`users/${e}/wishlist`),r=yield fC(t);if(r.exists()){let i=r.val();return typeof i=="object"&&!Array.isArray(i)?Object.values(i):i||[]}return[]}catch(t){return console.log("Error getting wishlist:",t),[]}})}saveUserWishlist(e,t){return g(this,null,function*(){try{let r=es(La,`users/${e}/wishlist`),i=t.reduce((o,s)=>(o[s.id]=s,o),{});return yield vu(r,Object.keys(i).length>0?i:null),!0}catch(r){return console.log("Error saving wishlist:",r),!1}})}addMovieToWishlist(e,t){return g(this,null,function*(){try{let r=es(La,`users/${e}/wishlist/${t.id}`);return yield vu(r,t),!0}catch(r){return console.log("Error adding movie to wishlist:",r),!1}})}removeMovieFromWishlist(e,t){return g(this,null,function*(){try{let r=es(La,`users/${e}/wishlist/${t}`);return yield vu(r,null),!0}catch(r){return console.log("Error removing movie from wishlist:",r),!1}})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})};function bu(n){return n.buttons===0||n.detail===0}function Eu(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var hC;function CP(){if(hC==null){let n=typeof document<"u"?document.head:null;hC=!!(n&&(n.createShadowRoot||n.attachShadow))}return hC}function pC(n){if(CP()){let e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Qt(n){return n.composedPath?n.composedPath()[0]:n.target}var mC;try{mC=typeof Intl<"u"&&Intl.v8BreakIterator}catch{mC=!1}var Zt=(()=>{class n{_platformId=p(Si);isBrowser=this._platformId?bT(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||mC)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var wu;function IP(){if(wu==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>wu=!0}))}finally{wu=wu||!1}return wu}function Va(n){return IP()?n:!!n.capture}function Qi(n){return n instanceof ke?n.nativeElement:n}var DP=new M("cdk-input-modality-detector-options"),SP={ignoreKeys:[18,17,224,91,16]},TP=650,gC={passive:!0,capture:!0},MP=(()=>{class n{_platform=p(Zt);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new Te(null);_options;_lastTouchMs=0;_onKeydown=t=>{this._options?.ignoreKeys?.some(r=>r===t.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Qt(t))};_onMousedown=t=>{Date.now()-this._lastTouchMs<TP||(this._modality.next(bu(t)?"keyboard":"mouse"),this._mostRecentTarget=Qt(t))};_onTouchstart=t=>{if(Eu(t)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Qt(t)};constructor(){let t=p(Q),r=p(re),i=p(DP,{optional:!0});if(this._options=b(b({},SP),i),this.modalityDetected=this._modality.pipe(Za(1)),this.modalityChanged=this.modalityDetected.pipe(ig()),this._platform.isBrowser){let o=p(lt).createRenderer(null,null);this._listenerCleanups=t.runOutsideAngular(()=>[o.listen(r,"keydown",this._onKeydown,gC),o.listen(r,"mousedown",this._onMousedown,gC),o.listen(r,"touchstart",this._onTouchstart,gC)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(t=>t())}static \u0275fac=function(r){return new(r||n)};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Cu=(function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n})(Cu||{}),AP=new M("cdk-focus-monitor-default-options"),pm=Va({passive:!0,capture:!0}),_C=(()=>{class n{_ngZone=p(Q);_platform=p(Zt);_inputModalityDetector=p(MP);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=p(re);_stopInputModalityDetector=new ne;constructor(){let t=p(AP,{optional:!0});this._detectionMode=t?.detectionMode||Cu.IMMEDIATE}_rootNodeFocusAndBlurListener=t=>{let r=Qt(t);for(let i=r;i;i=i.parentElement)t.type==="focus"?this._onFocus(t,i):this._onBlur(t,i)};monitor(t,r=!1){let i=Qi(t);if(!this._platform.isBrowser||i.nodeType!==1)return O();let o=pC(i)||this._document,s=this._elementInfo.get(i);if(s)return r&&(s.checkChildren=!0),s.subject;let a={checkChildren:r,subject:new ne,rootNode:o};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){let r=Qi(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){let o=Qi(t),s=this._document.activeElement;o===s?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,r,c)):(this._setOrigin(r),typeof o.focus=="function"&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getWindow(){return this._document.defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===Cu.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused",r==="touch"),t.classList.toggle("cdk-keyboard-focused",r==="keyboard"),t.classList.toggle("cdk-mouse-focused",r==="mouse"),t.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=t,this._originFromTouchInteraction=t==="touch"&&r,this._detectionMode===Cu.IMMEDIATE){clearTimeout(this._originTimeoutId);let i=this._originFromTouchInteraction?TP:1;this._originTimeoutId=setTimeout(()=>this._origin=null,i)}})}_onFocus(t,r){let i=this._elementInfo.get(r),o=Qt(t);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(t,r){let i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;let r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,pm),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,pm)}),this._rootNodeFocusListenerCount.set(r,i+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(tr(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){let r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,pm),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,pm),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){let r=[];return this._elementInfo.forEach((i,o)=>{(o===t||i.checkChildren&&o.contains(t))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(t){let{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if(i!=="mouse"||!r||r===t||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA"||t.disabled)return!1;let o=t.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(r))return!0}return!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var mm=new WeakMap,Zi=(()=>{class n{_appRef;_injector=p(De);_environmentInjector=p(xe);load(t){let r=this._appRef=this._appRef||this._injector.get(Ht),i=mm.get(r);i||(i={loaders:new Set,refs:[]},mm.set(r,i),r.onDestroy(()=>{mm.get(r)?.refs.forEach(o=>o.destroy()),mm.delete(r)})),i.loaders.has(t)||(i.loaders.add(t),i.refs.push(kf(t,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Iu(n){return Array.isArray(n)?n:[n]}var RP=new Set,ts,gm=(()=>{class n{_platform=p(Zt);_nonce=p(Us,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):_8}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&g8(t,this._nonce),this._matchMedia(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function g8(n,e){if(!RP.has(n))try{ts||(ts=document.createElement("style"),e&&ts.setAttribute("nonce",e),ts.setAttribute("type","text/css"),document.head.appendChild(ts)),ts.sheet&&(ts.sheet.insertRule(`@media ${n} {body{ }}`,0),RP.add(n))}catch(t){console.error(t)}}function _8(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var vC=(()=>{class n{_mediaMatcher=p(gm);_zone=p(Q);_queries=new Map;_destroySubject=new ne;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return xP(Iu(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let i=xP(Iu(t)).map(s=>this._registerQuery(s).observable),o=Es(i);return o=fi(o.pipe(Mn(1)),o.pipe(Za(1),rg(0))),o.pipe(z(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let r=this._mediaMatcher.matchMedia(t),o={observable:new ie(s=>{let a=c=>this._zone.run(()=>s.next(c));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(Xa(r),z(({matches:s})=>({query:t,matches:s})),tr(this._destroySubject)),mql:r};return this._queries.set(t,o),o}static \u0275fac=function(r){return new(r||n)};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function xP(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}var NP=new M("liveAnnouncerElement",{providedIn:"root",factory:PP});function PP(){return null}var OP=new M("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),v8=0,yC=(()=>{class n{_ngZone=p(Q);_defaultOptions=p(OP,{optional:!0});_liveElement;_document=p(re);_previousTimeout;_currentPromise;_currentResolve;constructor(){let t=p(NP,{optional:!0});this._liveElement=t||this._createLiveElement()}announce(t,...r){let i=this._defaultOptions,o,s;return r.length===1&&typeof r[0]=="number"?s=r[0]:[o,s]=r,this.clear(),clearTimeout(this._previousTimeout),o||(o=i&&i.politeness?i.politeness:"polite"),s==null&&i&&(s=i.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,typeof s=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let t="cdk-live-announcer-element",r=this._document.getElementsByClassName(t),i=this._document.createElement("div");for(let o=0;o<r.length;o++)r[o].remove();return i.classList.add(t),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),i.id=`cdk-live-announcer-${v8++}`,this._document.body.appendChild(i),i}_exposeAnnouncerToModals(t){let r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<r.length;i++){let o=r[i],s=o.getAttribute("aria-owns");s?s.indexOf(t)===-1&&o.setAttribute("aria-owns",s+" "+t):o.setAttribute("aria-owns",t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var bC={},Du=(()=>{class n{_appId=p(Bs);getId(t){return this._appId!=="ng"&&(t+=this._appId),bC.hasOwnProperty(t)||(bC[t]=0),`${t}${bC[t]++}`}static \u0275fac=function(r){return new(r||n)};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function EC(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var kP={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var y8=new M("MATERIAL_ANIMATIONS");var FP=null;function b8(){return p(y8,{optional:!0})?.animationsDisabled||p(Ti,{optional:!0})==="NoopAnimations"?"di-disabled":(FP??=p(gm).matchMedia("(prefers-reduced-motion)").matches,FP?"reduced-motion":"enabled")}function ns(){return b8()!=="enabled"}function rs(n){return n==null?"":typeof n=="string"?n:`${n}px`}var Dn=(function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n})(Dn||{}),wC=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=Dn.HIDDEN;constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i}fadeOut(){this._renderer.fadeOutRipple(this)}},LP=Va({passive:!0,capture:!0}),CC=class{_events=new Map;addHandler(e,t,r,i){let o=this._events.get(t);if(o){let s=o.get(r);s?s.add(i):o.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,LP)})}removeHandler(e,t,r){let i=this._events.get(e);if(!i)return;let o=i.get(t);o&&(o.delete(r),o.size===0&&i.delete(t),i.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,LP)))}_delegateEventHandler=e=>{let t=Qt(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(o=>o.handleEvent(e))})}},Su={enterDuration:225,exitDuration:150},E8=800,VP=Va({passive:!0,capture:!0}),jP=["mousedown","touchstart"],BP=["mouseup","mouseleave","touchend","touchcancel"],w8=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=oe({type:n,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(r,i){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return n})(),_m=class n{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new CC;constructor(e,t,r,i,o){this._target=e,this._ngZone=t,this._platform=i,i.isBrowser&&(this._containerElement=Qi(r)),o&&o.get(Zi).load(w8)}fadeInRipple(e,t,r={}){let i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=b(b({},Su),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);let s=r.radius||C8(e,t,i),a=e-i.left,c=t-i.top,l=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=`${a-s}px`,u.style.top=`${c-s}px`,u.style.height=`${s*2}px`,u.style.width=`${s*2}px`,r.color!=null&&(u.style.backgroundColor=r.color),u.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(u);let d=window.getComputedStyle(u),f=d.transitionProperty,h=d.transitionDuration,m=f==="none"||h==="0s"||h==="0s, 0s"||i.width===0&&i.height===0,_=new wC(this,u,r,m);u.style.transform="scale3d(1, 1, 1)",_.state=Dn.FADING_IN,r.persistent||(this._mostRecentTransientRipple=_);let C=null;return!m&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let S=()=>{C&&(C.fallbackTimer=null),clearTimeout(ae),this._finishRippleTransition(_)},j=()=>this._destroyRipple(_),ae=setTimeout(j,l+100);u.addEventListener("transitionend",S),u.addEventListener("transitioncancel",j),C={onTransitionEnd:S,onTransitionCancel:j,fallbackTimer:ae}}),this._activeRipples.set(_,C),(m||!l)&&this._finishRippleTransition(_),_}fadeOutRipple(e){if(e.state===Dn.FADING_OUT||e.state===Dn.HIDDEN)return;let t=e.element,r=b(b({},Su),e.config.animation);t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=Dn.FADING_OUT,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let t=Qi(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,jP.forEach(r=>{n._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{BP.forEach(t=>{this._triggerElement.addEventListener(t,this,VP)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===Dn.FADING_IN?this._startFadeOutTransition(e):e.state===Dn.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=Dn.VISIBLE,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=Dn.HIDDEN,t!==null&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel),t.fallbackTimer!==null&&clearTimeout(t.fallbackTimer)),e.element.remove()}_onMousedown(e){let t=bu(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+E8;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Eu(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let t=e.changedTouches;if(t)for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let t=e.state===Dn.VISIBLE||e.config.terminateOnPointerUp&&e.state===Dn.FADING_IN;!e.config.persistent&&t&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(jP.forEach(t=>n._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&(BP.forEach(t=>e.removeEventListener(t,this,VP)),this._pointerUpEventsRegistered=!1))}};function C8(n,e,t){let r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}var UP=new M("mat-ripple-global-options");var I8={capture:!0},D8=["focus","mousedown","mouseenter","touchstart"],IC="mat-ripple-loader-uninitialized",DC="mat-ripple-loader-class-name",HP="mat-ripple-loader-centered",vm="mat-ripple-loader-disabled",$P=(()=>{class n{_document=p(re);_animationsDisabled=ns();_globalRippleOptions=p(UP,{optional:!0});_platform=p(Zt);_ngZone=p(Q);_injector=p(De);_eventCleanups;_hosts=new Map;constructor(){let t=p(lt).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>D8.map(r=>t.listen(this._document,r,this._onInteraction,I8)))}ngOnDestroy(){let t=this._hosts.keys();for(let r of t)this.destroyRipple(r);this._eventCleanups.forEach(r=>r())}configureRipple(t,r){t.setAttribute(IC,this._globalRippleOptions?.namespace??""),(r.className||!t.hasAttribute(DC))&&t.setAttribute(DC,r.className||""),r.centered&&t.setAttribute(HP,""),r.disabled&&t.setAttribute(vm,"")}setDisabled(t,r){let i=this._hosts.get(t);i?(i.target.rippleDisabled=r,!r&&!i.hasSetUpEvents&&(i.hasSetUpEvents=!0,i.renderer.setupTriggerEvents(t))):r?t.setAttribute(vm,""):t.removeAttribute(vm)}_onInteraction=t=>{let r=Qt(t);if(r instanceof HTMLElement){let i=r.closest(`[${IC}="${this._globalRippleOptions?.namespace??""}"]`);i&&this._createRipple(i)}};_createRipple(t){if(!this._document||this._hosts.has(t))return;t.querySelector(".mat-ripple")?.remove();let r=this._document.createElement("span");r.classList.add("mat-ripple",t.getAttribute(DC)),t.append(r);let i=this._globalRippleOptions,o=this._animationsDisabled?0:i?.animation?.enterDuration??Su.enterDuration,s=this._animationsDisabled?0:i?.animation?.exitDuration??Su.exitDuration,a={rippleDisabled:this._animationsDisabled||i?.disabled||t.hasAttribute(vm),rippleConfig:{centered:t.hasAttribute(HP),terminateOnPointerUp:i?.terminateOnPointerUp,animation:{enterDuration:o,exitDuration:s}}},c=new _m(a,this._ngZone,r,this._platform,this._injector),l=!a.rippleDisabled;l&&c.setupTriggerEvents(t),this._hosts.set(t,{target:a,renderer:c,hasSetUpEvents:l}),t.removeAttribute(IC)}destroyRipple(t){let r=this._hosts.get(t);r&&(r.renderer._removeTriggerEvents(),this._hosts.delete(t))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var zP=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=oe({type:n,selectors:[["structural-styles"]],decls:0,vars:0,template:function(r,i){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return n})();var S8=new M("MAT_BUTTON_CONFIG");function WP(n){return n==null?void 0:KS(n)}var GP=(()=>{class n{_elementRef=p(ke);_ngZone=p(Q);_animationsDisabled=ns();_config=p(S8,{optional:!0});_focusMonitor=p(_C);_cleanupClick;_renderer=p(fn);_rippleLoader=p($P);_isAnchor;_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;tabIndex;set _tabindex(t){this.tabIndex=t}constructor(){p(Zi).load(zP);let t=this._elementRef.nativeElement;this._isAnchor=t.tagName==="A",this.disabledInteractive=this._config?.disabledInteractive??!1,this.color=this._config?.color??null,this._rippleLoader?.configureRipple(t,{className:"mat-mdc-button-ripple"})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0),this._isAnchor&&this._setupAsAnchor()}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",r){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this._isAnchor?this.disabled||null:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}_getTabIndex(){return this._isAnchor?this.disabled&&!this.disabledInteractive?-1:this.tabIndex:this.tabIndex}_setupAsAnchor(){this._cleanupClick=this._ngZone.runOutsideAngular(()=>this._renderer.listen(this._elementRef.nativeElement,"click",t=>{this.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}))}static \u0275fac=function(r){return new(r||n)};static \u0275dir=pe({type:n,hostAttrs:[1,"mat-mdc-button-base"],hostVars:13,hostBindings:function(r,i){r&2&&(Rt("disabled",i._getDisabledAttribute())("aria-disabled",i._getAriaDisabled())("tabindex",i._getTabIndex()),jv(i.color?"mat-"+i.color:""),Ve("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("mat-unthemed",!i.color)("_mat-animation-noopable",i._animationsDisabled))},inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",Un],disabled:[2,"disabled","disabled",Un],ariaDisabled:[2,"aria-disabled","ariaDisabled",Un],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Un],tabIndex:[2,"tabIndex","tabIndex",WP],_tabindex:[2,"tabindex","_tabindex",WP]}})}return n})();var T8=new M("cdk-dir-doc",{providedIn:"root",factory:M8});function M8(){return p(re)}var A8=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function R8(n){let e=n?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?A8.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var qP=(()=>{class n{get value(){return this.valueSignal()}valueSignal=Bt("ltr");change=new Me;constructor(){let t=p(T8,{optional:!0});if(t){let r=t.body?t.body.dir:null,i=t.documentElement?t.documentElement.dir:null;this.valueSignal.set(R8(r||i||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var x8=["matButton",""],N8=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],P8=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var YP=new Map([["text",["mat-mdc-button"]],["filled",["mdc-button--unelevated","mat-mdc-unelevated-button"]],["elevated",["mdc-button--raised","mat-mdc-raised-button"]],["outlined",["mdc-button--outlined","mat-mdc-outlined-button"]],["tonal",["mat-tonal-button"]]]),KP=(()=>{class n extends GP{get appearance(){return this._appearance}set appearance(t){this.setAppearance(t||this._config?.defaultAppearance||"text")}_appearance=null;constructor(){super();let t=O8(this._elementRef.nativeElement);t&&this.setAppearance(t)}setAppearance(t){if(t===this._appearance)return;let r=this._elementRef.nativeElement.classList,i=this._appearance?YP.get(this._appearance):null,o=YP.get(t);i&&r.remove(...i),r.add(...o),this._appearance=t}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=oe({type:n,selectors:[["button","matButton",""],["a","matButton",""],["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""],["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostAttrs:[1,"mdc-button"],inputs:{appearance:[0,"matButton","appearance"]},exportAs:["matButton","matAnchor"],features:[Ge],attrs:x8,ngContentSelectors:P8,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){r&1&&(Sf(N8),gn(0,"span",0),$s(1),we(2,"span",1),$s(3,1),Se(),$s(4,2),gn(5,"span",2)(6,"span",3)),r&2&&Ve("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:[`.mat-mdc-button-base{text-decoration:none}.mat-mdc-button-base .mat-icon{min-height:fit-content;flex-shrink:0}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-button-text-horizontal-padding, 12px);height:var(--mat-button-text-container-height, 40px);font-family:var(--mat-button-text-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-text-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-text-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-text-label-text-transform);font-weight:var(--mat-button-text-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mat-button-text-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mat-button-text-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-text-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-button-text-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-button-text-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-text-touch-target-size, 48px);display:var(--mat-button-text-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-filled-container-height, 40px);font-family:var(--mat-button-filled-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-filled-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-filled-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-filled-label-text-transform);font-weight:var(--mat-button-filled-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-filled-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-button-filled-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-filled-touch-target-size, 48px);display:var(--mat-button-filled-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mat-button-filled-label-text-color, var(--mat-sys-on-primary));background-color:var(--mat-button-filled-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mat-button-filled-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mat-button-protected-container-elevation-shadow, var(--mat-sys-level1));height:var(--mat-button-protected-container-height, 40px);font-family:var(--mat-button-protected-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-protected-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-protected-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-protected-label-text-transform);font-weight:var(--mat-button-protected-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-protected-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-button-protected-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-protected-touch-target-size, 48px);display:var(--mat-button-protected-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-raised-button:not(:disabled){color:var(--mat-button-protected-label-text-color, var(--mat-sys-primary));background-color:var(--mat-button-protected-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mat-button-protected-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mat-button-protected-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mat-button-protected-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mat-button-protected-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-protected-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-protected-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mat-button-protected-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-outlined-container-height, 40px);font-family:var(--mat-button-outlined-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-outlined-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-outlined-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-outlined-label-text-transform);font-weight:var(--mat-button-outlined-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mat-button-outlined-container-shape, var(--mat-sys-corner-full));border-width:var(--mat-button-outlined-outline-width, 1px);padding:0 var(--mat-button-outlined-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-button-outlined-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-outlined-touch-target-size, 48px);display:var(--mat-button-outlined-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-outlined-button:not(:disabled){color:var(--mat-button-outlined-label-text-color, var(--mat-sys-primary));border-color:var(--mat-button-outlined-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mat-button-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-tonal-container-height, 40px);font-family:var(--mat-button-tonal-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-tonal-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-tonal-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-tonal-label-text-transform);font-weight:var(--mat-button-tonal-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-tonal-horizontal-padding, 24px)}.mat-tonal-button:not(:disabled){color:var(--mat-button-tonal-label-text-color, var(--mat-sys-on-secondary-container));background-color:var(--mat-button-tonal-container-color, var(--mat-sys-secondary-container))}.mat-tonal-button,.mat-tonal-button .mdc-button__ripple{border-radius:var(--mat-button-tonal-container-shape, var(--mat-sys-corner-full))}.mat-tonal-button[disabled],.mat-tonal-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-tonal-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-tonal-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-tonal-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}[dir=rtl] .mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}.mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}[dir=rtl] .mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}.mat-tonal-button .mat-ripple-element{background-color:var(--mat-button-tonal-ripple-color, color-mix(in srgb, var(--mat-sys-on-secondary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-tonal-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-tonal-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-tonal-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-tonal-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-tonal-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-tonal-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-tonal-touch-target-size, 48px);display:var(--mat-button-tonal-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button,.mat-tonal-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon,.mat-tonal-button .mdc-button__label,.mat-tonal-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator,.mat-tonal-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before,.mat-tonal-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable,.mat-tonal-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon,.mat-tonal-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-tonal-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return n})();function O8(n){return n.hasAttribute("mat-raised-button")?"elevated":n.hasAttribute("mat-stroked-button")?"outlined":n.hasAttribute("mat-flat-button")?"filled":n.hasAttribute("mat-button")?"text":null}var Tu=class{_attachedHost;attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},ja=class extends Tu{component;viewContainerRef;injector;projectableNodes;constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.projectableNodes=i}},Ba=class extends Tu{templateRef;viewContainerRef;context;injector;constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}},SC=class extends Tu{element;constructor(e){super(),this.element=e instanceof ke?e.nativeElement:e}},Ua=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof ja)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof Ba)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof SC)return this._attachedPortal=e,this.attachDomPortal(e)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}},ym=class extends Ua{outletElement;_appRef;_defaultInjector;constructor(e,t,r){super(),this.outletElement=e,this._appRef=t,this._defaultInjector=r}attachComponentPortal(e){let t;if(e.viewContainerRef){let r=e.injector||e.viewContainerRef.injector,i=r.get(fr,null,{optional:!0})||void 0;t=e.viewContainerRef.createComponent(e.component,{index:e.viewContainerRef.length,injector:r,ngModuleRef:i,projectableNodes:e.projectableNodes||void 0}),this.setDisposeFn(()=>t.destroy())}else{let r=this._appRef,i=e.injector||this._defaultInjector||De.NULL,o=i.get(xe,r.injector);t=kf(e.component,{elementInjector:i,environmentInjector:o,projectableNodes:e.projectableNodes||void 0}),r.attachView(t.hostView),this.setDisposeFn(()=>{r.viewCount>0&&r.detachView(t.hostView),t.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(t)),this._attachedPortal=e,t}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);i!==-1&&t.remove(i)}),this._attachedPortal=e,r}attachDomPortal=e=>{let t=e.element;t.parentNode;let r=this.outletElement.ownerDocument.createComment("dom-portal");t.parentNode.insertBefore(r,t),this.outletElement.appendChild(t),this._attachedPortal=e,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(t,r)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var TC=(()=>{class n extends Ua{_moduleRef=p(fr,{optional:!0});_document=p(re);_viewContainerRef=p(hn);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}attached=new Me;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);let r=t.viewContainerRef!=null?t.viewContainerRef:this._viewContainerRef,i=r.createComponent(t.component,{index:r.length,injector:t.injector||r.injector,projectableNodes:t.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return r!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),super.setDisposeFn(()=>i.destroy()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(t){t.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachDomPortal=t=>{let r=t.element;r.parentNode;let i=this._document.createComment("dom-portal");t.setAttachedHost(this),r.parentNode.insertBefore(i,r),this._getRootNode().appendChild(r),this._attachedPortal=t,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(r,i)})};_getRootNode(){let t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static \u0275fac=function(r){return new(r||n)};static \u0275dir=pe({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Ge]})}return n})();var bm=class{enable(){}disable(){}attach(){}};var Ha=class{positionStrategy;scrollStrategy=new bm;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";disableAnimations;width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(e){if(e){let t=Object.keys(e);for(let r of t)e[r]!==void 0&&(this[r]=e[r])}}};var XP=(()=>{class n{_attachedOverlays=[];_document=p(re);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){let r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),JP=(()=>{class n extends XP{_ngZone=p(Q);_renderer=p(lt).createRenderer(null,null);_cleanupKeydown;add(t){super.add(t),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=t=>{let r=this._attachedOverlays;for(let i=r.length-1;i>-1;i--)if(r[i]._keydownEvents.observers.length>0){this._ngZone.run(()=>r[i]._keydownEvents.next(t));break}};static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ut(n)))(i||n)}})();static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),eO=(()=>{class n extends XP{_platform=p(Zt);_ngZone=p(Q);_renderer=p(lt).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(t){if(super.add(t),!this._isAttached){let r=this._document.body,i={capture:!0},o=this._renderer;this._cleanups=this._ngZone.runOutsideAngular(()=>[o.listen(r,"pointerdown",this._pointerDownListener,i),o.listen(r,"click",this._clickListener,i),o.listen(r,"auxclick",this._clickListener,i),o.listen(r,"contextmenu",this._clickListener,i)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(t=>t()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=t=>{this._pointerDownEventTarget=Qt(t)};_clickListener=t=>{let r=Qt(t),i=t.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:r;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let s=o.length-1;s>-1;s--){let a=o[s];if(a._outsidePointerEvents.observers.length<1||!a.hasAttached())continue;if(QP(a.overlayElement,r)||QP(a.overlayElement,i))break;let c=a._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>c.next(t)):c.next(t)}};static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ut(n)))(i||n)}})();static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function QP(n,e){let t=typeof ShadowRoot<"u"&&ShadowRoot,r=e;for(;r;){if(r===n)return!0;r=t&&r instanceof ShadowRoot?r.host:r.parentNode}return!1}var tO=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=oe({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(r,i){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}
`],encapsulation:2,changeDetection:0})}return n})(),F8=(()=>{class n{_platform=p(Zt);_containerElement;_document=p(re);_styleLoader=p(Zi);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t="cdk-overlay-container";if(this._platform.isBrowser||EC()){let i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}let r=this._document.createElement("div");r.classList.add(t),EC()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}_loadStyles(){this._styleLoader.load(tO)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),MC=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(e,t,r,i){this._renderer=t,this._ngZone=r,this.element=e.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=t.listen(this.element,"click",i)}detach(){this._ngZone.runOutsideAngular(()=>{let e=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(e,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),e.style.pointerEvents="none",e.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},Em=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new ne;_attachments=new ne;_detachments=new ne;_positionStrategy;_scrollStrategy;_locationChanges=Pe.EMPTY;_backdropRef=null;_detachContentMutationObserver;_detachContentAfterRenderRef;_previousHostParent;_keydownEvents=new ne;_outsidePointerEvents=new ne;_afterNextRenderRef;constructor(e,t,r,i,o,s,a,c,l,u=!1,d,f){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=u,this._injector=d,this._renderer=f,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=Vn(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._completeDetachContent(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof t?.onDestroy=="function"&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._completeDetachContent(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,e&&this._detachments.next(),this._detachments.complete(),this._completeDetachContent()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=b(b({},this._config),e),this._updateElementSize()}setDirection(e){this._config=H(b({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=rs(this._config.width),e.height=rs(this._config.height),e.minWidth=rs(this._config.minWidth),e.minHeight=rs(this._config.minHeight),e.maxWidth=rs(this._config.maxWidth),e.maxHeight=rs(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new MC(this._document,this._renderer,this._ngZone,t=>{this._backdropClick.next(t)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(e))}):this._backdropRef.element.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(e,t,r){let i=Iu(t||[]).filter(o=>!!o);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenEmpty(){let e=!1;try{this._detachContentAfterRenderRef=Vn(()=>{e=!0,this._detachContent()},{injector:this._injector})}catch(t){if(e)throw t;this._detachContent()}globalThis.MutationObserver&&this._pane&&(this._detachContentMutationObserver||=new globalThis.MutationObserver(()=>{this._detachContent()}),this._detachContentMutationObserver.observe(this._pane,{childList:!0}))}_detachContent(){(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),this._completeDetachContent())}_completeDetachContent(){this._detachContentAfterRenderRef?.destroy(),this._detachContentAfterRenderRef=void 0,this._detachContentMutationObserver?.disconnect()}_disposeScrollStrategy(){let e=this._scrollStrategy;e?.disable(),e?.detach?.()}};var ZP="cdk-global-overlay-wrapper";function AC(n){return new wm}var wm=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(e){let t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(ZP),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:s,maxHeight:a}=r,c=(i==="100%"||i==="100vw")&&(!s||s==="100%"||s==="100vw"),l=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),u=this._xPosition,d=this._xOffset,f=this._overlayRef.getConfig().direction==="rtl",h="",m="",_="";c?_="flex-start":u==="center"?(_="center",f?m=d:h=d):f?u==="left"||u==="end"?(_="flex-end",h=d):(u==="right"||u==="start")&&(_="flex-start",m=d):u==="left"||u==="start"?(_="flex-start",h=d):(u==="right"||u==="end")&&(_="flex-end",m=d),e.position=this._cssPosition,e.marginLeft=c?"0":h,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":m,t.justifyContent=_,t.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(ZP),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}};function RC(n,e){n.get(Zi).load(tO);let t=n.get(F8),r=n.get(re),i=n.get(Du),o=n.get(Ht),s=n.get(qP),a=r.createElement("div"),c=r.createElement("div");c.id=i.getId("cdk-overlay-"),c.classList.add("cdk-overlay-pane"),a.appendChild(c),t.getContainerElement().appendChild(a);let l=new ym(c,o,n),u=new Ha(e),d=n.get(fn,null,{optional:!0})||n.get(lt).createRenderer(null,null);return u.direction=u.direction||s.value,new Em(l,a,c,u,n.get(Q),n.get(JP),r,n.get(Ai),n.get(eO),e?.disableAnimations??n.get(Ti,null,{optional:!0})==="NoopAnimations",n.get(xe),d)}function V8(n,e){if(n&1){let t=Fe();y(0,"div",1)(1,"button",2),k("click",function(){J(t);let i=N();return ee(i.action())}),E(2),v()()}if(n&2){let t=N();I(2),ge(" ",t.data.action," ")}}var j8=["label"];function B8(n,e){}var U8=Math.pow(2,31)-1,Mu=class{_overlayRef;instance;containerInstance;_afterDismissed=new ne;_afterOpened=new ne;_onAction=new ne;_durationTimeoutId;_dismissedByAction=!1;constructor(e,t){this._overlayRef=t,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,U8))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},nO=new M("MatSnackBarData"),$a=class{politeness="polite";announcementMessage="";viewContainerRef;duration=0;panelClass;direction;data=null;horizontalPosition="center";verticalPosition="bottom"},H8=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=pe({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return n})(),$8=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=pe({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return n})(),z8=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=pe({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return n})(),W8=(()=>{class n{snackBarRef=p(Mu);data=p(nO);constructor(){}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=oe({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["matButton","","matSnackBarAction","",3,"click"]],template:function(r,i){r&1&&(y(0,"div",0),E(1),v(),pn(2,V8,3,1,"div",1)),r&2&&(I(),ge(" ",i.data.message,`
`),I(),mn(i.hasAction?2:-1))},dependencies:[KP,H8,$8,z8],styles:[`.mat-mdc-simple-snack-bar{display:flex}.mat-mdc-simple-snack-bar .mat-mdc-snack-bar-label{max-height:50vh;overflow:auto}
`],encapsulation:2,changeDetection:0})}return n})(),xC="_mat-snack-bar-enter",NC="_mat-snack-bar-exit",G8=(()=>{class n extends Ua{_ngZone=p(Q);_elementRef=p(ke);_changeDetectorRef=p(Wr);_platform=p(Zt);_animationsDisabled=ns();snackBarConfig=p($a);_document=p(re);_trackedModals=new Set;_enterFallback;_exitFallback;_injector=p(De);_announceDelay=150;_announceTimeoutId;_destroyed=!1;_portalOutlet;_onAnnounce=new ne;_onExit=new ne;_onEnter=new ne;_animationState="void";_live;_label;_role;_liveElementId=p(Du).getId("mat-snack-bar-container-live-");constructor(){super();let t=this.snackBarConfig;t.politeness==="assertive"&&!t.announcementMessage?this._live="assertive":t.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(t){this._assertNotAttached();let r=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),r}attachTemplatePortal(t){this._assertNotAttached();let r=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),r}attachDomPortal=t=>{this._assertNotAttached();let r=this._portalOutlet.attachDomPortal(t);return this._afterPortalAttached(),r};onAnimationEnd(t){t===NC?this._completeExit():t===xC&&(clearTimeout(this._enterFallback),this._ngZone.run(()=>{this._onEnter.next(),this._onEnter.complete()}))}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce(),this._animationsDisabled?Vn(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(xC)))},{injector:this._injector}):(clearTimeout(this._enterFallback),this._enterFallback=setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-snack-bar-fallback-visible"),this.onAnimationEnd(xC)},200)))}exit(){return this._destroyed?O(void 0):(this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._animationsDisabled?Vn(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(NC)))},{injector:this._injector}):(clearTimeout(this._exitFallback),this._exitFallback=setTimeout(()=>this.onAnimationEnd(NC),200))}),this._onExit)}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){clearTimeout(this._exitFallback),queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let t=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(s=>t.classList.add(s)):t.classList.add(r)),this._exposeToModals();let i=this._label.nativeElement,o="mdc-snackbar__label";i.classList.toggle(o,!i.querySelector(`.${o}`))}_exposeToModals(){let t=this._liveElementId,r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<r.length;i++){let o=r[i],s=o.getAttribute("aria-owns");this._trackedModals.add(o),s?s.indexOf(t)===-1&&o.setAttribute("aria-owns",s+" "+t):o.setAttribute("aria-owns",t)}}_clearFromModals(){this._trackedModals.forEach(t=>{let r=t.getAttribute("aria-owns");if(r){let i=r.replace(this._liveElementId,"").trim();i.length>0?t.setAttribute("aria-owns",i):t.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{if(this._destroyed)return;let t=this._elementRef.nativeElement,r=t.querySelector("[aria-hidden]"),i=t.querySelector("[aria-live]");if(r&&i){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&r.contains(document.activeElement)&&(o=document.activeElement),r.removeAttribute("aria-hidden"),i.appendChild(r),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=oe({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(r,i){if(r&1&&(Tf(TC,7),Tf(j8,7)),r&2){let o;Mf(o=Af())&&(i._portalOutlet=o.first),Mf(o=Af())&&(i._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:6,hostBindings:function(r,i){r&1&&k("animationend",function(s){return i.onAnimationEnd(s.animationName)})("animationcancel",function(s){return i.onAnimationEnd(s.animationName)}),r&2&&Ve("mat-snack-bar-container-enter",i._animationState==="visible")("mat-snack-bar-container-exit",i._animationState==="hidden")("mat-snack-bar-container-animations-enabled",!i._animationsDisabled)},features:[Ge],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(r,i){r&1&&(y(0,"div",1)(1,"div",2,0)(3,"div",3),fe(4,B8,0,0,"ng-template",4),v(),V(5,"div"),v()()),r&2&&(I(5),Rt("aria-live",i._live)("role",i._role)("id",i._liveElementId))},dependencies:[TC],styles:[`@keyframes _mat-snack-bar-enter{from{transform:scale(0.8);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _mat-snack-bar-exit{from{opacity:1}to{opacity:0}}.mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-snack-bar-container-animations-enabled{opacity:0}.mat-snack-bar-container-animations-enabled.mat-snack-bar-fallback-visible{opacity:1}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-enter{animation:_mat-snack-bar-enter 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-exit{animation:_mat-snack-bar-exit 75ms cubic-bezier(0.4, 0, 1, 1) forwards}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}@media(forced-colors: active){.mat-mdc-snackbar-surface{outline:solid 1px}}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mat-snack-bar-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mat-snack-bar-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-snack-bar-container-color, var(--mat-sys-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mat-snack-bar-supporting-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-snack-bar-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mat-snack-bar-supporting-text-weight, var(--mat-sys-body-medium-weight));line-height:var(--mat-snack-bar-supporting-text-line-height, var(--mat-sys-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-button-text-state-layer-color: currentColor;--mat-button-text-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-sys-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}
`],encapsulation:2})}return n})();function q8(){return new $a}var Y8=new M("mat-snack-bar-default-options",{providedIn:"root",factory:q8}),rO=(()=>{class n{_live=p(yC);_injector=p(De);_breakpointObserver=p(vC);_parentSnackBar=p(n,{optional:!0,skipSelf:!0});_defaultConfig=p(Y8);_animationsDisabled=ns();_snackBarRefAtThisLevel=null;simpleSnackBarComponent=W8;snackBarContainerComponent=G8;handsetCssClass="mat-mdc-snack-bar-handset";get _openedSnackBarRef(){let t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}constructor(){}openFromComponent(t,r){return this._attach(t,r)}openFromTemplate(t,r){return this._attach(t,r)}open(t,r="",i){let o=b(b({},this._defaultConfig),i);return o.data={message:t,action:r},o.announcementMessage===t&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,r){let i=r&&r.viewContainerRef&&r.viewContainerRef.injector,o=De.create({parent:i||this._injector,providers:[{provide:$a,useValue:r}]}),s=new ja(this.snackBarContainerComponent,r.viewContainerRef,o),a=t.attach(s);return a.instance.snackBarConfig=r,a.instance}_attach(t,r){let i=b(b(b({},new $a),this._defaultConfig),r),o=this._createOverlay(i),s=this._attachSnackBarContainer(o,i),a=new Mu(s,o);if(t instanceof un){let c=new Ba(t,null,{$implicit:i.data,snackBarRef:a});a.instance=s.attachTemplatePortal(c)}else{let c=this._createInjector(i,a),l=new ja(t,void 0,c),u=s.attachComponentPortal(l);a.instance=u.instance}return this._breakpointObserver.observe(kP.HandsetPortrait).pipe(tr(o.detachments())).subscribe(c=>{o.overlayElement.classList.toggle(this.handsetCssClass,c.matches)}),i.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(i.announcementMessage,i.politeness)}),this._animateSnackBar(a,i),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(t,r){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),r.duration&&r.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(r.duration)),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter()}_createOverlay(t){let r=new Ha;r.direction=t.direction;let i=AC(this._injector),o=t.direction==="rtl",s=t.horizontalPosition==="left"||t.horizontalPosition==="start"&&!o||t.horizontalPosition==="end"&&o,a=!s&&t.horizontalPosition!=="center";return s?i.left("0"):a?i.right("0"):i.centerHorizontally(),t.verticalPosition==="top"?i.top("0"):i.bottom("0"),r.positionStrategy=i,r.disableAnimations=this._animationsDisabled,RC(this._injector,r)}_createInjector(t,r){let i=t&&t.viewContainerRef&&t.viewContainerRef.injector;return De.create({parent:i||this._injector,providers:[{provide:Mu,useValue:r},{provide:nO,useValue:t.data}]})}static \u0275fac=function(r){return new(r||n)};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var He=class n{alertMessage=new ne;snackBar=p(rO);show(e,t=3e3){console.log("\u2705 Alert Show:",e),this.alertMessage.next(e),this.displayAlert(e,"success",t)}error(e,t=5e3){console.log("\u274C Alert Error:",e),this.alertMessage.next(e),this.displayAlert(e,"error",t)}warning(e,t=4e3){console.log("\u26A0\uFE0F Alert Warning:",e),this.alertMessage.next(e),this.displayAlert(e,"warning",t)}info(e,t=3e3){console.log("\u2139\uFE0F Alert Info:",e),this.alertMessage.next(e),this.displayAlert(e,"info",t)}displayAlert(e,t,r){let i=document.getElementById("custom-alert");i&&i.remove();let o=document.createElement("div");o.id="custom-alert",o.className=`custom-alert alert-${t}`,o.innerHTML=`
      <span>${e}</span>
      <button onclick="this.parentElement.style.display='none';" class="close-btn">&times;</button>
    `;let s={success:"#667eea",error:"#ff6b6b",warning:"#ffd700",info:"#00d4ff"};o.style.cssText=`
      position: fixed;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: linear-gradient(135deg, ${s[t]} 0%, ${s[t]}dd 100%);
      color: white;
      padding: 16px 24px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      display: flex;
      align-items: center;
      gap: 12px;
      z-index: 9999;
      font-size: 14px;
      font-weight: 500;
      animation: slideDown 0.3s ease-out;
    `,document.body.appendChild(o),setTimeout(()=>{o.parentElement&&(o.style.animation="slideUp 0.3s ease-out",setTimeout(()=>o.remove(),300))},r)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})};var Sn=class n{wishlist=[];wishlistSubject=new Te([]);wishlistCountSubject=new Te(0);firebaseService=p(Kt);alertService=p(He);currentUserId=null;constructor(){this.loadWishlist(),this.loadCurrentUserId()}loadCurrentUserId(){let e=localStorage.getItem("currentUser");if(e)try{let t=JSON.parse(e);this.currentUserId=t.uid}catch(t){console.log("Error loading user ID:",t)}}setCurrentUserId(e){this.currentUserId=e}getCurrentUserId(){return this.currentUserId}loadWishlist(){let e=localStorage.getItem("wishlist");e&&(this.wishlist=JSON.parse(e),this.wishlistSubject.next([...this.wishlist]),this.wishlistCountSubject.next(this.wishlist.length))}saveWishlist(){return g(this,null,function*(){localStorage.setItem("wishlist",JSON.stringify(this.wishlist)),this.wishlistSubject.next([...this.wishlist]),this.wishlistCountSubject.next(this.wishlist.length),this.currentUserId&&(yield this.firebaseService.saveUserWishlist(this.currentUserId,this.wishlist))})}addToWishlist(e){return g(this,null,function*(){this.isInWishlist(e.id)||(this.wishlist.push(e),yield this.saveWishlist(),this.alertService.show(`\u2705 "${e.title}" added to wishlist successfully`))})}removeFromWishlist(e){return g(this,null,function*(){let t=this.wishlist.find(r=>r.id===e);this.wishlist=this.wishlist.filter(r=>r.id!==e),yield this.saveWishlist(),t&&this.alertService.show(`\u274C "${t.title}" removed from wishlist`)})}isInWishlist(e){return this.wishlist.some(t=>t.id===e)}getWishlist(){return[...this.wishlist]}getWishlistObservable(){return this.wishlistSubject.asObservable()}getWishlistCountObservable(){return this.wishlistCountSubject.asObservable()}getWishlistCount(){return this.wishlist.length}clearWishlist(){return g(this,null,function*(){this.wishlist=[],yield this.saveWishlist()})}loadWishlistFromArray(e){return g(this,null,function*(){this.wishlist=e,yield this.saveWishlist()})}toggleWishlist(e){return g(this,null,function*(){this.isInWishlist(e.id)?yield this.removeFromWishlist(e.id):yield this.addToWishlist(e)})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})};function K8(n,e){if(n&1){let t=Fe();y(0,"button",25),k("click",function(){J(t);let i=N();return ee(i.clearSearch())}),E(1," Clear "),v()}}function Q8(n,e){if(n&1&&(y(0,"option",13),E(1),v()),n&2){let t=e.$implicit;A("value",t.value),I(),ge(" ",t.label," ")}}function Z8(n,e){if(n&1){let t=Fe();y(0,"button",26),k("click",function(){J(t);let i=N();return ee(i.clearFilters())}),E(1," Clear Filters "),v()}}function X8(n,e){if(n&1){let t=Fe();y(0,"button",30),k("click",function(){let i=J(t).$implicit,o=N(2);return ee(o.toggleGenre(i.id))}),E(1),v()}if(n&2){let t=e.$implicit,r=N(2);Ve("selected",r.selectedGenres.includes(t.id)),I(),ge(" ",t.name," ")}}function J8(n,e){if(n&1&&(y(0,"div",27)(1,"h3"),E(2,"Filter by Genre:"),v(),y(3,"div",28),fe(4,X8,2,3,"button",29),v()()),n&2){let t=e.ngIf;I(4),A("ngForOf",t.genres)}}function eG(n,e){if(n&1&&V(0,"img",40),n&2){let t=N().$implicit;A("src","https://image.tmdb.org/t/p/w500"+t.poster_path,hr)("alt",t.title)}}function tG(n,e){if(n&1&&V(0,"img",41),n&2){let t=N().$implicit;A("alt",t.title)}}function nG(n,e){if(n&1){let t=Fe();y(0,"div",31),k("click",function(){let i=J(t).$implicit,o=N();return ee(o.navigateToDetails(i.id))}),y(1,"div",32),fe(2,eG,1,2,"img",33)(3,tG,1,1,"img",34),y(4,"div",35),E(5),v(),y(6,"button",36),k("click",function(i){let o=J(t).$implicit;return N().toggleWishlist(o),ee(i.stopPropagation())}),V(7,"i",37),v()(),y(8,"div",38)(9,"h3"),E(10),v(),y(11,"p",39),E(12),zt(13,"date"),v()()()}if(n&2){let t=e.$implicit,r=N();I(2),A("ngIf",t.poster_path),I(),A("ngIf",!t.poster_path),I(2),ge(" ",t.vote_average.toFixed(1)," "),I(),Ve("in-wishlist",r.isInWishlist(t.id)),A("title",r.wishlistService.getCurrentUserId()?"Add to wishlist":"Please log in first"),I(),A("ngClass",r.isInWishlist(t.id)?"fa-solid":"fa-regular"),I(3),Bn(t.title),I(2),ge(" ",So(13,9,t.release_date,"MMM d, y")," ")}}function rG(n,e){if(n&1){let t=Fe();y(0,"button",42),k("click",function(){let i=J(t).$implicit,o=N();return ee(o.goToPage(i))}),E(1),v()}if(n&2){let t=e.$implicit,r=N();Ve("active",r.currentPage===t),I(),ge(" ",t," ")}}function iG(n,e){n&1&&(y(0,"span",43),E(1,"..."),v())}var Cm=class n{constructor(e,t,r){this.movies=e;this.wishlistService=t;this.alertService=r;let i=localStorage.getItem("language")||"en";this.movies.setNowPlayingWithLanguage(1,i),this.movies.loadGenres(),this.movies.nowPlaying$.subscribe(o=>{o&&o.total_pages&&(this.totalPages=Math.min(o.total_pages,500))})}router=p(it);currentPage=1;totalPages=5;searchQuery="";isSearching=!1;isFiltering=!1;selectedGenres=[];selectedSortBy="popularity.desc";minRating=0;sortOptions=[{label:"Popularity (Descending)",value:"popularity.desc"},{label:"Rating (Descending)",value:"vote_average.desc"},{label:"Release Date (Newest)",value:"release_date.desc"}];loadNowPlaying(e){this.currentPage=e,this.isSearching=!1,this.isFiltering=!1,this.searchQuery="",this.selectedGenres=[],this.minRating=0;let t=localStorage.getItem("language")||"en";this.movies.setNowPlayingWithLanguage(e,t),this.movies.nowPlaying$.subscribe(r=>{r&&r.total_pages&&(this.totalPages=Math.min(r.total_pages,500))})}applyFiltersAndSort(){this.isFiltering=!0,this.isSearching=!1,this.currentPage=1;let e=localStorage.getItem("language")||"en";this.movies.setDiscoverMovies(1,e,this.selectedSortBy,this.selectedGenres.length>0?this.selectedGenres:void 0,this.minRating>0?this.minRating:void 0),this.movies.filteredMovies$.subscribe(t=>{t&&t.total_pages&&(this.totalPages=Math.min(t.total_pages,500))})}toggleGenre(e){let t=this.selectedGenres.indexOf(e);t>-1?this.selectedGenres.splice(t,1):this.selectedGenres.push(e),this.applyFiltersAndSort()}changeSortBy(e){this.selectedSortBy=e,this.applyFiltersAndSort()}changeMinRating(e){this.minRating=e,this.applyFiltersAndSort()}clearFilters(){this.selectedGenres=[],this.selectedSortBy="popularity.desc",this.minRating=0,this.isFiltering=!1,this.loadNowPlaying(1)}searchMovies(e){e.trim()&&(this.searchQuery=e,this.isSearching=!0,this.isFiltering=!1,this.currentPage=1,this.movies.setAllMovieByName(e),this.movies.AllMovieByName$.subscribe(t=>{t&&t.total_pages&&(this.totalPages=Math.min(t.total_pages,500))}))}clearSearch(){this.searchQuery="",this.isSearching=!1,this.currentPage=1;let e=localStorage.getItem("language")||"en";this.movies.setNowPlayingWithLanguage(1,e)}getPageNumbers(){let t=[],r=Math.max(1,this.currentPage-Math.floor(5)),i=Math.min(this.totalPages,r+10-1);i-r<9&&(r=Math.max(1,i-10+1));for(let o=r;o<=i;o++)t.push(o);return t}goToPage(e){if(e>=1&&e<=this.totalPages)if(this.currentPage=e,this.isSearching)this.movies.setAllMovieByName(this.searchQuery);else if(this.isFiltering){let t=localStorage.getItem("language")||"en";this.movies.setDiscoverMovies(e,t,this.selectedSortBy,this.selectedGenres.length>0?this.selectedGenres:void 0,this.minRating>0?this.minRating:void 0)}else this.loadNowPlaying(e)}navigateToDetails(e){this.router.navigate(["/details",e])}nextPage(){if(this.isSearching)this.currentPage++,this.movies.setAllMovieByName(this.searchQuery);else if(this.isFiltering){this.currentPage++;let e=localStorage.getItem("language")||"en";this.movies.setDiscoverMovies(this.currentPage,e,this.selectedSortBy,this.selectedGenres.length>0?this.selectedGenres:void 0,this.minRating>0?this.minRating:void 0)}else this.loadNowPlaying(this.currentPage+1)}prevPage(){if(this.currentPage>1)if(this.currentPage--,this.isSearching)this.movies.setAllMovieByName(this.searchQuery);else if(this.isFiltering){let e=localStorage.getItem("language")||"en";this.movies.setDiscoverMovies(this.currentPage,e,this.selectedSortBy,this.selectedGenres.length>0?this.selectedGenres:void 0,this.minRating>0?this.minRating:void 0)}else this.loadNowPlaying(this.currentPage)}toggleWishlist(e){return g(this,null,function*(){if(!this.wishlistService.getCurrentUserId()){this.alertService.show("Please log in first");return}this.wishlistService.isInWishlist(e.id)?yield this.wishlistService.removeFromWishlist(e.id):yield this.wishlistService.addToWishlist(e)})}isInWishlist(e){return this.wishlistService.isInWishlist(e)}static \u0275fac=function(t){return new(t||n)(P(ki),P(Sn),P(He))};static \u0275cmp=oe({type:n,selectors:[["app-home-page"]],decls:52,vars:28,consts:[[1,"container"],[1,"welcome-section"],[1,"search-container"],["type","text","placeholder","Search any movie...",1,"search-input",3,"ngModelChange","keyup.enter","ngModel"],[1,"btn-search",3,"click"],["class","btn-clear",3,"click",4,"ngIf"],[1,"filter-sort-section"],[1,"filter-group"],["for","sort-select"],["id","sort-select",1,"filter-select",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","rating-select"],["id","rating-select",1,"filter-select",3,"ngModelChange","change","ngModel"],[3,"value"],["class","btn-clear-filters",3,"click",4,"ngIf"],["class","genres-section",4,"ngIf"],[1,"section-title"],[1,"movies-grid"],["class","movie-card",3,"click",4,"ngFor","ngForOf"],[1,"pagination"],[1,"pagination-btn",3,"click","disabled"],[1,"page-numbers"],["class","page-number",3,"active","click",4,"ngFor","ngForOf"],["class","page-info",4,"ngIf"],[1,"pagination-info"],[1,"btn-clear",3,"click"],[1,"btn-clear-filters",3,"click"],[1,"genres-section"],[1,"genres-list"],["class","genre-tag",3,"selected","click",4,"ngFor","ngForOf"],[1,"genre-tag",3,"click"],[1,"movie-card",3,"click"],[1,"poster-wrapper"],[3,"src","alt",4,"ngIf"],["src","https://via.placeholder.com/300x450?text=No+Image",3,"alt",4,"ngIf"],[1,"rating"],[1,"btn-favorite",3,"click","title"],[1,"fa-heart",3,"ngClass"],[1,"movie-info"],[1,"release-date"],[3,"src","alt"],["src","https://via.placeholder.com/300x450?text=No+Image",3,"alt"],[1,"page-number",3,"click"],[1,"page-info"]],template:function(t,r){if(t&1&&(y(0,"div",0)(1,"div",1)(2,"h1"),E(3,"Welcome to our movie app"),v(),y(4,"p"),E(5,"Millions of movies, TV shows and people to discover. Explore now."),v()(),y(6,"div",2)(7,"input",3),gr("ngModelChange",function(o){return $r(r.searchQuery,o)||(r.searchQuery=o),o}),k("keyup.enter",function(){return r.searchMovies(r.searchQuery)}),v(),y(8,"button",4),k("click",function(){return r.searchMovies(r.searchQuery)}),E(9,"Search"),v(),fe(10,K8,2,0,"button",5),v(),y(11,"div",6)(12,"div",7)(13,"label",8),E(14,"Sort by:"),v(),y(15,"select",9),gr("ngModelChange",function(o){return $r(r.selectedSortBy,o)||(r.selectedSortBy=o),o}),k("change",function(){return r.changeSortBy(r.selectedSortBy)}),fe(16,Q8,2,2,"option",10),v()(),y(17,"div",7)(18,"label",11),E(19,"Min Rating:"),v(),y(20,"select",12),gr("ngModelChange",function(o){return $r(r.minRating,o)||(r.minRating=o),o}),k("change",function(){return r.changeMinRating(r.minRating)}),y(21,"option",13),E(22,"All Ratings"),v(),y(23,"option",13),E(24,"6+"),v(),y(25,"option",13),E(26,"7+"),v(),y(27,"option",13),E(28,"8+"),v(),y(29,"option",13),E(30,"9+"),v()()(),fe(31,Z8,2,0,"button",14),v(),fe(32,J8,5,1,"div",15),zt(33,"async"),y(34,"div",16)(35,"h2"),E(36),v()(),y(37,"div",17),fe(38,nG,14,12,"div",18),zt(39,"async"),zt(40,"async"),zt(41,"async"),v(),y(42,"div",19)(43,"button",20),k("click",function(){return r.prevPage()}),E(44," \u2039 "),v(),y(45,"div",21),fe(46,rG,2,3,"button",22)(47,iG,2,0,"span",23),v(),y(48,"span",24),E(49),v(),y(50,"button",20),k("click",function(){return r.nextPage()}),E(51," \u203A "),v()()()),t&2){let i;I(7),mr("ngModel",r.searchQuery),I(3),A("ngIf",r.isSearching),I(5),mr("ngModel",r.selectedSortBy),I(),A("ngForOf",r.sortOptions),I(4),mr("ngModel",r.minRating),I(),A("value",0),I(2),A("value",6),I(2),A("value",7),I(2),A("value",8),I(2),A("value",9),I(2),A("ngIf",r.isFiltering||r.selectedGenres.length>0||r.minRating>0),I(),A("ngIf",zr(33,20,r.movies.genres$)),I(4),ge(" ",r.isFiltering?"Filtered Results":r.isSearching?"Search Results":"Now Playing"," "),I(2),A("ngForOf",r.isFiltering?(i=zr(39,22,r.movies.filteredMovies$))==null?null:i.results:r.isSearching?(i=zr(40,24,r.movies.AllMovieByName$))==null?null:i.results:(i=zr(41,26,r.movies.nowPlaying$))==null?null:i.results),I(5),A("disabled",r.currentPage===1),I(3),A("ngForOf",r.getPageNumbers()),I(),A("ngIf",r.totalPages>10),I(2),xf("",r.currentPage," / ",r.totalPages),I(),A("disabled",r.currentPage===r.totalPages)}},dependencies:[Ye,To,_r,$n,ga,JA,tR,ma,ap,rp,Ml,Fc,Mo],styles:[".container[_ngcontent-%COMP%]{padding:20px;max-width:1400px;margin:0 auto}.welcome-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:40px 20px;border-radius:12px;text-align:center;margin-bottom:40px}.welcome-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin:0 0 10px;font-weight:700}.welcome-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;margin:0;opacity:.9}.search-container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto 40px;display:flex;gap:10px;justify-content:center}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{flex:1;padding:12px 16px;border:2px solid #ddd;border-radius:25px;font-size:16px;transition:border-color .3s}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea}.search-container[_ngcontent-%COMP%]   .btn-search[_ngcontent-%COMP%]{padding:12px 24px;background:gold;color:#333;border:none;border-radius:25px;font-weight:600;cursor:pointer;transition:background .3s,transform .2s}.search-container[_ngcontent-%COMP%]   .btn-search[_ngcontent-%COMP%]:hover{background:#ffed4e;transform:scale(1.05)}.search-container[_ngcontent-%COMP%]   .btn-search[_ngcontent-%COMP%]:active{transform:scale(.98)}.search-container[_ngcontent-%COMP%]   .btn-clear[_ngcontent-%COMP%]{padding:12px 20px;background:#ff6b6b;color:#fff;border:none;border-radius:25px;font-weight:600;cursor:pointer;transition:background .3s}.search-container[_ngcontent-%COMP%]   .btn-clear[_ngcontent-%COMP%]:hover{background:#ff5252}.filter-sort-section[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:center;margin-bottom:30px;flex-wrap:wrap;align-items:center}.filter-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.filter-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#333;white-space:nowrap}.filter-group[_ngcontent-%COMP%]   .filter-select[_ngcontent-%COMP%]{padding:8px 12px;border:2px solid #ddd;border-radius:6px;font-size:14px;background:#fff;cursor:pointer;transition:border-color .3s}.filter-group[_ngcontent-%COMP%]   .filter-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea}.btn-clear-filters[_ngcontent-%COMP%]{padding:8px 16px;background:#ff6b6b;color:#fff;border:none;border-radius:20px;font-weight:600;cursor:pointer;transition:background .3s}.btn-clear-filters[_ngcontent-%COMP%]:hover{background:#ff5252}.genres-section[_ngcontent-%COMP%]{margin-bottom:30px}.genres-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;color:#333;margin-bottom:15px;font-weight:600}.genres-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.genre-tag[_ngcontent-%COMP%]{padding:8px 16px;background:#f0f0f0;color:#333;border:2px solid transparent;border-radius:20px;font-weight:500;cursor:pointer;transition:all .3s ease}.genre-tag[_ngcontent-%COMP%]:hover{background:#e0e0e0}.genre-tag.selected[_ngcontent-%COMP%]{background:#667eea;color:#fff;border-color:#667eea}.section-title[_ngcontent-%COMP%]{margin-bottom:30px;text-align:center}.section-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin:0;color:#333;font-weight:700}.movies-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:20px;margin-bottom:40px}.movie-card[_ngcontent-%COMP%]{border-radius:10px;overflow:hidden;background:#fff;box-shadow:0 2px 8px #0000001a;transition:transform .3s ease,box-shadow .3s ease;cursor:pointer}.movie-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 8px 16px #0003}.poster-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:225px;overflow:hidden}.poster-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block;transition:transform .3s}.poster-wrapper[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}.poster-wrapper[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:10px;background:#000c;color:gold;padding:6px 10px;border-radius:15px;font-size:14px;font-weight:600}.poster-wrapper[_ngcontent-%COMP%]   .btn-favorite[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background:transparent;border:none;font-size:24px;cursor:pointer;color:#fff;text-shadow:0 2px 4px rgba(0,0,0,.5);transition:color .3s,text-shadow .3s,transform .2s;display:flex;align-items:center;justify-content:center;width:40px;height:40px}.poster-wrapper[_ngcontent-%COMP%]   .btn-favorite[_ngcontent-%COMP%]:hover{color:gold;text-shadow:0 2px 6px rgba(255,215,0,.6);transform:scale(1.1)}.poster-wrapper[_ngcontent-%COMP%]   .btn-favorite.in-wishlist[_ngcontent-%COMP%]{color:gold;text-shadow:0 2px 6px rgba(255,215,0,.6)}.poster-wrapper[_ngcontent-%COMP%]   .btn-favorite.in-wishlist[_ngcontent-%COMP%]:hover{text-shadow:0 2px 8px rgba(255,215,0,.8);transform:scale(1.15)}.movie-info[_ngcontent-%COMP%]{padding:12px}.movie-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:15px;margin:0 0 5px;font-weight:600;color:#333;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.movie-info[_ngcontent-%COMP%]   .release-date[_ngcontent-%COMP%]{color:#999;font-size:13px;margin:0}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:10px;margin-top:40px}.pagination[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]{padding:10px 16px;background:#667eea;color:#fff;border:none;border-radius:6px;font-size:18px;cursor:pointer;transition:background .3s,opacity .3s}.pagination[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#764ba2}.pagination[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed;opacity:.6}.pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]{display:flex;gap:5px;align-items:center}.pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   .page-number[_ngcontent-%COMP%]{min-width:36px;padding:8px 12px;background:#f0f0f0;border:2px solid #ddd;border-radius:6px;cursor:pointer;font-weight:600;transition:all .3s}.pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   .page-number[_ngcontent-%COMP%]:hover{background:#e0e0e0}.pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   .page-number.active[_ngcontent-%COMP%]{background:#667eea;color:#fff;border-color:#667eea}.pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]{color:#999;margin:0 5px}.pagination[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]{font-size:.9rem;color:#666;font-weight:500;margin:0 15px;white-space:nowrap}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding:15px}.welcome-section[_ngcontent-%COMP%]{padding:30px 15px}.welcome-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.welcome-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.movies-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:15px}.search-container[_ngcontent-%COMP%]{flex-direction:column;max-width:100%}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%], .search-container[_ngcontent-%COMP%]   .btn-search[_ngcontent-%COMP%], .search-container[_ngcontent-%COMP%]   .btn-clear[_ngcontent-%COMP%]{width:100%}.pagination[_ngcontent-%COMP%]{flex-wrap:wrap}.pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   .page-number[_ngcontent-%COMP%]{min-width:32px;padding:6px 10px;font-size:14px}}@media (max-width: 480px){.movies-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(100px,1fr));gap:12px}.welcome-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   .page-button[_ngcontent-%COMP%]{min-width:28px;padding:4px 8px;font-size:12px}}"]})};function oG(n,e){n&1&&(y(0,"div",5),V(1,"i",6),y(2,"h2"),E(3,"Your wishlist is empty"),v(),y(4,"p"),E(5,"Start adding movies to your wishlist!"),v(),y(6,"a",7),V(7,"i",8),E(8," Discover Movies "),v()())}function sG(n,e){if(n&1&&V(0,"img",29),n&2){let t=N().$implicit;A("src","https://image.tmdb.org/t/p/w500"+t.poster_path,hr)("alt",t.title)}}function aG(n,e){if(n&1&&V(0,"img",30),n&2){let t=N().$implicit;A("alt",t.title)}}function cG(n,e){if(n&1){let t=Fe();y(0,"div",15)(1,"div",16),k("click",function(){let i=J(t).$implicit,o=N(2);return ee(o.navigateToDetails(i.id))}),fe(2,sG,1,2,"img",17)(3,aG,1,1,"img",18),y(4,"div",19),E(5),v()(),y(6,"div",20)(7,"h3",21),k("click",function(){let i=J(t).$implicit,o=N(2);return ee(o.navigateToDetails(i.id))}),E(8),v(),y(9,"p",22),E(10),zt(11,"date"),v(),y(12,"p",23),E(13),zt(14,"slice"),v()(),y(15,"div",24)(16,"button",25),k("click",function(){let i=J(t).$implicit,o=N(2);return ee(o.removeFromWishlist(i.id))}),V(17,"i",26),E(18," Remove "),v(),y(19,"button",27),k("click",function(){let i=J(t).$implicit,o=N(2);return ee(o.navigateToDetails(i.id))}),V(20,"i",28),E(21," Details "),v()()()}if(n&2){let t=e.$implicit;I(2),A("ngIf",t.poster_path),I(),A("ngIf",!t.poster_path),I(2),ge(" ",t.vote_average.toFixed(1)," "),I(3),ge(" ",t.title," "),I(2),ge(" ",So(11,6,t.release_date,"MMM d, y")," "),I(3),ge(" ",Uv(14,9,t.overview,0,80),"... ")}}function lG(n,e){if(n&1){let t=Fe();y(0,"div")(1,"div",9)(2,"span",10),E(3),v(),y(4,"button",11),k("click",function(){J(t);let i=N();return ee(i.clearAllWishlist())}),V(5,"i",12),E(6," Clear All "),v()(),y(7,"div",13),fe(8,cG,22,13,"div",14),v()()}if(n&2){let t=N();I(3),ge("",t.wishlistMovies.length," movie(s)"),I(5),A("ngForOf",t.wishlistMovies)}}var Im=class n{wishlistService=p(Sn);router=p(it);alertService=p(He);wishlistMovies=[];ngOnInit(){if(!this.wishlistService.getCurrentUserId()){this.alertService.error("Please log in first"),this.router.navigate(["/login"]);return}this.wishlistService.getWishlistObservable().subscribe(e=>{this.wishlistMovies=e}),this.wishlistMovies=this.wishlistService.getWishlist()}removeFromWishlist(e){return g(this,null,function*(){yield this.wishlistService.removeFromWishlist(e)})}navigateToDetails(e){this.router.navigate(["/details",e])}clearAllWishlist(){return g(this,null,function*(){confirm("Are you sure you want to clear all wishlist items?")&&(yield this.wishlistService.clearWishlist())})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=oe({type:n,selectors:[["app-watch-list-page"]],decls:8,vars:2,consts:[[1,"container"],[1,"page-header"],[1,"subtitle"],["class","empty-state",4,"ngIf"],[4,"ngIf"],[1,"empty-state"],[1,"fa-solid","fa-heart-broken"],["href","/home",1,"btn","btn-primary"],[1,"fa-solid","fa-film","me-2"],[1,"wishlist-actions"],[1,"movie-count"],[1,"btn","btn-danger",3,"click"],[1,"fa-solid","fa-trash","me-1"],[1,"wishlist-grid"],["class","wishlist-card",4,"ngFor","ngForOf"],[1,"wishlist-card"],[1,"poster-wrapper",3,"click"],[3,"src","alt",4,"ngIf"],["src","https://via.placeholder.com/300x450?text=No+Image",3,"alt",4,"ngIf"],[1,"rating"],[1,"movie-info"],[1,"movie-title",3,"click"],[1,"release-date"],[1,"overview"],[1,"card-actions"],["title","Remove from wishlist",1,"btn","btn-remove",3,"click"],[1,"fa-solid","fa-heart"],["title","View details",1,"btn","btn-details",3,"click"],[1,"fa-solid","fa-arrow-right"],[3,"src","alt"],["src","https://via.placeholder.com/300x450?text=No+Image",3,"alt"]],template:function(t,r){t&1&&(y(0,"div",0)(1,"div",1)(2,"h1"),E(3,"My Wishlist"),v(),y(4,"p",2),E(5,"Movies I want to watch"),v()(),fe(6,oG,9,0,"div",3)(7,lG,9,2,"div",4),v()),t&2&&(I(6),A("ngIf",r.wishlistMovies.length===0),I(),A("ngIf",r.wishlistMovies.length>0))},dependencies:[Ye,_r,$n,ly,Mo],styles:[".container[_ngcontent-%COMP%]{padding:20px;max-width:1400px;margin:0 auto;min-height:calc(100vh - 200px)}.page-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:40px;padding:30px 0;border-bottom:2px solid #eee}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin:0 0 10px;color:#333;font-weight:700}.page-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1.1rem;color:#666;margin:0}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;text-align:center}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:80px;color:#ddd;margin-bottom:20px}.empty-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem;color:#333;margin:0 0 10px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#666;margin:0 0 30px}.empty-state[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:12px 24px;background:gold;color:#333;border:none;border-radius:25px;font-weight:600;cursor:pointer;transition:all .3s;text-decoration:none;display:inline-block}.empty-state[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background:#ffed4e;transform:scale(1.05)}.wishlist-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px;padding:15px;background:#f9f9f9;border-radius:8px}.wishlist-actions[_ngcontent-%COMP%]   .movie-count[_ngcontent-%COMP%]{font-weight:600;color:#333;font-size:1.1rem}.wishlist-actions[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{padding:10px 20px;background:#ff6b6b;color:#fff;border:none;border-radius:20px;font-weight:600;cursor:pointer;transition:background .3s,transform .2s}.wishlist-actions[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]:hover{background:#ff5252;transform:scale(1.05)}.wishlist-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:25px;margin-bottom:40px}.wishlist-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;overflow:hidden;box-shadow:0 4px 15px #0000001a;transition:transform .3s,box-shadow .3s;display:flex;flex-direction:column;height:100%}.wishlist-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 8px 25px #00000026}.wishlist-card[_ngcontent-%COMP%]   .poster-wrapper[_ngcontent-%COMP%]{position:relative;overflow:hidden;cursor:pointer;background:#f0f0f0}.wishlist-card[_ngcontent-%COMP%]   .poster-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:350px;object-fit:cover;transition:transform .3s}.wishlist-card[_ngcontent-%COMP%]   .poster-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.wishlist-card[_ngcontent-%COMP%]   .poster-wrapper[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;background:#ffd700e6;color:#333;padding:6px 12px;border-radius:20px;font-weight:700;font-size:.9rem;box-shadow:0 2px 8px #0003}.wishlist-card[_ngcontent-%COMP%]   .movie-info[_ngcontent-%COMP%]{padding:15px;flex:1;display:flex;flex-direction:column}.wishlist-card[_ngcontent-%COMP%]   .movie-info[_ngcontent-%COMP%]   .movie-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;margin:0 0 8px;color:#333;cursor:pointer;transition:color .3s}.wishlist-card[_ngcontent-%COMP%]   .movie-info[_ngcontent-%COMP%]   .movie-title[_ngcontent-%COMP%]:hover{color:gold}.wishlist-card[_ngcontent-%COMP%]   .movie-info[_ngcontent-%COMP%]   .release-date[_ngcontent-%COMP%]{font-size:.85rem;color:#999;margin:0 0 10px}.wishlist-card[_ngcontent-%COMP%]   .movie-info[_ngcontent-%COMP%]   .overview[_ngcontent-%COMP%]{font-size:.9rem;color:#666;margin:0;flex:1;line-height:1.4}.wishlist-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]{display:flex;gap:10px;padding:12px;border-top:1px solid #eee;background:#fafafa}.wishlist-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1;padding:10px 12px;border:none;border-radius:6px;font-weight:600;cursor:pointer;transition:all .3s;font-size:.9rem;display:flex;align-items:center;justify-content:center;gap:5px}.wishlist-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .btn.btn-remove[_ngcontent-%COMP%]{background:#ff6b6b;color:#fff}.wishlist-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .btn.btn-remove[_ngcontent-%COMP%]:hover{background:#ff5252;transform:scale(1.05)}.wishlist-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .btn.btn-details[_ngcontent-%COMP%]{background:#667eea;color:#fff}.wishlist-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .btn.btn-details[_ngcontent-%COMP%]:hover{background:#5568d3;transform:scale(1.05)}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding:15px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.wishlist-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:15px}.wishlist-card[_ngcontent-%COMP%]   .poster-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}.wishlist-actions[_ngcontent-%COMP%]{flex-direction:column;gap:15px;align-items:flex-start}.wishlist-actions[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{width:100%}}"]})};var Dm=class n{rating=0;maxRating=10;get strokeDashoffset(){let e=this.rating/this.maxRating*100,t=283;return t-e/100*t}getColor(){let e=this.rating/this.maxRating*100;return e>=75?"#4CAF50":e>=60?"#8BC34A":e>=45?"#FFC107":e>=30?"#FF9800":"#F44336"}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=oe({type:n,selectors:[["app-rating-circle"]],inputs:{rating:"rating",maxRating:"maxRating"},decls:6,vars:6,consts:[[1,"rating-circle-container"],["viewBox","0 0 100 100",1,"rating-circle"],["cx","50","cy","50","r","45",1,"bg-circle"],["cx","50","cy","50","r","45",1,"progress-circle"],["x","50","y","57","text-anchor","middle","dominant-baseline","middle","transform","rotate(90 50 50)",1,"rating-text"]],template:function(t,r){t&1&&(we(0,"div",0),xd(),we(1,"svg",1),gn(2,"circle",2)(3,"circle",3),we(4,"text",4),E(5),Se()()()),t&2&&(I(3),Rf("stroke-dashoffset",r.strokeDashoffset)("stroke",r.getColor()),I(),Rt("fill",r.getColor()),I(),ge(" ",r.rating.toFixed(1)," "))},dependencies:[Ye],styles:['.rating-circle-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.rating-circle[_ngcontent-%COMP%]{width:50px;height:50px;transform:rotate(-90deg);filter:drop-shadow(0 2px 4px rgba(0,0,0,.3))}.bg-circle[_ngcontent-%COMP%]{fill:#000;stroke:#000;stroke-width:3}.progress-circle[_ngcontent-%COMP%]{fill:none;stroke-width:3;stroke-linecap:round;stroke-dasharray:283;transition:stroke-dashoffset .5s ease,stroke .3s ease}.rating-text[_ngcontent-%COMP%]{font-size:18px;font-weight:700;pointer-events:none}[data-theme="dark"][_nghost-%COMP%]   .bg-circle[_ngcontent-%COMP%], [data-theme="dark"]   [_nghost-%COMP%]   .bg-circle[_ngcontent-%COMP%]{fill:#000;stroke:#000}']})};var oO=()=>[1,2,3,4,5];function uG(n,e){if(n&1&&V(0,"img",32),n&2){let t=N().ngIf;A("src","https://image.tmdb.org/t/p/w342"+t.poster_path,hr)("alt",t.title)}}function dG(n,e){if(n&1&&V(0,"img",33),n&2){let t=N().ngIf;A("alt",t.title)}}function fG(n,e){if(n&1&&(y(0,"span",34),E(1),v()),n&2){let t=e.$implicit,r=N().ngIf;I(),ge(" ",t<=r.vote_average/2?"\u2605":"\u2606"," ")}}function hG(n,e){if(n&1&&(y(0,"span",34),E(1),v()),n&2){let t=e.$implicit,r=N().ngIf;I(),ge(" ",t<=r.vote_average/2?"\u2605":"\u2606"," ")}}function pG(n,e){n&1&&(y(0,"div",40)(1,"p"),E(2,"Loading trailer..."),v()())}function mG(n,e){if(n&1&&V(0,"iframe",41),n&2){let t=N(3);A("src",t.trailerUrl,fv)}}function gG(n,e){if(n&1&&(y(0,"div",35)(1,"h3",36),E(2,"Official Trailer"),v(),y(3,"div",37),fe(4,pG,3,0,"div",38)(5,mG,1,1,"iframe",39),v()()),n&2){let t=N(2);I(4),A("ngIf",t.loadingTrailer),I(),A("ngIf",!t.loadingTrailer&&t.trailerUrl)}}function _G(n,e){if(n&1&&V(0,"img",46),n&2){let t=N(2).ngIf;A("src","https://image.tmdb.org/t/p/w200"+t.production_companies[0].logo_path,hr)("alt",t.production_companies[0].name)}}function vG(n,e){if(n&1&&(y(0,"span",47),E(1),v()),n&2){let t=N(2).ngIf;I(),ge(" ",t.production_companies[0].name," ")}}function yG(n,e){if(n&1&&(y(0,"div",42)(1,"div",43),fe(2,_G,1,2,"img",44)(3,vG,2,1,"span",45),v()()),n&2){let t=N().ngIf;I(2),A("ngIf",t.production_companies[0].logo_path),I(),A("ngIf",!t.production_companies[0].logo_path)}}function bG(n,e){if(n&1&&(y(0,"p",48)(1,"a",49),E(2," \u{1F517} Website "),v()()),n&2){let t=N().ngIf;I(),A("href",t.homepage,hr)}}function EG(n,e){if(n&1){let t=Fe();y(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6),fe(4,uG,1,2,"img",7)(5,dG,1,1,"img",8),y(6,"div",9)(7,"div",10),fe(8,fG,2,1,"span",11),v(),y(9,"p",12),E(10),v()()()(),y(11,"div",13)(12,"h1",14),E(13),v(),y(14,"div",15)(15,"div",16)(16,"span",17),fe(17,hG,2,1,"span",11),v(),y(18,"span",18),E(19),v()(),y(20,"div",19)(21,"button",20),E(22," Action "),v(),y(23,"button",21),E(24," Close "),v(),y(25,"button",22),E(26," Trailer "),v()()(),fe(27,gG,6,2,"div",23),y(28,"p",24),E(29),v(),y(30,"div",25)(31,"div",26)(32,"span",27),E(33,"Duration"),v(),y(34,"span",28),E(35),v()(),y(36,"div",26)(37,"span",27),E(38,"Languages"),v(),y(39,"span",28),E(40),v()()(),fe(41,yG,4,2,"div",29)(42,bG,3,1,"p",30),v(),y(43,"button",31),k("click",function(i){let o=J(t).ngIf;return N().onToggleWishlist(o),ee(i.stopPropagation())}),E(44," \u2661 "),v()()()}if(n&2){let t=e.ngIf,r=N();I(4),A("ngIf",t.poster_path),I(),A("ngIf",!t.poster_path),I(3),A("ngForOf",Nf(15,oO)),I(2),Bn(t.vote_count),I(3),Bn(t.title),I(4),A("ngForOf",Nf(16,oO)),I(2),Bn(t.vote_count),I(8),A("ngIf",r.officialTrailer),I(2),Bn(t.overview),I(6),ge("",t.runtime," mins"),I(5),ge(" ",t.spoken_languages&&t.spoken_languages.length>0?t.spoken_languages[0].english_name:"N/A"," "),I(),A("ngIf",t.production_companies&&t.production_companies.length>0),I(),A("ngIf",t.homepage),I(),A("ngClass",t!=null&&t.id&&r.isInWishlist(t.id)?"in-wishlist":""),Rt("aria-disabled",t!=null&&t.id&&!r.isInWishlist(t.id)&&!r.wishlistService.getCurrentUserId()?"true":null)}}function wG(n,e){if(n&1&&V(0,"img",64),n&2){let t=N().$implicit;A("src","https://image.tmdb.org/t/p/w342"+t.poster_path,hr)("alt",t.title)}}function CG(n,e){if(n&1&&V(0,"img",65),n&2){let t=N().$implicit;A("alt",t.title)}}function IG(n,e){if(n&1){let t=Fe();y(0,"div",55),k("click",function(){let i=J(t).$implicit,o=N(3);return ee(o.navigateToMovie(i.id))}),y(1,"div",56),fe(2,wG,1,2,"img",57)(3,CG,1,1,"img",58),y(4,"div",59),V(5,"app-rating-circle",60),v()(),y(6,"div",61)(7,"h3",62),E(8),v(),y(9,"p",63),E(10),zt(11,"date"),v()()()}if(n&2){let t=e.$implicit;I(2),A("ngIf",t.poster_path),I(),A("ngIf",!t.poster_path),I(2),A("rating",t.vote_average)("maxRating",10),I(3),Bn(t.title),I(2),Bn(So(11,6,t.release_date,"MMM d, yyyy"))}}function DG(n,e){if(n&1&&(y(0,"div")(1,"h2",52),E(2,"Recommendations"),v(),y(3,"div",53),fe(4,IG,12,9,"div",54),v()()),n&2){let t=N().ngIf;I(4),A("ngForOf",t.results)}}function SG(n,e){if(n&1&&(y(0,"div",50),fe(1,DG,5,1,"div",51),v()),n&2){let t=e.ngIf;I(),A("ngIf",t.results&&t.results.length>0)}}var Sm=class n{route=p(Er);router=p(it);movies=p(ki);sanitizer=p(wy);wishlistService=p(Sn);alertService=p(He);movieId=0;officialTrailer=null;trailerUrl=null;allVideos=[];loadingTrailer=!1;ngOnInit(){this.route.paramMap.subscribe(e=>{let t=e.get("id");this.movieId=t?parseInt(t,10):0,this.movieId&&(this.movies.setmovieDetails(this.movieId),this.movies.setMovieRecommendation(this.movieId),this.loadTrailers())})}loadTrailers(){this.loadingTrailer=!0,this.movies.getMovieVideos(this.movieId).subscribe({next:e=>{if(e&&e.results&&e.results.length>0){this.allVideos=e.results;let t=e.results.find(r=>r.type==="Trailer"&&r.official&&r.site==="YouTube");t||(t=e.results.find(r=>r.type==="Trailer"&&r.site==="YouTube")),t&&(this.officialTrailer=t,this.trailerUrl=this.sanitizer.bypassSecurityTrustResourceUrl(`https://www.youtube.com/embed/${t.key}?autoplay=0&rel=0`))}this.loadingTrailer=!1},error:e=>{console.error("Error loading trailers:",e),this.loadingTrailer=!1}})}navigateToMovie(e){this.router.navigate(["/details",e])}onToggleWishlist(e){return g(this,null,function*(){if(!this.wishlistService.getCurrentUserId()){this.alertService.show("Please log in first");return}yield this.wishlistService.toggleWishlist(e)})}isInWishlist(e){return this.wishlistService.isInWishlist(e)}goBack(){this.router.navigate(["/home"])}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=oe({type:n,selectors:[["app-details-page"]],decls:5,vars:6,consts:[[1,"details-container"],["class","details-card",4,"ngIf"],["class","recommendations-wrapper",4,"ngIf"],[1,"details-card"],[1,"details-content"],[1,"poster-section"],[1,"poster-wrapper"],["class","poster-image",3,"src","alt",4,"ngIf"],["src","https://via.placeholder.com/300x450?text=No+Image","class","poster-image",3,"alt",4,"ngIf"],[1,"rating-badge"],[1,"stars"],["class","star",4,"ngFor","ngForOf"],[1,"vote-count"],[1,"movie-info-section"],[1,"movie-title"],[1,"rating-actions"],[1,"rating-display"],[1,"stars-inline"],[1,"vote-count-inline"],[1,"action-buttons"],["title","Add to favorites",1,"btn","btn-action"],["title","Close",1,"btn","btn-close"],["title","Watch Trailer",1,"btn","btn-trailer"],["class","trailer-section",4,"ngIf"],[1,"movie-description"],[1,"movie-metadata"],[1,"metadata-item"],[1,"label"],[1,"value"],["class","studio-section",4,"ngIf"],["class","website-link",4,"ngIf"],["title","Add to favorites",1,"btn-favorite",3,"click","ngClass"],[1,"poster-image",3,"src","alt"],["src","https://via.placeholder.com/300x450?text=No+Image",1,"poster-image",3,"alt"],[1,"star"],[1,"trailer-section"],[1,"trailer-title"],[1,"trailer-container"],["class","trailer-loading",4,"ngIf"],["class","trailer-iframe","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture","allowfullscreen","","title","Movie Trailer",3,"src",4,"ngIf"],[1,"trailer-loading"],["allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture","allowfullscreen","","title","Movie Trailer",1,"trailer-iframe",3,"src"],[1,"studio-section"],[1,"studio-logo"],["class","studio-logo-image",3,"src","alt",4,"ngIf"],["class","studio-name",4,"ngIf"],[1,"studio-logo-image",3,"src","alt"],[1,"studio-name"],[1,"website-link"],["target","_blank",1,"link-icon",3,"href"],[1,"recommendations-wrapper"],[4,"ngIf"],[1,"recommendations-title"],[1,"recommendations-grid"],["class","rec-card",3,"click",4,"ngFor","ngForOf"],[1,"rec-card",3,"click"],[1,"rec-poster-wrapper"],[3,"src","alt",4,"ngIf"],["src","https://via.placeholder.com/200x300?text=No+Image",3,"alt",4,"ngIf"],[1,"rating-circle-wrapper"],[3,"rating","maxRating"],[1,"rec-info"],[1,"rec-title"],[1,"rec-date"],[3,"src","alt"],["src","https://via.placeholder.com/200x300?text=No+Image",3,"alt"]],template:function(t,r){t&1&&(y(0,"div",0),fe(1,EG,45,17,"div",1),zt(2,"async"),fe(3,SG,2,1,"div",2),zt(4,"async"),v()),t&2&&(I(),A("ngIf",zr(2,2,r.movies.movieDetails$)),I(2),A("ngIf",zr(4,4,r.movies.MovieRecommendation$)))},dependencies:[Ye,To,_r,$n,Dm,Fc,Mo],styles:['.details-container[_ngcontent-%COMP%]{background:#f5f5f5;min-height:100vh;padding:30px 20px;max-width:1400px;margin:0 auto}[data-theme="dark"][_nghost-%COMP%]   .details-container[_ngcontent-%COMP%], [data-theme="dark"]   [_nghost-%COMP%]   .details-container[_ngcontent-%COMP%]{background:#1a1a1a}.details-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 4px 12px #0000001a;overflow:hidden;margin-bottom:40px}[data-theme="dark"][_nghost-%COMP%]   .details-card[_ngcontent-%COMP%], [data-theme="dark"]   [_nghost-%COMP%]   .details-card[_ngcontent-%COMP%]{background:#2a2a2a;box-shadow:0 4px 12px #00000080}.details-content[_ngcontent-%COMP%]{display:flex;gap:30px;padding:30px;position:relative}.btn-favorite[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px;background:transparent;border:none;font-size:28px;cursor:pointer;color:gold;transition:color .3s,transform .3s;z-index:10}.btn-favorite[_ngcontent-%COMP%]:hover{transform:scale(1.2);color:#ff6b6b}.poster-section[_ngcontent-%COMP%]{flex-shrink:0;width:250px}.poster-wrapper[_ngcontent-%COMP%]{position:relative;border-radius:12px;overflow:hidden;box-shadow:0 8px 16px #0003}.poster-wrapper[_ngcontent-%COMP%]   .poster-image[_ngcontent-%COMP%]{width:100%;height:auto;display:block;border-radius:12px}.rating-badge[_ngcontent-%COMP%]{position:absolute;bottom:12px;left:12px;background:#000000d9;color:gold;padding:10px 12px;border-radius:8px;text-align:center}.rating-badge[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]{display:flex;gap:2px;font-size:12px;margin-bottom:4px}.rating-badge[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]{color:gold}.rating-badge[_ngcontent-%COMP%]   .vote-count[_ngcontent-%COMP%]{font-size:11px;margin:0;color:#ccc}.movie-info-section[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:flex-start;gap:16px}.movie-title[_ngcontent-%COMP%]{font-size:2.2rem;margin:0;color:#333;font-weight:700;line-height:1.2}[data-theme="dark"][_nghost-%COMP%]   .movie-title[_ngcontent-%COMP%], [data-theme="dark"]   [_nghost-%COMP%]   .movie-title[_ngcontent-%COMP%]{color:#fff}.rating-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;justify-content:space-between}.rating-actions[_ngcontent-%COMP%]   .rating-display[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.rating-actions[_ngcontent-%COMP%]   .rating-display[_ngcontent-%COMP%]   .stars-inline[_ngcontent-%COMP%]{display:flex;gap:2px;font-size:16px}.rating-actions[_ngcontent-%COMP%]   .rating-display[_ngcontent-%COMP%]   .stars-inline[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]{color:gold}.rating-actions[_ngcontent-%COMP%]   .rating-display[_ngcontent-%COMP%]   .vote-count-inline[_ngcontent-%COMP%]{color:#999;font-size:14px;margin-left:4px}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap}.btn[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:6px;font-size:14px;font-weight:600;cursor:pointer;transition:all .3s}.btn.btn-action[_ngcontent-%COMP%]{background:gold;color:#333}.btn.btn-action[_ngcontent-%COMP%]:hover{background:#ffed4e;transform:translateY(-2px)}.btn.btn-close[_ngcontent-%COMP%]{background:#ddd;color:#333}.btn.btn-close[_ngcontent-%COMP%]:hover{background:#ccc}.btn.btn-trailer[_ngcontent-%COMP%]{background:#667eea;color:#fff}.btn.btn-trailer[_ngcontent-%COMP%]:hover{background:#764ba2;transform:translateY(-2px)}.movie-description[_ngcontent-%COMP%]{color:#666;font-size:15px;line-height:1.6;margin:0}.movie-metadata[_ngcontent-%COMP%]{display:flex;gap:30px;padding:15px 0;border-top:1px solid #eee;border-bottom:1px solid #eee}.movie-metadata[_ngcontent-%COMP%]   .metadata-item[_ngcontent-%COMP%]{display:flex;flex-direction:column}.movie-metadata[_ngcontent-%COMP%]   .metadata-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#999;font-size:13px;font-weight:600;text-transform:uppercase;margin-bottom:4px}.movie-metadata[_ngcontent-%COMP%]   .metadata-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#333;font-size:15px;font-weight:500}.studio-section[_ngcontent-%COMP%]{display:flex;align-items:center;padding:15px 0}.studio-section[_ngcontent-%COMP%]   .studio-logo[_ngcontent-%COMP%]{display:flex;align-items:center}.studio-section[_ngcontent-%COMP%]   .studio-logo[_ngcontent-%COMP%]   .studio-logo-image[_ngcontent-%COMP%]{height:40px;max-width:150px;object-fit:contain}.studio-section[_ngcontent-%COMP%]   .studio-logo[_ngcontent-%COMP%]   .studio-name[_ngcontent-%COMP%]{color:#666;font-size:14px;font-weight:600}.website-link[_ngcontent-%COMP%]{margin:0}.website-link[_ngcontent-%COMP%]   .link-icon[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-weight:600;transition:color .3s}.website-link[_ngcontent-%COMP%]   .link-icon[_ngcontent-%COMP%]:hover{color:#764ba2;text-decoration:underline}.trailer-section[_ngcontent-%COMP%]{margin-top:30px;padding-top:30px;border-top:2px solid #f0f0f0}.trailer-section[_ngcontent-%COMP%]   .trailer-title[_ngcontent-%COMP%]{font-size:1.3rem;color:#333;margin-bottom:15px;font-weight:700}.trailer-section[_ngcontent-%COMP%]   .trailer-container[_ngcontent-%COMP%]{width:100%;max-width:600px;aspect-ratio:16 / 9;border-radius:12px;overflow:hidden;background:#000;box-shadow:0 4px 12px #00000026}.trailer-section[_ngcontent-%COMP%]   .trailer-iframe[_ngcontent-%COMP%]{width:100%;height:100%;border:none}.trailer-section[_ngcontent-%COMP%]   .trailer-loading[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%;color:#999;font-weight:500}.recommendations-wrapper[_ngcontent-%COMP%]{margin-top:50px}.recommendations-wrapper[_ngcontent-%COMP%]   .recommendations-title[_ngcontent-%COMP%]{font-size:1.8rem;margin:0 0 20px;color:#333;font-weight:700}.recommendations-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:20px}.rec-card[_ngcontent-%COMP%]{border-radius:10px;overflow:hidden;background:#fff;box-shadow:0 2px 8px #0000001a;transition:transform .3s ease,box-shadow .3s ease;cursor:pointer}.rec-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 8px 16px #0003}.rec-poster-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:180px;overflow:visible;background:#f0f0f0}.rec-poster-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .3s}.rec-poster-wrapper[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}.rec-poster-wrapper[_ngcontent-%COMP%]   .rating-circle-wrapper[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:10px;background:transparent;padding:0;border-radius:0;box-shadow:none;z-index:10;display:flex;align-items:center;justify-content:center}.rec-info[_ngcontent-%COMP%]{padding:12px}.rec-info[_ngcontent-%COMP%]   .rec-title[_ngcontent-%COMP%]{font-size:13px;margin:0 0 4px;font-weight:600;color:#333;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.rec-info[_ngcontent-%COMP%]   .rec-date[_ngcontent-%COMP%]{color:#999;font-size:12px;margin:0}.rec-info[_ngcontent-%COMP%]   .rating-circle-wrapper[_ngcontent-%COMP%]{position:absolute;bottom:8px;left:8px;background:transparent;padding:0;border-radius:0;box-shadow:none}@media (max-width: 1024px){.details-content[_ngcontent-%COMP%]{gap:20px;padding:20px}.poster-section[_ngcontent-%COMP%]{width:200px}.movie-title[_ngcontent-%COMP%]{font-size:1.8rem}.recommendations-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(100px,1fr));gap:15px}}@media (max-width: 768px){.details-container[_ngcontent-%COMP%]{padding:15px 10px}.details-content[_ngcontent-%COMP%]{flex-direction:column;gap:20px;padding:20px}.poster-section[_ngcontent-%COMP%]{width:100%;max-width:200px;margin:0 auto}.movie-title[_ngcontent-%COMP%]{font-size:1.5rem}.rating-actions[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.action-buttons[_ngcontent-%COMP%]{width:100%}.action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1;min-width:80px}.movie-metadata[_ngcontent-%COMP%]{gap:20px}.recommendations-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(90px,1fr));gap:12px}.btn-favorite[_ngcontent-%COMP%]{top:15px;right:15px;font-size:24px}}@media (max-width: 480px){.details-container[_ngcontent-%COMP%]{padding:10px 5px}.details-content[_ngcontent-%COMP%]{padding:15px;gap:15px}.poster-section[_ngcontent-%COMP%]{width:100%;max-width:160px}.movie-title[_ngcontent-%COMP%]{font-size:1.3rem}.action-buttons[_ngcontent-%COMP%]{flex-direction:column}.action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}.movie-metadata[_ngcontent-%COMP%]{flex-direction:column;gap:12px}.recommendations-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(80px,1fr));gap:10px}.rec-poster-wrapper[_ngcontent-%COMP%]{height:150px}}[data-theme="dark"][_nghost-%COMP%]   .movie-title[_ngcontent-%COMP%], [data-theme="dark"]   [_nghost-%COMP%]   .movie-title[_ngcontent-%COMP%], [data-theme="dark"][_nghost-%COMP%]   .section-title[_ngcontent-%COMP%], [data-theme="dark"]   [_nghost-%COMP%]   .section-title[_ngcontent-%COMP%], [data-theme="dark"][_nghost-%COMP%]   .metadata-label[_ngcontent-%COMP%], [data-theme="dark"]   [_nghost-%COMP%]   .metadata-label[_ngcontent-%COMP%], [data-theme="dark"][_nghost-%COMP%]   .description[_ngcontent-%COMP%], [data-theme="dark"]   [_nghost-%COMP%]   .description[_ngcontent-%COMP%], [data-theme="dark"][_nghost-%COMP%]   .genre-tag[_ngcontent-%COMP%], [data-theme="dark"]   [_nghost-%COMP%]   .genre-tag[_ngcontent-%COMP%], [data-theme="dark"][_nghost-%COMP%]   .rec-title[_ngcontent-%COMP%], [data-theme="dark"]   [_nghost-%COMP%]   .rec-title[_ngcontent-%COMP%]{color:#fff}[data-theme="dark"][_nghost-%COMP%]   .subtitle[_ngcontent-%COMP%], [data-theme="dark"]   [_nghost-%COMP%]   .subtitle[_ngcontent-%COMP%], [data-theme="dark"][_nghost-%COMP%]   .metadata-value[_ngcontent-%COMP%], [data-theme="dark"]   [_nghost-%COMP%]   .metadata-value[_ngcontent-%COMP%], [data-theme="dark"][_nghost-%COMP%]   .vote-count[_ngcontent-%COMP%], [data-theme="dark"]   [_nghost-%COMP%]   .vote-count[_ngcontent-%COMP%], [data-theme="dark"][_nghost-%COMP%]   .vote-count-inline[_ngcontent-%COMP%], [data-theme="dark"]   [_nghost-%COMP%]   .vote-count-inline[_ngcontent-%COMP%], [data-theme="dark"][_nghost-%COMP%]   .rec-date[_ngcontent-%COMP%], [data-theme="dark"]   [_nghost-%COMP%]   .rec-date[_ngcontent-%COMP%]{color:#ccc}[data-theme="dark"][_nghost-%COMP%]   .vote-count[_ngcontent-%COMP%], [data-theme="dark"]   [_nghost-%COMP%]   .vote-count[_ngcontent-%COMP%], [data-theme="dark"][_nghost-%COMP%]   .vote-count-inline[_ngcontent-%COMP%], [data-theme="dark"]   [_nghost-%COMP%]   .vote-count-inline[_ngcontent-%COMP%]{color:#999}[data-theme="dark"][_nghost-%COMP%]   .btn-primary[_ngcontent-%COMP%], [data-theme="dark"]   [_nghost-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:#667eea;color:#fff}[data-theme="dark"][_nghost-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, [data-theme="dark"]   [_nghost-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background:#5568d3}[data-theme="dark"][_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%], [data-theme="dark"]   [_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background:#764ba2;color:#fff;border-color:#764ba2}[data-theme="dark"][_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover, [data-theme="dark"]   [_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background:#653a85}[data-theme="dark"][_nghost-%COMP%]   .trailer-container[_ngcontent-%COMP%], [data-theme="dark"]   [_nghost-%COMP%]   .trailer-container[_ngcontent-%COMP%], [data-theme="dark"][_nghost-%COMP%]   .section[_ngcontent-%COMP%], [data-theme="dark"]   [_nghost-%COMP%]   .section[_ngcontent-%COMP%]{background:#2a2a2a;color:#fff}[data-theme="dark"][_nghost-%COMP%]   a[_ngcontent-%COMP%], [data-theme="dark"]   [_nghost-%COMP%]   a[_ngcontent-%COMP%]{color:#667eea}[data-theme="dark"][_nghost-%COMP%]   a[_ngcontent-%COMP%]:hover, [data-theme="dark"]   [_nghost-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#89f}[data-theme="dark"][_nghost-%COMP%]   hr[_ngcontent-%COMP%], [data-theme="dark"]   [_nghost-%COMP%]   hr[_ngcontent-%COMP%]{border-color:#444}']})};function TG(n,e){n&1&&(y(0,"div",32)(1,"small"),E(2,"Email is required."),v()())}function MG(n,e){n&1&&(y(0,"div",32)(1,"small"),E(2,"Invalid email format."),v()())}function AG(n,e){if(n&1&&pn(0,TG,3,0,"div",32)(1,MG,3,0,"div",32),n&2){N();let t=jn(10);mn(!(t==null||t.errors==null)&&t.errors.required?0:!(t==null||t.errors==null)&&t.errors.pattern?1:-1)}}function RG(n,e){n&1&&(y(0,"div",32)(1,"small"),E(2,"Password is required."),v()())}function xG(n,e){n&1&&(y(0,"div",32)(1,"small"),E(2,"Password must be 8-20 characters, include uppercase, lowercase, number & special char."),v()())}function NG(n,e){if(n&1&&pn(0,RG,3,0,"div",32)(1,xG,3,0,"div",32),n&2){N();let t=jn(16);mn(!(t==null||t.errors==null)&&t.errors.required?0:!(t==null||t.errors==null)&&t.errors.pattern?1:-1)}}function PG(n,e){n&1&&(y(0,"div",32)(1,"small"),E(2,"Email is required."),v()())}function OG(n,e){n&1&&(y(0,"div",32)(1,"small"),E(2,"Invalid email format."),v()())}function kG(n,e){if(n&1&&pn(0,PG,3,0,"div",32)(1,OG,3,0,"div",32),n&2){N();let t=jn(50);mn(!(t==null||t.errors==null)&&t.errors.required?0:!(t==null||t.errors==null)&&t.errors.pattern?1:-1)}}var Tm=class n{constructor(e,t,r,i){this.firebaseService=e;this.router=t;this.alertService=r;this.wishlistService=i}emailAddress="";Password="";emailReset="";message="";submitLogin(){return g(this,null,function*(){let e=yield this.firebaseService.loginUser(this.emailAddress,this.Password);if(e==="NotVerified"){new window.bootstrap.Modal(document.getElementById("verifyModal")).show();return}if(e){let t={uid:e.uid,email:e.email,displayName:e.displayName||this.emailAddress.split("@")[0]};localStorage.setItem("currentUser",JSON.stringify(t)),this.wishlistService.setCurrentUserId(e.uid);let r=yield this.firebaseService.getUserWishlist(e.uid);r&&r.length>0?(localStorage.setItem("wishlist",JSON.stringify(r)),yield this.wishlistService.loadWishlistFromArray(r)):yield this.wishlistService.clearWishlist(),this.alertService.show("Login successful!"),this.router.navigateByUrl("home")}else this.alertService.show("Login failed. Please check your credentials.")})}navigateToRegister(){this.router.navigateByUrl("register")}resendVerification(){return g(this,null,function*(){try{yield this.firebaseService.sendVerificationEmail(),this.alertService.show("Verification email sent. Please check your inbox.")}catch{this.alertService.show("Unable to send verification email.")}})}openForgotPasswordModal(){new window.bootstrap.Modal(document.getElementById("forgotPasswordModal")).show()}confirmResetPassword(){return g(this,null,function*(){if(!this.emailReset){this.alertService.show("Please enter your email.");return}try{yield this.firebaseService.sendPasswordReset(this.emailReset),this.alertService.show("Password reset email sent. Please check your inbox."),window.bootstrap.Modal.getInstance(document.getElementById("forgotPasswordModal")).hide()}catch{this.alertService.show("Unable to send reset email.")}})}static \u0275fac=function(t){return new(t||n)(P(Kt),P(it),P(He),P(Sn))};static \u0275cmp=oe({type:n,selectors:[["app-login-page"]],features:[$t([Kt,He])],decls:57,vars:8,consts:[["loginForm","ngForm"],["email","ngModel"],["password","ngModel"],["emailR","ngModel"],[1,"body","d-flex","align-items-center","justify-content-center","vh-100"],[1,"card","shadow-lg","p-4","login-card"],[1,"text-center","mb-4","fw-bold","title"],[3,"ngSubmit"],[1,"mb-3"],["for","email",1,"form-label","fw-semibold"],["type","email","autocomplete","off","id","email","name","email","required","","pattern","^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$",1,"form-control","form-input",3,"ngModelChange","keyup.enter","ngModel"],["for","password",1,"form-label","fw-semibold"],["type","password","autocomplete","new-password","id","password","name","password","required","","pattern","^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%^&+=])(?=\\S+$).{8,20}$",1,"form-control","form-input",3,"ngModelChange","keyup.enter","ngModel"],["type","submit",1,"btn","btn-primary","w-100","submit-btn",3,"disabled"],[1,"d-flex","justify-content-end","mt-2"],["type","button",1,"btn","btn-link","text-primary","fw-bold","text-decoration-none",3,"click"],[1,"text-center","mt-3"],[1,"btn","btn-link","text-primary","fw-bold","text-decoration-none",3,"click"],["id","verifyModal","tabindex","-1","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content","rounded-4","shadow"],[1,"modal-header"],[1,"modal-title","fw-bold"],["type","button","data-bs-dismiss","modal",1,"btn-close"],[1,"modal-footer"],["type","button",1,"btn","btn-primary","rounded-pill","px-4",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","rounded-pill","px-4"],["id","forgotPasswordModal","tabindex","-1","aria-hidden","true",1,"modal","fade"],[1,"modal-body"],[1,"mb-2"],["type","email","id","resetEmail","placeholder","Enter your email","required","","pattern","^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$",1,"form-control","form-input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-primary","rounded-pill","px-4",3,"click","disabled"],[1,"text-danger","mt-1"]],template:function(t,r){if(t&1){let i=Fe();y(0,"div",4)(1,"div",5)(2,"h2",6),E(3,"Login"),v(),y(4,"form",7,0),k("ngSubmit",function(){return J(i),ee(r.submitLogin())}),y(6,"div",8)(7,"label",9),E(8,"Email Address"),v(),y(9,"input",10,1),gr("ngModelChange",function(s){return J(i),$r(r.emailAddress,s)||(r.emailAddress=s),ee(s)}),k("keyup.enter",function(){return J(i),ee(r.submitLogin())}),v(),pn(11,AG,2,1),v(),y(12,"div",8)(13,"label",11),E(14,"Password"),v(),y(15,"input",12,2),gr("ngModelChange",function(s){return J(i),$r(r.Password,s)||(r.Password=s),ee(s)}),k("keyup.enter",function(){return J(i),ee(r.submitLogin())}),v(),pn(17,NG,2,1),v(),y(18,"button",13),E(19," Login "),v()(),y(20,"div",14)(21,"button",15),k("click",function(){return J(i),ee(r.openForgotPasswordModal())}),E(22,` Forgot Password?
`),v()(),y(23,"div",16),E(24," Don't have an account? "),y(25,"button",17),k("click",function(){return J(i),ee(r.navigateToRegister())}),E(26," Register "),v()()(),y(27,"div",18)(28,"div",19)(29,"div",20)(30,"div",21)(31,"h5",22),E(32,"Email Verification Required"),v(),V(33,"button",23),v(),y(34,"div",24)(35,"button",25),k("click",function(){return J(i),ee(r.resendVerification())}),E(36," Resend Email "),v(),y(37,"button",26),E(38," Close "),v()()()()(),y(39,"div",27)(40,"div",19)(41,"div",20)(42,"div",21)(43,"h5",22),E(44,"Reset Your Password"),v(),V(45,"button",23),v(),y(46,"div",28)(47,"p",29),E(48," Enter your email address and we will send you a password reset link. "),v(),y(49,"input",30,3),gr("ngModelChange",function(s){return J(i),$r(r.emailReset,s)||(r.emailReset=s),ee(s)}),v(),pn(51,kG,2,1),v(),y(52,"div",24)(53,"button",31),k("click",function(){return J(i),ee(r.confirmResetPassword())}),E(54," Send Reset Email "),v(),y(55,"button",26),E(56," Close "),v()()()()()()}if(t&2){let i=jn(5),o=jn(10),s=jn(16),a=jn(50);I(9),mr("ngModel",r.emailAddress),I(2),mn(o.touched&&o.invalid?11:-1),I(4),mr("ngModel",r.Password),I(2),mn(s.touched&&s.invalid?17:-1),I(),A("disabled",i.invalid),I(31),mr("ngModel",r.emailReset),I(2),mn(a.touched&&a.invalid?51:-1),I(2),A("disabled",a.invalid)}},dependencies:[ga,sp,ma,rp,ip,Nb,Pb,Ml,Tl],styles:[".body[_ngcontent-%COMP%]{background:#f5f5f5}.login-card[_ngcontent-%COMP%]{width:380px;border-radius:12px}.login-card[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:45px}.login-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:45px;font-size:1rem}"]})};var Mm=class n{constructor(e,t,r){this.firebaseService=e;this.router=t;this.alertService=r}username="";emailAddress="";Password="";confirmPassword="";navigateToLogin(){this.router.navigateByUrl("login")}navigateToHome(){this.router.navigate(["/home"])}submitRegister(){return g(this,null,function*(){this.firebaseService.registerUser(this.username,this.emailAddress,this.Password).then(e=>{e?(this.alertService.show("Registration successful! Please verify your email before logging in."),this.router.navigateByUrl("login")):this.alertService.show("Registration failed. Please try again.")})})}static \u0275fac=function(t){return new(t||n)(P(Kt),P(it),P(He))};static \u0275cmp=oe({type:n,selectors:[["app-register-page"]],features:[$t([Kt,He])],decls:27,vars:0,consts:[[1,"body","bg-light","d-flex","align-items-center","justify-content-center","vh-100"],[1,"card","shadow-lg","p-4","register-card"],[1,"text-center","mb-4"],[1,"mb-3"],[1,"form-label"],["type","text","placeholder","Enter your name","required","",1,"form-control"],["type","email","placeholder","Enter your email","required","",1,"form-control"],["type","password","placeholder","Enter your password","required","",1,"form-control"],["type","password","placeholder","Re-enter password","required","",1,"form-control"],["type","submit",1,"btn","btn-dark","w-100",3,"click"],[1,"text-center","mt-3"],[1,"text-decoration-none",3,"click"]],template:function(t,r){t&1&&(y(0,"div",0)(1,"div",1)(2,"h2",2),E(3,"Create Account"),v(),y(4,"form")(5,"div",3)(6,"label",4),E(7,"Full Name"),v(),V(8,"input",5),v(),y(9,"div",3)(10,"label",4),E(11,"Email"),v(),V(12,"input",6),v(),y(13,"div",3)(14,"label",4),E(15,"Password"),v(),V(16,"input",7),v(),y(17,"div",3)(18,"label",4),E(19,"Confirm Password"),v(),V(20,"input",8),v(),y(21,"button",9),k("click",function(){return r.navigateToHome()}),E(22,"Register"),v()(),y(23,"p",10),E(24,`
Already have an account? `),y(25,"a",11),k("click",function(){return r.navigateToLogin()}),E(26,"Login"),v()()()())},dependencies:[ga,sp,ip,Tl],styles:[".body[_ngcontent-%COMP%]{background:#f0f0f0}.register-card[_ngcontent-%COMP%]{width:420px;border-radius:12px}.register-card[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:45px}.register-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:45px;font-size:1rem}"]})};var Am=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=oe({type:n,selectors:[["app-setting-page"]],decls:2,vars:0,template:function(t,r){t&1&&(we(0,"p"),E(1,"setting-page works!"),Se())},dependencies:[Ye],encapsulation:2})};var Rm=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=oe({type:n,selectors:[["app-not-found"]],decls:2,vars:0,template:function(t,r){t&1&&(we(0,"p"),E(1,"not-found works!"),Se())},dependencies:[Ye],encapsulation:2})};var sO=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:Cm,title:"Home"},{path:"wishlist",component:Im,title:"Watch List"},{path:"details/:id",component:Sm,title:"Details"},{path:"login",component:Tm,title:"Login"},{path:"register",component:Mm,title:"Register"},{path:"setting",component:Am,title:"Setting"},{path:"**",component:Rm,title:"Error"}];var aO={providers:[s_(),Gv({eventCoalescing:!0}),Gy(sO),Ey(),RA(),Kt,He]};var Xi=class n{darkModeSubject=new Te(this.isDarkMode());darkMode$=this.darkModeSubject.asObservable();constructor(){this.applyTheme(this.isDarkMode())}isDarkMode(){let e=localStorage.getItem("darkMode");return e!==null?e==="true":window.matchMedia("(prefers-color-scheme: dark)").matches}toggleDarkMode(){let e=!this.isDarkMode();localStorage.setItem("darkMode",e.toString()),this.darkModeSubject.next(e),this.applyTheme(e)}applyTheme(e){e?(document.documentElement.setAttribute("data-theme","dark"),document.body.style.backgroundColor="#1a1a1a",document.body.style.color="#f0f0f0"):(document.documentElement.removeAttribute("data-theme"),document.body.style.backgroundColor="#ffffff",document.body.style.color="#000000")}getCurrentTheme(){return this.isDarkMode()?"dark":"light"}static \u0275fac=function(t){return new(t||n)};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})};function FG(n,e){if(n&1&&(y(0,"span",24),E(1),v()),n&2){let t=N();I(),ge(" ",t.wishlistCount," ")}}function LG(n,e){if(n&1){let t=Fe();y(0,"li")(1,"a",25),k("click",function(){let i=J(t).$implicit,o=N();return ee(o.changeLang(i))}),V(2,"i",26),E(3),v()()}if(n&2){let t=e.$implicit,r=N();I(),Ve("active",r.getCurrentLanguage()===t),I(),A("ngClass",r.getCurrentLanguage()===t?"fa-check":"fa-circle"),I(),ge(" ",r.languageNames[t]," ")}}function VG(n,e){if(n&1){let t=Fe();y(0,"div")(1,"a",27),V(2,"i",28),E(3),v(),y(4,"ul",29)(5,"li")(6,"a",25),k("click",function(){J(t);let i=N();return ee(i.logout())}),V(7,"i",30),E(8," Logout "),v()()()()}if(n&2){let t=N();I(3),ge(" ",t.currentUser.displayName," ")}}function jG(n,e){if(n&1){let t=Fe();y(0,"a",31),k("click",function(){J(t);let i=N();return ee(i.navigateToLogin())}),V(1,"i",32),E(2," Login "),v()}}var xm=class n{router=p(it);languageService=p(Oi);movieService=p(ki);wishlistService=p(Sn);alertService=p(He);themeService=p(Xi);languages=["en","ar","fr","zh","ru","de"];languageNames={en:"English",ar:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",fr:"Fran\xE7ais",zh:"\u4E2D\u6587",ru:"\u0420\u0443\u0441\u0441\u043A\u0438\u0439",de:"Deutsch"};currentUser=null;wishlistCount=0;isDarkMode=!1;ngOnInit(){let e=localStorage.getItem("currentUser");e&&(this.currentUser=JSON.parse(e)),this.wishlistService.getWishlistCountObservable().subscribe(t=>{this.wishlistCount=t}),this.wishlistCount=this.wishlistService.getWishlistCount(),this.themeService.darkMode$.subscribe(t=>{this.isDarkMode=t}),this.isDarkMode=this.themeService.isDarkMode()}logout(){return g(this,null,function*(){this.wishlistService.setCurrentUserId(null),localStorage.removeItem("currentUser"),this.currentUser=null,yield this.wishlistService.clearWishlist(),this.wishlistCount=0,this.router.navigate(["/home"])})}navigateToHome(){this.router.navigate(["/home"])}navigateToWishlist(){if(!this.wishlistService.getCurrentUserId()){this.alertService.show("Please log in first");return}this.router.navigate(["/wishlist"])}navigateToLogin(){this.router.navigate(["/login"])}changeLang(e){this.languageService.setLanguage(e),this.movieService.setNowPlayingWithLanguage(1,e)}getCurrentLanguage(){return this.languageService.getCurrentLanguage()}toggleDarkMode(){this.themeService.toggleDarkMode()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=oe({type:n,selectors:[["app-header"]],decls:34,vars:11,consts:[["showLogin",""],[1,"navbar","navbar-expand-lg","sticky-top","navbar-dark","shadow-lg"],[1,"container-fluid"],[1,"navbar-brand","d-flex","align-items-center","fw-bold",3,"click"],[1,"fa-solid","fa-film","me-2"],[1,"brand-accent"],["type","button","data-bs-toggle","collapse","data-bs-target","#mainNav","aria-controls","mainNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","mainNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0","align-items-lg-center","gap-2"],[1,"nav-item"],[1,"nav-link","fw-600",3,"click"],[1,"fa-solid","fa-home","me-1"],[1,"nav-link","fw-600","position-relative",3,"click","title"],[1,"fa-solid","fa-heart","me-1"],["class","badge bg-danger position-absolute top-0 start-100 translate-middle",4,"ngIf"],[1,"nav-item","dropdown"],["href","#","id","langDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle","fw-600"],[1,"fa-solid","fa-globe","me-1"],["aria-labelledby","langDropdown",1,"dropdown-menu","dropdown-menu-end","shadow-lg"],[4,"ngFor","ngForOf"],["title","Toggle Dark Mode",1,"nav-link","fw-600",3,"click"],[1,"fa-solid",3,"ngClass"],[4,"ngIf","ngIfElse"],[1,"badge","bg-danger","position-absolute","top-0","start-100","translate-middle"],[1,"dropdown-item","fw-500",3,"click"],[1,"fa-solid","me-2",3,"ngClass"],["href","#","id","userDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle","fw-600","d-flex","align-items-center"],[1,"fa-solid","fa-user-circle","me-2"],["aria-labelledby","userDropdown",1,"dropdown-menu","dropdown-menu-end","shadow-lg"],[1,"fa-solid","fa-sign-out-alt","me-2"],[1,"btn","btn-light","btn-sm","fw-600","px-3",3,"click"],[1,"fa-solid","fa-sign-in-alt","me-1"]],template:function(t,r){if(t&1){let i=Fe();y(0,"nav",1)(1,"div",2)(2,"a",3),k("click",function(){return J(i),ee(r.navigateToHome())}),V(3,"i",4),y(4,"span"),E(5,"Movie"),y(6,"span",5),E(7,"App"),v()()(),y(8,"button",6),V(9,"span",7),v(),y(10,"div",8)(11,"ul",9)(12,"li",10)(13,"a",11),k("click",function(){return J(i),ee(r.navigateToHome())}),V(14,"i",12),E(15," Home "),v()(),y(16,"li",10)(17,"a",13),k("click",function(){return J(i),ee(r.navigateToWishlist())}),V(18,"i",14),E(19," Wishlist "),fe(20,FG,2,1,"span",15),v()(),y(21,"li",16)(22,"a",17),V(23,"i",18),E(24),v(),y(25,"ul",19),fe(26,LG,4,4,"li",20),v()(),y(27,"li",10)(28,"a",21),k("click",function(){return J(i),ee(r.toggleDarkMode())}),V(29,"i",22),v()(),y(30,"li",16),fe(31,VG,9,1,"div",23)(32,jG,3,0,"ng-template",null,0,$v),v()()()()()}if(t&2){let i=jn(33);I(17),Ve("disabled",!r.wishlistService.getCurrentUserId()),A("title",r.wishlistService.getCurrentUserId()?"Wishlist":"Please log in to open wishlist"),Rt("aria-disabled",!r.wishlistService.getCurrentUserId())("tabindex",r.wishlistService.getCurrentUserId()?0:-1),I(3),A("ngIf",r.wishlistCount>0),I(4),ge(" ",r.languageNames[r.getCurrentLanguage()]," "),I(2),A("ngForOf",r.languages),I(3),A("ngClass",r.isDarkMode?"fa-sun":"fa-moon"),I(2),A("ngIf",r.currentUser)("ngIfElse",i)}},dependencies:[Ye,To,_r,$n],styles:[`.navbar[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1030;background:linear-gradient(135deg,#1a2332,#16213e,#0f3460);padding:1rem 0;transition:all .3s ease;box-shadow:0 4px 12px #0f346080}.navbar.navbar-dark[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1a2332,#16213e,#0f3460)}.navbar-brand[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;color:#fff!important;letter-spacing:1px;cursor:pointer;transition:transform .3s ease;text-decoration:none}.navbar-brand[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.navbar-brand[_ngcontent-%COMP%]   .brand-accent[_ngcontent-%COMP%]{color:#00d4ff;font-weight:900;text-shadow:0 2px 4px rgba(0,0,0,.2)}.navbar-brand[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:.5rem}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#ffffffe6!important;font-weight:600;font-size:.95rem;padding:.5rem 1rem!important;margin:0 .25rem;border-radius:6px;transition:all .3s ease;text-decoration:none;cursor:pointer}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#00d4ff!important;background:#ffffff1a;transform:translateY(-2px)}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem}.navbar-toggler[_ngcontent-%COMP%]{border:2px solid rgba(255,255,255,.5);border-radius:6px;padding:.35rem .75rem;transition:all .3s ease}.navbar-toggler[_ngcontent-%COMP%]:hover{border-color:#fff;background:#ffffff1a}.navbar-toggler-icon[_ngcontent-%COMP%]{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%28255, 255, 255, 0.9%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e")}.navbar-nav[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{border:solid white;border-right:2px solid;border-top:2px solid;content:"";display:inline-block;padding:2px;transform:rotate(-45deg) translateY(-2px);vertical-align:.155em;margin-left:.5rem}.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1a2332f2,#16213ef2);border:1px solid rgba(255,255,255,.2);border-radius:10px;padding:.5rem 0;box-shadow:0 8px 24px #00d4ff33;min-width:200px}.navbar-nav[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{color:#ffffffe6;padding:.75rem 1.5rem;transition:all .3s ease;cursor:pointer;display:flex;background:#00d4ff33;color:#00d4ff}.navbar-nav[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background:#ffffff26;color:gold;padding-left:1.75rem}.navbar-nav[_ngcontent-%COMP%]   .dropdown-item.active[_ngcontent-%COMP%]{background:#ffd70033;color:gold;font-weight:700}.navbar-nav[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.75rem;width:16px}.navbar-nav[_ngcontent-%COMP%]   .btn-light[_ngcontent-%COMP%]{background:#fff!important;color:#667eea!important;font-weight:700;border-radius:25px;padding:.5rem 1.25rem!important;transition:all .3s ease;border:2px solid white;cursor:pointer}.navbar-nav[_ngcontent-%COMP%]   .btn-light[_ngcontent-%COMP%]:hover{background:gold!important;color:#333!important;transform:translateY(-2px);box-shadow:0 4px 12px #00d4ff4d}@media (max-width: 991px){.navbar-collapse[_ngcontent-%COMP%]{background:#ffffff0d;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:10px;padding:1rem;margin-top:1rem}.navbar-nav[_ngcontent-%COMP%]{gap:.5rem!important}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:.75rem 1rem!important;border-bottom:1px solid rgba(255,255,255,.1)}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:last-child{border-bottom:none}.navbar-nav[_ngcontent-%COMP%]   .btn-light[_ngcontent-%COMP%]{width:100%;text-align:center;margin-top:.5rem}}@media (max-width: 576px){.navbar[_ngcontent-%COMP%]{padding:.75rem 0}.navbar-brand[_ngcontent-%COMP%], .navbar-brand[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-size:.9rem;padding:.6rem .8rem!important}.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{min-width:150px}.navbar-nav[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding:.6rem 1rem}}.fw-600[_ngcontent-%COMP%]{font-weight:600}.fw-500[_ngcontent-%COMP%]{font-weight:500}.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .navbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{outline:3px solid rgba(255,215,0,.5);outline-offset:2px;border-radius:6px}.navbar-nav[_ngcontent-%COMP%]   .nav-link.disabled[_ngcontent-%COMP%]{opacity:.55;pointer-events:none;cursor:default;filter:grayscale(20%)}`]})};var Nm=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=oe({type:n,selectors:[["app-footer"]],decls:47,vars:0,consts:[[1,"footer","bg-dark","text-light","pt-5","pb-4","mt-5"],[1,"container"],[1,"row"],[1,"col-md-4","mb-4"],[1,"text-uppercase","mb-3"],[1,"col-md-2","mb-4"],[1,"list-unstyled"],["href","#",1,"text-light","text-decoration-none"],[1,"col-md-3","mb-4"],[1,"d-flex","gap-3"],["href","#",1,"text-light","fs-4"],[1,"bi","bi-facebook"],[1,"bi","bi-instagram"],[1,"bi","bi-twitter"],[1,"text-center","mt-4","pt-3","border-top","border-secondary"],[1,"mb-0"]],template:function(t,r){t&1&&(we(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),E(5,"Movie App"),Se(),we(6,"p"),E(7,"Discover movies, create your wishlist, and explore trending films."),Se()(),we(8,"div",5)(9,"h6",4),E(10,"Menu"),Se(),we(11,"ul",6)(12,"li")(13,"a",7),E(14,"Home"),Se()(),we(15,"li")(16,"a",7),E(17,"Wishlist"),Se()(),we(18,"li")(19,"a",7),E(20,"Settings"),Se()()()(),we(21,"div",8)(22,"h6",4),E(23,"Support"),Se(),we(24,"ul",6)(25,"li")(26,"a",7),E(27,"FAQ"),Se()(),we(28,"li")(29,"a",7),E(30,"Contact Us"),Se()(),we(31,"li")(32,"a",7),E(33,"Privacy Policy"),Se()()()(),we(34,"div",8)(35,"h6",4),E(36,"Follow Us"),Se(),we(37,"div",9)(38,"a",10),gn(39,"i",11),Se(),we(40,"a",10),gn(41,"i",12),Se(),we(42,"a",10),gn(43,"i",13),Se()()()(),we(44,"div",14)(45,"p",15),E(46,"\xA9 2025 Movie App. All rights reserved."),Se()()()())},dependencies:[Ye],styles:[".footer[_ngcontent-%COMP%]{background:#111;color:#ddd}.footer[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-weight:600}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{transition:.3s}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff;text-decoration:underline}.footer[_ngcontent-%COMP%]   .border-top[_ngcontent-%COMP%]{border-color:#333!important}body[_ngcontent-%COMP%]{background:#f5f5f5}.login-card[_ngcontent-%COMP%]{width:380px;border-radius:12px}.login-card[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:45px}.login-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:45px;font-size:1rem}body[_ngcontent-%COMP%]{background:#f0f0f0}.register-card[_ngcontent-%COMP%]{width:420px;border-radius:12px}.register-card[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:45px}.register-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:45px;font-size:1rem}"]})};function BG(n,e){if(n&1){let t=Fe();y(0,"button",1),k("click",function(){J(t);let i=N();return ee(i.scrollToTop())}),V(1,"i",2),v()}if(n&2){let t=N();Ve("dark-mode",t.isDarkMode)}}var Pm=class n{isVisible=!1;isDarkMode=!1;themeService=p(Xi);ngOnInit(){this.themeService.darkMode$.subscribe(e=>{this.isDarkMode=e})}onScroll(){this.isVisible=window.pageYOffset>300}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=oe({type:n,selectors:[["app-back-to-top"]],hostBindings:function(t,r){t&1&&k("scroll",function(){return r.onScroll()},hv)},decls:1,vars:1,consts:[["class","back-to-top","title","Back to Top",3,"dark-mode","click",4,"ngIf"],["title","Back to Top",1,"back-to-top",3,"click"],[1,"fa-solid","fa-arrow-up"]],template:function(t,r){t&1&&fe(0,BG,2,2,"button",0),t&2&&A("ngIf",r.isVisible)},dependencies:[Ye,$n],styles:[".back-to-top[_ngcontent-%COMP%]{position:fixed;bottom:30px;right:30px;width:50px;height:50px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:50%;font-size:20px;cursor:pointer;display:flex;align-items:center;justify-content:center;z-index:999;transition:all .3s ease;box-shadow:0 4px 12px #667eea66;animation:_ngcontent-%COMP%_slideUp .3s ease-out}.back-to-top[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 20px #667eea99}.back-to-top[_ngcontent-%COMP%]:active{transform:translateY(-2px)}.back-to-top.dark-mode[_ngcontent-%COMP%]{background:linear-gradient(135deg,#00d4ff,#09c);box-shadow:0 4px 12px #00d4ff66}.back-to-top.dark-mode[_ngcontent-%COMP%]:hover{box-shadow:0 8px 20px #00d4ff99}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.back-to-top[_ngcontent-%COMP%]{width:40px;height:40px;font-size:16px;bottom:20px;right:20px}}"]})};function UG(n,e){n&1&&V(0,"app-header")(1,"router-outlet")(2,"app-footer")}function HG(n,e){n&1&&V(0,"router-outlet")}var Om=class n{constructor(e){this.router=e;this.router.events.subscribe(()=>{let r=this.router.url;r.includes("login")||r.includes("register")?this.showLayout=!1:this.showLayout=!0});let t=this.router.url;(!t||t==="/"||t==="")&&this.router.navigate(["/home"])}title=Bt("Movie-App");themeService=p(Xi);languageService=p(Oi);dir="ltr";isRTL=!1;showLayout=!0;ngOnInit(){this.languageService.language$.subscribe(t=>{if(t==="ar"){this.dir="rtl",this.isRTL=!0;try{document.documentElement.setAttribute("dir","rtl")}catch{}}else{this.dir="ltr",this.isRTL=!1;try{document.documentElement.setAttribute("dir","ltr")}catch{}}}),(localStorage.getItem("language")||"en")==="ar"?(this.dir="rtl",this.isRTL=!0,document.documentElement.setAttribute("dir","rtl")):(this.dir="ltr",this.isRTL=!1,document.documentElement.setAttribute("dir","ltr")),window.addEventListener("storage",t=>{t.key==="language"&&((t.newValue||"en")==="ar"?(this.dir="rtl",this.isRTL=!0,document.documentElement.setAttribute("dir","rtl")):(this.dir="ltr",this.isRTL=!1,document.documentElement.setAttribute("dir","ltr")))})}static \u0275fac=function(t){return new(t||n)(P(it))};static \u0275cmp=oe({type:n,selectors:[["app-root"]],hostVars:3,hostBindings:function(t,r){t&2&&(Df("dir",r.dir),Ve("rtl",r.isRTL))},decls:3,vars:1,template:function(t,r){t&1&&(pn(0,UG,3,0)(1,HG,1,0,"router-outlet"),V(2,"app-back-to-top")),t&2&&mn(r.showLayout?0:1)},dependencies:[ll,xm,Nm,Pm],encapsulation:2})};vy(Om,aO).catch(n=>console.error(n));
